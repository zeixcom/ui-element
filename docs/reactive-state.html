<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Reactive State & Effects – UIElement Docs</title>
		<meta name="description" content="Signals, effects, and advanced reactivity patterns" />
		<base href="./reactive-state.html" />
		<link rel="stylesheet" href="assets/main.css" />
		<script type="module" src="assets/main.js"></script>
	</head>
	<body>
		<client-router>
			<header class="content-grid">
				<h1 class="content">
					UIElement Docs <small>Version 0.13.1</small>
				</h1>
				
	<nav class="breakout">
		<ol>
			
				<li>
					<a href="index.html">
						<span class="icon">📖</span>
						<strong>Introduction</strong>
						<small>Overview and key benefits of UIElement</small>
					</a>
				</li>

				<li>
					<a href="getting-started.html">
						<span class="icon">🚀</span>
						<strong>Getting Started</strong>
						<small>Installation, setup, and first steps</small>
					</a>
				</li>

				<li>
					<a href="core-concepts.html">
						<span class="icon">🏗️</span>
						<strong>Core Concepts</strong>
						<small>Component anatomy, lifecycle, and basic patterns</small>
					</a>
				</li>

				<li>
					<a href="reactive-state.html" class="active">
						<span class="icon">⚡</span>
						<strong>Reactive State & Effects</strong>
						<small>Signals, effects, and advanced reactivity patterns</small>
					</a>
				</li>

				<li>
					<a href="component-communication.html">
						<span class="icon">🔄</span>
						<strong>Component Communication</strong>
						<small>How components work together</small>
					</a>
				</li>

				<li>
					<a href="examples-recipes.html">
						<span class="icon">🍽️</span>
						<strong>Examples & Recipes</strong>
						<small>Common use cases and demos</small>
					</a>
				</li>

				<li>
					<a href="patterns-techniques.html">
						<span class="icon">💡</span>
						<strong>Patterns & Techniques</strong>
						<small>Advanced patterns, testing strategies, and best practices</small>
					</a>
				</li>

				<li>
					<a href="styling-components.html">
						<span class="icon">🎨</span>
						<strong>Styling Components</strong>
						<small>Scoped styles, CSS custom properties</small>
					</a>
				</li>

				<li>
					<a href="api-reference.html">
						<span class="icon">📚</span>
						<strong>API Reference</strong>
						<small>Detailed documentation of classes and functions</small>
					</a>
				</li>

				<li>
					<a href="about-community.html">
						<span class="icon">🤝</span>
						<strong>About & Community</strong>
						<small>License, versioning, getting involved</small>
					</a>
				</li>
		</ol>
	</nav>
				<callout-box class="content danger" hidden>
					<p class="error" role="alert" aria-live="polite"></p>
				</callout-box>
			</header>
			<main><section class="hero">


	            <h1 id="reactive-state-amp-effects">
	                <a name="reactive-state-amp-effects" class="anchor" href="#reactive-state-amp-effects">
		                <span class="permalink">🔗</span>
	                </a>
	                ⚡ Reactive State &amp; Effects
	            </h1><p class="lead"><strong>Master UIElement's powerful reactivity system.</strong> Learn how signals enable fine-grained updates, how effects synchronize state with the DOM, and discover patterns for managing complex state interactions efficiently.</p>
</section>

<section>


	            <h2 id="understanding-signals">
	                <a name="understanding-signals" class="anchor" href="#understanding-signals">
		                <span class="permalink">🔗</span>
	                </a>
	                Understanding Signals
	            </h2><p>Signals are the heart of UIElement&#39;s reactivity system. They&#39;re observable values that automatically notify subscribers when they change.</p>

	            <h3 id="signal-characteristics">
	                <a name="signal-characteristics" class="anchor" href="#signal-characteristics">
		                <span class="permalink">🔗</span>
	                </a>
	                Signal Characteristics
	            </h3><p>Every signal in UIElement has these key properties:</p>
<ul>
<li><strong>Reactive</strong>: Changes automatically trigger updates to dependent effects</li>
<li><strong>Efficient</strong>: Only affected DOM elements are updated, never the entire component</li>
<li><strong>Composable</strong>: Signals can be derived from other signals</li>
<li><strong>Type-safe</strong>: Full TypeScript support with proper type inference</li>
</ul>

	            <h3 id="special-values">
	                <a name="special-values" class="anchor" href="#special-values">
		                <span class="permalink">🔗</span>
	                </a>
	                Special Values
	            </h3><p>UIElement provides special constants for common scenarios:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> { RESET, UNSET } </span><span style="color:#F92672">from</span><span style="color:#E6DB74"> '@zeix/ui-element'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'signal-demo'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#88846F">		// RESET: Use server-rendered content as initial value</span></span>
<span class="line"><span style="color:#F8F8F2">		title: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(RESET),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// UNSET: Remove the element from DOM when signal is falsy</span></span>
<span class="line"><span style="color:#F8F8F2">		message: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(UNSET),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Regular default value</span></span>
<span class="line"><span style="color:#F8F8F2">		count: </span><span style="color:#A6E22E">asInteger</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.title'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'title'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.message'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'message'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.count'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'count'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
<p><strong>When to use each:</strong></p>
<ul>
<li><code>RESET</code> - Server-side rendered content that becomes reactive</li>
<li><code>UNSET</code> - Conditional rendering (show/hide elements)</li>
<li>Default values - Fixed starting states</li>
</ul>
</section>

<section>


	            <h2 id="attribute-parsers-deep-dive">
	                <a name="attribute-parsers-deep-dive" class="anchor" href="#attribute-parsers-deep-dive">
		                <span class="permalink">🔗</span>
	                </a>
	                Attribute Parsers Deep Dive
	            </h2><p>Attribute parsers are functions that tell UIElement to read initial values from HTML attributes and convert them to the appropriate JavaScript types. This is different from using plain values or <code>RESET</code>.</p>

	            <h3 id="when-to-use-parser-functions">
	                <a name="when-to-use-parser-functions" class="anchor" href="#when-to-use-parser-functions">
		                <span class="permalink">🔗</span>
	                </a>
	                When to Use Parser Functions
	            </h3><p>Use parser functions when you want your component to be <strong>configurable via HTML attributes</strong>:</p>
<code-block language="html" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">html</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">&#x3C;!-- Component configured via attributes --></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#F92672">my-component</span><span style="color:#A6E22E"> title</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"Custom Title"</span><span style="color:#A6E22E"> count</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"25"</span><span style="color:#A6E22E"> enabled</span><span style="color:#F8F8F2">>&#x3C;/</span><span style="color:#F92672">my-component</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	
</code-block>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'my-component'</span><span style="color:#F8F8F2">, {</span></span>
<span class="line"><span style="color:#88846F">    // These will read from HTML attributes</span></span>
<span class="line"><span style="color:#F8F8F2">    title: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(),      </span><span style="color:#88846F">// Reads title="" attribute</span></span>
<span class="line"><span style="color:#F8F8F2">    count: </span><span style="color:#A6E22E">asInteger</span><span style="color:#F8F8F2">(),     </span><span style="color:#88846F">// Reads count="" attribute</span></span>
<span class="line"><span style="color:#F8F8F2">    enabled: asBoolean,     </span><span style="color:#88846F">// Reads enabled attribute presence</span></span>
<span class="line"><span style="color:#F8F8F2">}, (</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span><span style="color:#F92672">...</span><span style="color:#F8F8F2">]);</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	
</code-block>

	            <h3 id="built-in-parsers">
	                <a name="built-in-parsers" class="anchor" href="#built-in-parsers">
		                <span class="permalink">🔗</span>
	                </a>
	                Built-in Parsers
	            </h3><code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'parser-showcase'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#88846F">		// String parsing with default and validation</span></span>
<span class="line"><span style="color:#F8F8F2">		name: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'Anonymous'</span><span style="color:#F8F8F2">, {</span></span>
<span class="line"><span style="color:#A6E22E">			validate</span><span style="color:#F8F8F2">: </span><span style="color:#FD971F;font-style:italic">value</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> (value.length </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F92672"> ?</span><span style="color:#F8F8F2"> value </span><span style="color:#F92672">:</span><span style="color:#E6DB74"> 'Anonymous'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		}),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Integer with default and bounds</span></span>
<span class="line"><span style="color:#F8F8F2">		age: </span><span style="color:#A6E22E">asInteger</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">, {</span></span>
<span class="line"><span style="color:#F8F8F2">			min: </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">			max: </span><span style="color:#AE81FF">150</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">		}),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Boolean from attribute presence (no default needed)</span></span>
<span class="line"><span style="color:#F8F8F2">		active: asBoolean, </span><span style="color:#88846F">// true if attribute exists and isn't "false"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Enum-like string validation</span></span>
<span class="line"><span style="color:#F8F8F2">		status: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'pending'</span><span style="color:#F8F8F2">, {</span></span>
<span class="line"><span style="color:#A6E22E">			validate</span><span style="color:#F8F8F2">: </span><span style="color:#FD971F;font-style:italic">value</span><span style="color:#66D9EF;font-style:italic"> =></span></span>
<span class="line"><span style="color:#F8F8F2">				[</span><span style="color:#E6DB74">'pending'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'active'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'completed'</span><span style="color:#F8F8F2">].</span><span style="color:#A6E22E">includes</span><span style="color:#F8F8F2">(value)</span></span>
<span class="line"><span style="color:#F92672">					?</span><span style="color:#F8F8F2"> value</span></span>
<span class="line"><span style="color:#F92672">					:</span><span style="color:#E6DB74"> 'pending'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">		}),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.name'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'name'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.age'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'age'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.status'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'status'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.indicator'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'active'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'active'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> (el.active </span><span style="color:#F92672">?</span><span style="color:#E6DB74"> 'Active'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'Inactive'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h3 id="parser-function-defaults">
	                <a name="parser-function-defaults" class="anchor" href="#parser-function-defaults">
		                <span class="permalink">🔗</span>
	                </a>
	                Parser Function Defaults
	            </h3><p>All parser functions ensure non-nullability by providing sensible defaults:</p>
<ul>
<li><code>asString()</code> without argument defaults to <code>&quot;&quot;</code></li>
<li><code>asInteger()</code> without argument defaults to <code>0</code></li>
<li><code>asNumber()</code> without argument defaults to <code>0</code></li>
<li><code>asBoolean</code> doesn&#39;t need a default - automatically determines true/false</li>
</ul>

	            <h3 id="boolean-parser-special-behavior">
	                <a name="boolean-parser-special-behavior" class="anchor" href="#boolean-parser-special-behavior">
		                <span class="permalink">🔗</span>
	                </a>
	                Boolean Parser Special Behavior
	            </h3><p>The <code>asBoolean</code> parser has unique logic for determining true/false:</p>
<code-block collapsed language="html" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">html</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#F92672">my-component</span><span style="color:#A6E22E"> enabled</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#88846F">	&#x3C;!-- enabled = true --></span></span>
<span class="line"><span style="color:#F8F8F2">	&#x3C;</span><span style="color:#F92672">my-component</span><span style="color:#A6E22E"> enabled</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"true"</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#88846F">		&#x3C;!-- enabled = true --></span></span>
<span class="line"><span style="color:#F8F8F2">		&#x3C;</span><span style="color:#F92672">my-component</span><span style="color:#A6E22E"> enabled</span><span style="color:#F8F8F2">=</span><span style="color:#E6DB74">"false"</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#88846F">			&#x3C;!-- enabled = false --></span></span>
<span class="line"><span style="color:#F8F8F2">			&#x3C;</span><span style="color:#F92672">my-component</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#88846F">				&#x3C;!-- enabled = false (missing) --></span><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#F92672">my-component</span></span>
<span class="line"><span style="color:#F8F8F2">			>&#x3C;/</span><span style="color:#F92672">my-component</span></span>
<span class="line"><span style="color:#F8F8F2">		>&#x3C;/</span><span style="color:#F92672">my-component</span></span>
<span class="line"><span style="color:#F8F8F2">	>&#x3C;/</span><span style="color:#F92672">my-component</span></span>
<span class="line"><span style="color:#F8F8F2">></span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'my-component'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		enabled: asBoolean,</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.status'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> (el.enabled </span><span style="color:#F92672">?</span><span style="color:#E6DB74"> 'Enabled'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'Disabled'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h3 id="custom-attribute-parsers">
	                <a name="custom-attribute-parsers" class="anchor" href="#custom-attribute-parsers">
		                <span class="permalink">🔗</span>
	                </a>
	                Custom Attribute Parsers
	            </h3><p>Create your own parsers for complex data types:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// Custom date parser</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">const</span><span style="color:#F8F8F2"> asDate </span><span style="color:#F92672">=</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">defaultValue</span><span style="color:#F92672"> =</span><span style="color:#F92672"> new</span><span style="color:#A6E22E"> Date</span><span style="color:#F8F8F2">()) </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">attrValue</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F92672">		if</span><span style="color:#F8F8F2"> (attrValue </span><span style="color:#F92672">===</span><span style="color:#F8F8F2"> RESET) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">			const</span><span style="color:#F8F8F2"> timeEl </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> el.</span><span style="color:#A6E22E">querySelector</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'time'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F92672">			return</span><span style="color:#F8F8F2"> timeEl </span><span style="color:#F92672">?</span><span style="color:#F92672"> new</span><span style="color:#A6E22E"> Date</span><span style="color:#F8F8F2">(timeEl.dateTime) </span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> defaultValue</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F92672">		return</span><span style="color:#F8F8F2"> attrValue </span><span style="color:#F92672">?</span><span style="color:#F92672"> new</span><span style="color:#A6E22E"> Date</span><span style="color:#F8F8F2">(attrValue) </span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> defaultValue</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Custom JSON parser</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">const</span><span style="color:#F8F8F2"> asJSON </span><span style="color:#F92672">=</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">defaultValue</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> {}) </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">attrValue</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F92672">		if</span><span style="color:#F8F8F2"> (attrValue </span><span style="color:#F92672">===</span><span style="color:#F8F8F2"> RESET) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">			const</span><span style="color:#F8F8F2"> scriptEl </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> el.</span><span style="color:#A6E22E">querySelector</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'script[type="application/json"]'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F92672">			return</span><span style="color:#F8F8F2"> scriptEl </span><span style="color:#F92672">?</span><span style="color:#F8F8F2"> JSON.</span><span style="color:#A6E22E">parse</span><span style="color:#F8F8F2">(scriptEl.textContent) </span><span style="color:#F92672">:</span><span style="color:#F8F8F2"> defaultValue</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F92672">		try</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F92672">			return</span><span style="color:#F8F8F2"> JSON.</span><span style="color:#A6E22E">parse</span><span style="color:#F8F8F2">(attrValue </span><span style="color:#F92672">||</span><span style="color:#E6DB74"> '{}'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">		} </span><span style="color:#F92672">catch</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F92672">			return</span><span style="color:#F8F8F2"> defaultValue</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'data-component'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		created: </span><span style="color:#A6E22E">asDate</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#F8F8F2">		config: </span><span style="color:#A6E22E">asJSON</span><span style="color:#F8F8F2">({ theme: </span><span style="color:#E6DB74">'light'</span><span style="color:#F8F8F2"> }),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.created'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> el.created.</span><span style="color:#A6E22E">toLocaleDateString</span><span style="color:#F8F8F2">()),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.theme'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> el.config.theme),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
</section>

<section>


	            <h2 id="effect-system">
	                <a name="effect-system" class="anchor" href="#effect-system">
		                <span class="permalink">🔗</span>
	                </a>
	                Effect System
	            </h2><p>Effects define how your component responds to state changes. They&#39;re the bridge between reactive state and DOM updates.</p>

	            <h3 id="built-in-effects">
	                <a name="built-in-effects" class="anchor" href="#built-in-effects">
		                <span class="permalink">🔗</span>
	                </a>
	                Built-in Effects
	            </h3><p>UIElement provides effects for common DOM manipulations:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'effect-showcase'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		text: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'Hello'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		count: </span><span style="color:#A6E22E">asInteger</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		visible: </span><span style="color:#A6E22E">asBoolean</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">true</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		disabled: </span><span style="color:#A6E22E">asBoolean</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">false</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#88846F">		// Text content updates</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.text'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'text'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.count'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'count'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Property updates</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.input'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'value'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'text'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'disabled'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'disabled'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Attribute updates</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.link'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setAttribute</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'href'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `/page/</span><span style="color:#F92672">${</span><span style="color:#F8F8F2">el.count</span><span style="color:#F92672">}</span><span style="color:#E6DB74">`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			setAttribute</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'aria-label'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'text'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Class management</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.status'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'visible'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'visible'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'has-content'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> el.text.length </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Style updates</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.progress'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'width'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `</span><span style="color:#F92672">${</span><span style="color:#F8F8F2">el.count</span><span style="color:#F92672">}</span><span style="color:#E6DB74">%`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'opacity'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> (el.visible </span><span style="color:#F92672">?</span><span style="color:#AE81FF"> 1</span><span style="color:#F92672"> :</span><span style="color:#AE81FF"> 0.5</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h3 id="effect-composition">
	                <a name="effect-composition" class="anchor" href="#effect-composition">
		                <span class="permalink">🔗</span>
	                </a>
	                Effect Composition
	            </h3><p>Combine multiple effects on the same element:</p>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'.button'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">	setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'label'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">	setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'disabled'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'isDisabled'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">	toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'primary'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'isPrimary'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">	setAttribute</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'aria-pressed'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> (el.isPressed </span><span style="color:#F92672">?</span><span style="color:#E6DB74"> 'true'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'false'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#A6E22E">	on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'click'</span><span style="color:#F8F8F2">, handleClick),</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	
</code-block>

	            <h3 id="custom-effects">
	                <a name="custom-effects" class="anchor" href="#custom-effects">
		                <span class="permalink">🔗</span>
	                </a>
	                Custom Effects
	            </h3><p>Create reusable effects for complex behaviors:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// Custom effect for form validation</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">const</span><span style="color:#A6E22E"> validateField</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> (</span><span style="color:#FD971F;font-style:italic">validationFn</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">errorMessage</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> (</span><span style="color:#FD971F;font-style:italic">element</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">signal</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">	const</span><span style="color:#A6E22E"> update</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> isValid </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> validationFn</span><span style="color:#F8F8F2">(</span><span style="color:#A6E22E">signal</span><span style="color:#F8F8F2">())</span></span>
<span class="line"><span style="color:#F8F8F2">		element.classList.</span><span style="color:#A6E22E">toggle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'error'</span><span style="color:#F8F8F2">, </span><span style="color:#F92672">!</span><span style="color:#F8F8F2">isValid)</span></span>
<span class="line"><span style="color:#F8F8F2">		element.</span><span style="color:#A6E22E">setAttribute</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'aria-invalid'</span><span style="color:#F8F8F2">, isValid </span><span style="color:#F92672">?</span><span style="color:#E6DB74"> 'false'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'true'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		let</span><span style="color:#F8F8F2"> errorEl </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> element.nextElementSibling</span></span>
<span class="line"><span style="color:#F92672">		if</span><span style="color:#F8F8F2"> (</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">errorEl </span><span style="color:#F92672">||</span><span style="color:#F92672"> !</span><span style="color:#F8F8F2">errorEl.classList.</span><span style="color:#A6E22E">contains</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'error-message'</span><span style="color:#F8F8F2">)) {</span></span>
<span class="line"><span style="color:#F8F8F2">			errorEl </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> document.</span><span style="color:#A6E22E">createElement</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'div'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">			errorEl.className </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'error-message'</span></span>
<span class="line"><span style="color:#F8F8F2">			element.</span><span style="color:#A6E22E">after</span><span style="color:#F8F8F2">(errorEl)</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F8F8F2">		errorEl.textContent </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> isValid </span><span style="color:#F92672">?</span><span style="color:#E6DB74"> ''</span><span style="color:#F92672"> :</span><span style="color:#F8F8F2"> errorMessage</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">	update</span><span style="color:#F8F8F2">() </span><span style="color:#88846F">// Initial state</span></span>
<span class="line"><span style="color:#F92672">	return</span><span style="color:#F8F8F2"> update </span><span style="color:#88846F">// Update function</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Usage</span></span>
<span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'validated-form'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		email: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">''</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		password: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">''</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.email-input'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'value'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'email'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'input'</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">e</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> (el.email </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> e.target.value)),</span></span>
<span class="line"><span style="color:#A6E22E">			validateField</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">				email</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#E6DB74"> /</span><span style="color:#F92672">^</span><span style="color:#AE81FF">[</span><span style="color:#F92672">^</span><span style="color:#AE81FF">\s@]</span><span style="color:#F92672">+</span><span style="color:#E6DB74">@</span><span style="color:#AE81FF">[</span><span style="color:#F92672">^</span><span style="color:#AE81FF">\s@]</span><span style="color:#F92672">+</span><span style="color:#AE81FF">\.[</span><span style="color:#F92672">^</span><span style="color:#AE81FF">\s@]</span><span style="color:#F92672">+$</span><span style="color:#E6DB74">/</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">test</span><span style="color:#F8F8F2">(email),</span></span>
<span class="line"><span style="color:#E6DB74">				'Please enter a valid email address'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.password-input'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'value'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'password'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'input'</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">e</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> (el.password </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> e.target.value)),</span></span>
<span class="line"><span style="color:#A6E22E">			validateField</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic">				password</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> password.length </span><span style="color:#F92672">>=</span><span style="color:#AE81FF"> 8</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#E6DB74">				'Password must be at least 8 characters'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
</section>

<section>


	            <h2 id="local-signals-for-protected-state">
	                <a name="local-signals-for-protected-state" class="anchor" href="#local-signals-for-protected-state">
		                <span class="permalink">🔗</span>
	                </a>
	                Local Signals for Protected State
	            </h2><p>Use local signals for internal component state that shouldn&#39;t be exposed as attributes:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'toggle-button'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#88846F">		// Public state (attribute-driven)</span></span>
<span class="line"><span style="color:#F8F8F2">		label: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'Toggle'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		disabled: </span><span style="color:#A6E22E">asBoolean</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">false</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">		// Private state (internal only)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> isPressed </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> signal</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">false</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> animating </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> signal</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">false</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">		return</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'button'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'label'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">				setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'disabled'</span><span style="color:#F8F8F2">, </span><span style="color:#E6DB74">'disabled'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">				setAttribute</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'aria-pressed'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#A6E22E">					isPressed</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">?</span><span style="color:#E6DB74"> 'true'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'false'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">				),</span></span>
<span class="line"><span style="color:#A6E22E">				toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'pressed'</span><span style="color:#F8F8F2">, isPressed),</span></span>
<span class="line"><span style="color:#A6E22E">				toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'animating'</span><span style="color:#F8F8F2">, animating),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">				on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'click'</span><span style="color:#F8F8F2">, </span><span style="color:#F92672">async</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F92672">					if</span><span style="color:#F8F8F2"> (el.disabled </span><span style="color:#F92672">||</span><span style="color:#A6E22E"> animating</span><span style="color:#F8F8F2">()) </span><span style="color:#F92672">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">					animating.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">true</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">					isPressed.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">!</span><span style="color:#A6E22E">isPressed</span><span style="color:#F8F8F2">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">					// Simulate animation duration</span></span>
<span class="line"><span style="color:#F92672">					await</span><span style="color:#F92672"> new</span><span style="color:#66D9EF;font-style:italic"> Promise</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">resolve</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#A6E22E"> setTimeout</span><span style="color:#F8F8F2">(resolve, </span><span style="color:#AE81FF">200</span><span style="color:#F8F8F2">))</span></span>
<span class="line"><span style="color:#F8F8F2">					animating.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">false</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">					// Emit custom event</span></span>
<span class="line"><span style="color:#F8F8F2">					el.</span><span style="color:#A6E22E">dispatchEvent</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F92672">						new</span><span style="color:#A6E22E"> CustomEvent</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'toggle'</span><span style="color:#F8F8F2">, {</span></span>
<span class="line"><span style="color:#F8F8F2">							detail: { pressed: </span><span style="color:#A6E22E">isPressed</span><span style="color:#F8F8F2">() },</span></span>
<span class="line"><span style="color:#F8F8F2">						}),</span></span>
<span class="line"><span style="color:#F8F8F2">					)</span></span>
<span class="line"><span style="color:#F8F8F2">				}),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		]</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
<p><strong>Benefits of local signals:</strong></p>
<ul>
<li>Keep implementation details private</li>
<li>Prevent external modification of critical state</li>
<li>Enable complex internal state machines</li>
<li>Maintain clean public APIs</li>
</ul>
</section>

<section>


	            <h2 id="derived-state-with-functions">
	                <a name="derived-state-with-functions" class="anchor" href="#derived-state-with-functions">
		                <span class="permalink">🔗</span>
	                </a>
	                Derived State with Functions
	            </h2><p>Use functions for computed values that depend on multiple signals:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'shopping-cart'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		items: </span><span style="color:#A6E22E">asJSON</span><span style="color:#F8F8F2">([]),</span></span>
<span class="line"><span style="color:#F8F8F2">		taxRate: </span><span style="color:#A6E22E">asNumber</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0.08</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		discount: </span><span style="color:#A6E22E">asNumber</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">		// Derived calculations</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#A6E22E"> subtotal</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#F8F8F2">			el.items.</span><span style="color:#A6E22E">reduce</span><span style="color:#F8F8F2">((</span><span style="color:#FD971F;font-style:italic">sum</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">item</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> sum </span><span style="color:#F92672">+</span><span style="color:#F8F8F2"> item.price </span><span style="color:#F92672">*</span><span style="color:#F8F8F2"> item.quantity, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#A6E22E"> tax</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> subtotal</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">*</span><span style="color:#F8F8F2"> el.taxRate</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#A6E22E"> total</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> subtotal</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">+</span><span style="color:#A6E22E"> tax</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">-</span><span style="color:#F8F8F2"> el.discount</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#A6E22E"> itemCount</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#F8F8F2">			el.items.</span><span style="color:#A6E22E">reduce</span><span style="color:#F8F8F2">((</span><span style="color:#FD971F;font-style:italic">sum</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">item</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> sum </span><span style="color:#F92672">+</span><span style="color:#F8F8F2"> item.quantity, </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">		return</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.item-count'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(itemCount)),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.subtotal'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `$</span><span style="color:#F92672">${</span><span style="color:#A6E22E">subtotal</span><span style="color:#F8F8F2">().</span><span style="color:#A6E22E">toFixed</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span><span style="color:#F92672">}</span><span style="color:#E6DB74">`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.tax'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `$</span><span style="color:#F92672">${</span><span style="color:#A6E22E">tax</span><span style="color:#F8F8F2">().</span><span style="color:#A6E22E">toFixed</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span><span style="color:#F92672">}</span><span style="color:#E6DB74">`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.discount'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `$</span><span style="color:#F92672">${</span><span style="color:#F8F8F2">el.discount.</span><span style="color:#A6E22E">toFixed</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span><span style="color:#F92672">}</span><span style="color:#E6DB74">`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.total'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `$</span><span style="color:#F92672">${</span><span style="color:#A6E22E">total</span><span style="color:#F8F8F2">().</span><span style="color:#A6E22E">toFixed</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">2</span><span style="color:#F8F8F2">)</span><span style="color:#F92672">}</span><span style="color:#E6DB74">`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">			// Conditional rendering based on derived state</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.empty-message'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'display'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#A6E22E">					itemCount</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">===</span><span style="color:#AE81FF"> 0</span><span style="color:#F92672"> ?</span><span style="color:#E6DB74"> 'block'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'none'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">				),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.checkout-button'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setProperty</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'disabled'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> total</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">&#x3C;=</span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		]</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
<p><strong>When to use functions vs signals:</strong></p>
<ul>
<li><strong>Functions</strong> - For computed values that depend on existing state</li>
<li><strong>Signals</strong> - For independent state that can be modified directly</li>
</ul>
</section>

<section>


	            <h2 id="understanding-uielement39s-scheduled-effect-system">
	                <a name="understanding-uielement39s-scheduled-effect-system" class="anchor" href="#understanding-uielement39s-scheduled-effect-system">
		                <span class="permalink">🔗</span>
	                </a>
	                Understanding UIElement&#39;s Scheduled Effect System
	            </h2><p>UIElement uses a <strong>scheduled effect system</strong> that batches DOM updates for optimal performance. Understanding this timing is crucial for building reliable components.</p>

	            <h3 id="how-effects-are-scheduled">
	                <a name="how-effects-are-scheduled" class="anchor" href="#how-effects-are-scheduled">
		                <span class="permalink">🔗</span>
	                </a>
	                How Effects Are Scheduled
	            </h3><p>When you change a component property, DOM updates don&#39;t happen immediately:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'timing-demo'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		count: </span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.display'</span><span style="color:#F8F8F2">, </span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'count'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'button'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'click'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">				el.count</span><span style="color:#F92672">++</span><span style="color:#88846F"> // Property changes immediately</span></span>
<span class="line"><span style="color:#F8F8F2">				console.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(el.count) </span><span style="color:#88846F">// Shows new value: 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">				// But DOM update is scheduled, not immediate</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">				const</span><span style="color:#F8F8F2"> display </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> el.</span><span style="color:#A6E22E">querySelector</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.display'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">				console.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(display.textContent) </span><span style="color:#88846F">// Still shows old value: "0"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">				// DOM update happens after current microtask</span></span>
<span class="line"><span style="color:#A6E22E">				queueMicrotask</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">					console.</span><span style="color:#A6E22E">log</span><span style="color:#F8F8F2">(display.textContent) </span><span style="color:#88846F">// Now shows: "1"</span></span>
<span class="line"><span style="color:#F8F8F2">				})</span></span>
<span class="line"><span style="color:#F8F8F2">			}),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
<p><strong>Key insight:</strong> Property changes are immediate, but DOM updates are batched and scheduled.</p>

	            <h3 id="timing-patterns-for-different-operations">
	                <a name="timing-patterns-for-different-operations" class="anchor" href="#timing-patterns-for-different-operations">
		                <span class="permalink">🔗</span>
	                </a>
	                Timing Patterns for Different Operations
	            </h3><p><strong>For reactive property updates (most common):</strong></p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// Change properties</span></span>
<span class="line"><span style="color:#F8F8F2">el.name </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'Alice'</span></span>
<span class="line"><span style="color:#F8F8F2">el.count </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Wait for DOM updates</span></span>
<span class="line"><span style="color:#F92672">await</span><span style="color:#F92672"> new</span><span style="color:#66D9EF;font-style:italic"> Promise</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">resolve</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#A6E22E"> requestAnimationFrame</span><span style="color:#F8F8F2">(resolve))</span></span>
<span class="line"><span style="color:#88846F">// or</span></span>
<span class="line"><span style="color:#A6E22E">queueMicrotask</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">	// DOM is now updated</span></span>
<span class="line"><span style="color:#F8F8F2">})</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
<p><strong>For async operations (network requests, complex initialization):</strong></p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'async-component'</span><span style="color:#F8F8F2">, {}, (</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#88846F">	// Component lifecycle effect</span></span>
<span class="line"><span style="color:#F8F8F2">	() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">		// This runs when component mounts</span></span>
<span class="line"><span style="color:#A6E22E">		setTimeout</span><span style="color:#F8F8F2">(</span><span style="color:#F92672">async</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">			const</span><span style="color:#F8F8F2"> data </span><span style="color:#F92672">=</span><span style="color:#F92672"> await</span><span style="color:#A6E22E"> fetch</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'/api/data'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">			el.data </span><span style="color:#F92672">=</span><span style="color:#F92672"> await</span><span style="color:#F8F8F2"> data.</span><span style="color:#A6E22E">json</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">		}, </span><span style="color:#AE81FF">200</span><span style="color:#F8F8F2">) </span><span style="color:#88846F">// Allow time for async operations</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">		return</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">			// Cleanup when component unmounts</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">])</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h3 id="batched-updates-in-action">
	                <a name="batched-updates-in-action" class="anchor" href="#batched-updates-in-action">
		                <span class="permalink">🔗</span>
	                </a>
	                Batched Updates in Action
	            </h3><p>Multiple property changes in the same execution context are automatically batched:</p>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// All these changes happen in the same batch</span></span>
<span class="line"><span style="color:#F8F8F2">el.user </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> { </span><span style="color:#F92672">...</span><span style="color:#F8F8F2">el.user, name: </span><span style="color:#E6DB74">'Alice'</span><span style="color:#F8F8F2"> }</span></span>
<span class="line"><span style="color:#F8F8F2">el.theme </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'dark'</span></span>
<span class="line"><span style="color:#F8F8F2">el.notifications </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 5</span></span>
<span class="line"><span style="color:#F8F8F2">el.isActive </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Only ONE DOM update cycle occurs after all changes</span></span>
<span class="line"><span style="color:#88846F">// Much more efficient than updating after each property change</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	
</code-block>

	            <h3 id="testing-implications">
	                <a name="testing-implications" class="anchor" href="#testing-implications">
		                <span class="permalink">🔗</span>
	                </a>
	                Testing Implications
	            </h3><p>When testing components, you need to account for the scheduled effects:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// In tests, wait for effects to apply</span></span>
<span class="line"><span style="color:#A6E22E">it</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'updates display when count changes'</span><span style="color:#F8F8F2">, </span><span style="color:#F92672">async</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">	const</span><span style="color:#F8F8F2"> component </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> document.</span><span style="color:#A6E22E">querySelector</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'my-component'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">	component.count </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">	// Wait for scheduled effect to run</span></span>
<span class="line"><span style="color:#F92672">	await</span><span style="color:#F92672"> new</span><span style="color:#66D9EF;font-style:italic"> Promise</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">resolve</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#A6E22E"> requestAnimationFrame</span><span style="color:#F8F8F2">(resolve))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">	expect</span><span style="color:#F8F8F2">(component.</span><span style="color:#A6E22E">querySelector</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.count'</span><span style="color:#F8F8F2">).textContent).</span><span style="color:#A6E22E">toBe</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'5'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">})</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h2 id="efficient-updates-amp-performance">
	                <a name="efficient-updates-amp-performance" class="anchor" href="#efficient-updates-amp-performance">
		                <span class="permalink">🔗</span>
	                </a>
	                Efficient Updates &amp; Performance
	            </h2><p>UIElement&#39;s reactivity system is designed for maximum efficiency:</p>

	            <h3 id="fine-grained-updates">
	                <a name="fine-grained-updates" class="anchor" href="#fine-grained-updates">
		                <span class="permalink">🔗</span>
	                </a>
	                Fine-Grained Updates
	            </h3><p>Only the specific DOM elements that depend on changed state are updated:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'performance-demo'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		user: </span><span style="color:#A6E22E">asJSON</span><span style="color:#F8F8F2">({ name: </span><span style="color:#E6DB74">''</span><span style="color:#F8F8F2">, email: </span><span style="color:#E6DB74">''</span><span style="color:#F8F8F2">, avatar: </span><span style="color:#E6DB74">''</span><span style="color:#F8F8F2"> }),</span></span>
<span class="line"><span style="color:#F8F8F2">		theme: </span><span style="color:#A6E22E">asString</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'light'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		notifications: </span><span style="color:#A6E22E">asInteger</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">all</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#88846F">		// Only updates when user.name changes</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.user-name'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> el.user.name),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Only updates when user.email changes</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.user-email'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> el.user.email),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Only updates when theme changes</span></span>
<span class="line"><span style="color:#A6E22E">		all</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.themed'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'dark'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> el.theme </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'dark'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">		// Only updates when notifications change</span></span>
<span class="line"><span style="color:#A6E22E">		first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">			'.notification-badge'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">			setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'notifications'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">			setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'display'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#F8F8F2">				el.notifications </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F92672"> ?</span><span style="color:#E6DB74"> 'block'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'none'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		),</span></span>
<span class="line"><span style="color:#F8F8F2">	],</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h3 id="batched-updates">
	                <a name="batched-updates" class="anchor" href="#batched-updates">
		                <span class="permalink">🔗</span>
	                </a>
	                Batched Updates
	            </h3><p>Multiple state changes in the same microtask are automatically batched:</p>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// These updates will be batched together</span></span>
<span class="line"><span style="color:#F8F8F2">el.user </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> { </span><span style="color:#F92672">...</span><span style="color:#F8F8F2">el.user, name: </span><span style="color:#E6DB74">'Alice'</span><span style="color:#F8F8F2"> }</span></span>
<span class="line"><span style="color:#F8F8F2">el.theme </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> 'dark'</span></span>
<span class="line"><span style="color:#F8F8F2">el.notifications </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 5</span></span>
<span class="line"><span style="color:#88846F">// DOM updates happen once, after all changes</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	
</code-block>

	            <h3 id="avoiding-unnecessary-work">
	                <a name="avoiding-unnecessary-work" class="anchor" href="#avoiding-unnecessary-work">
		                <span class="permalink">🔗</span>
	                </a>
	                Avoiding Unnecessary Work
	            </h3><p>UIElement skips updates when values haven&#39;t actually changed:</p>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#88846F">// No DOM update occurs if the value is the same</span></span>
<span class="line"><span style="color:#F8F8F2">el.count </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 5</span></span>
<span class="line"><span style="color:#F8F8F2">el.count </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 5</span><span style="color:#88846F"> // No effect - value unchanged</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">// Object/array changes are detected by reference</span></span>
<span class="line"><span style="color:#F8F8F2">el.items </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> [</span><span style="color:#F92672">...</span><span style="color:#F8F8F2">el.items] </span><span style="color:#88846F">// Triggers update</span></span>
<span class="line"><span style="color:#F8F8F2">el.items </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> el.items </span><span style="color:#88846F">// No update - same reference</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	
</code-block>
</section>

<section>


	            <h2 id="advanced-patterns">
	                <a name="advanced-patterns" class="anchor" href="#advanced-patterns">
		                <span class="permalink">🔗</span>
	                </a>
	                Advanced Patterns
	            </h2>
	            <h3 id="state-machines-with-signals">
	                <a name="state-machines-with-signals" class="anchor" href="#state-machines-with-signals">
		                <span class="permalink">🔗</span>
	                </a>
	                State Machines with Signals
	            </h3><p>Implement complex state logic using local signals:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'file-uploader'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		files: </span><span style="color:#A6E22E">asJSON</span><span style="color:#F8F8F2">([]),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> state </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> signal</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'idle'</span><span style="color:#F8F8F2">) </span><span style="color:#88846F">// idle, uploading, success, error</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> progress </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> signal</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> error </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> signal</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">''</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#A6E22E"> upload</span><span style="color:#F92672"> =</span><span style="color:#F92672"> async</span><span style="color:#FD971F;font-style:italic"> files</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">			state.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'uploading'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">			progress.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#AE81FF">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">			try</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F92672">				for</span><span style="color:#F8F8F2"> (</span><span style="color:#66D9EF;font-style:italic">let</span><span style="color:#F8F8F2"> i </span><span style="color:#F92672">=</span><span style="color:#AE81FF"> 0</span><span style="color:#F8F8F2">; i </span><span style="color:#F92672">&#x3C;</span><span style="color:#F8F8F2"> files.length; i</span><span style="color:#F92672">++</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F92672">					await</span><span style="color:#A6E22E"> uploadFile</span><span style="color:#F8F8F2">(files[i])</span></span>
<span class="line"><span style="color:#F8F8F2">					progress.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(((i </span><span style="color:#F92672">+</span><span style="color:#AE81FF"> 1</span><span style="color:#F8F8F2">) </span><span style="color:#F92672">/</span><span style="color:#F8F8F2"> files.length) </span><span style="color:#F92672">*</span><span style="color:#AE81FF"> 100</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">				}</span></span>
<span class="line"><span style="color:#F8F8F2">				state.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'success'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">			} </span><span style="color:#F92672">catch</span><span style="color:#F8F8F2"> (err) {</span></span>
<span class="line"><span style="color:#F8F8F2">				state.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'error'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">				error.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(err.message)</span></span>
<span class="line"><span style="color:#F8F8F2">			}</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">		return</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.drop-zone'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'uploading'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> state</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'uploading'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">				toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'success'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> state</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'success'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">				toogleClass</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'error'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> state</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'error'</span><span style="color:#F8F8F2">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">				on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'drop'</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">e</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">					e.</span><span style="color:#A6E22E">preventDefault</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#A6E22E">					upload</span><span style="color:#F8F8F2">(Array.</span><span style="color:#A6E22E">from</span><span style="color:#F8F8F2">(e.dataTransfer.files))</span></span>
<span class="line"><span style="color:#F8F8F2">				}),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.progress-bar'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'width'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#E6DB74"> `</span><span style="color:#F92672">${</span><span style="color:#A6E22E">progress</span><span style="color:#F8F8F2">()</span><span style="color:#F92672">}</span><span style="color:#E6DB74">%`</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#A6E22E">				setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'display'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#A6E22E">					state</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'uploading'</span><span style="color:#F92672"> ?</span><span style="color:#E6DB74"> 'block'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'none'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">				),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.error-message'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				setText</span><span style="color:#F8F8F2">(error),</span></span>
<span class="line"><span style="color:#A6E22E">				setStyle</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'display'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span></span>
<span class="line"><span style="color:#A6E22E">					state</span><span style="color:#F8F8F2">() </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'error'</span><span style="color:#F92672"> ?</span><span style="color:#E6DB74"> 'block'</span><span style="color:#F92672"> :</span><span style="color:#E6DB74"> 'none'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">				),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		]</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>

	            <h3 id="reactive-collections">
	                <a name="reactive-collections" class="anchor" href="#reactive-collections">
		                <span class="permalink">🔗</span>
	                </a>
	                Reactive Collections
	            </h3><p>Handle dynamic lists efficiently:</p>
<code-block collapsed language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#A6E22E">component</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">	'todo-list'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		todos: </span><span style="color:#A6E22E">asJSON</span><span style="color:#F8F8F2">([]),</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">	(</span><span style="color:#FD971F;font-style:italic">el</span><span style="color:#F8F8F2">, { </span><span style="color:#FD971F;font-style:italic">first</span><span style="color:#F8F8F2"> }) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#F8F8F2"> filter </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> signal</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'all'</span><span style="color:#F8F8F2">) </span><span style="color:#88846F">// all, active, completed</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">		const</span><span style="color:#A6E22E"> filteredTodos</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">			const</span><span style="color:#F8F8F2"> todos </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> el.todos</span></span>
<span class="line"><span style="color:#F92672">			switch</span><span style="color:#F8F8F2"> (</span><span style="color:#A6E22E">filter</span><span style="color:#F8F8F2">()) {</span></span>
<span class="line"><span style="color:#F92672">				case</span><span style="color:#E6DB74"> 'active'</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F92672">					return</span><span style="color:#F8F8F2"> todos.</span><span style="color:#A6E22E">filter</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">todo</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F92672"> !</span><span style="color:#F8F8F2">todo.completed)</span></span>
<span class="line"><span style="color:#F92672">				case</span><span style="color:#E6DB74"> 'completed'</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F92672">					return</span><span style="color:#F8F8F2"> todos.</span><span style="color:#A6E22E">filter</span><span style="color:#F8F8F2">(</span><span style="color:#FD971F;font-style:italic">todo</span><span style="color:#66D9EF;font-style:italic"> =></span><span style="color:#F8F8F2"> todo.completed)</span></span>
<span class="line"><span style="color:#F92672">				default</span><span style="color:#F8F8F2">:</span></span>
<span class="line"><span style="color:#F92672">					return</span><span style="color:#F8F8F2"> todos</span></span>
<span class="line"><span style="color:#F8F8F2">			}</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672">		return</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.todo-container'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">				const</span><span style="color:#F8F8F2"> container </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> el.</span><span style="color:#A6E22E">querySelector</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.todo-container'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">				const</span><span style="color:#A6E22E"> update</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#88846F">					// Clear existing todos</span></span>
<span class="line"><span style="color:#F8F8F2">					container.innerHTML </span><span style="color:#F92672">=</span><span style="color:#E6DB74"> ''</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F">					// Render filtered todos</span></span>
<span class="line"><span style="color:#A6E22E">					filteredTodos</span><span style="color:#F8F8F2">().</span><span style="color:#A6E22E">forEach</span><span style="color:#F8F8F2">((</span><span style="color:#FD971F;font-style:italic">todo</span><span style="color:#F8F8F2">, </span><span style="color:#FD971F;font-style:italic">index</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">						const</span><span style="color:#F8F8F2"> todoEl </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> createTodoElement</span><span style="color:#F8F8F2">(todo, index)</span></span>
<span class="line"><span style="color:#F8F8F2">						container.</span><span style="color:#A6E22E">appendChild</span><span style="color:#F8F8F2">(todoEl)</span></span>
<span class="line"><span style="color:#F8F8F2">					})</span></span>
<span class="line"><span style="color:#F8F8F2">				}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">				update</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F92672">				return</span><span style="color:#F8F8F2"> update</span></span>
<span class="line"><span style="color:#F8F8F2">			}),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.filter-all'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'click'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> filter.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'all'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.filter-active'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'click'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> filter.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'active'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#A6E22E">			first</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#E6DB74">				'.filter-completed'</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#A6E22E">				on</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'click'</span><span style="color:#F8F8F2">, () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> filter.</span><span style="color:#A6E22E">set</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'completed'</span><span style="color:#F8F8F2">)),</span></span>
<span class="line"><span style="color:#F8F8F2">			),</span></span>
<span class="line"><span style="color:#F8F8F2">		]</span></span>
<span class="line"><span style="color:#F8F8F2">	},</span></span>
<span class="line"><span style="color:#F8F8F2">)</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">
			<span class="label">Copy</span>
		</button>
	</input-button>
	<button type="button" class="overlay">Expand</button>
</code-block>
</section>

<section>


	            <h2 id="next-steps">
	                <a name="next-steps" class="anchor" href="#next-steps">
		                <span class="permalink">🔗</span>
	                </a>
	                Next Steps
	            </h2><p>Now that you understand UIElement&#39;s reactivity system, explore:</p>
<ul>
<li><strong><a href="component-communication.html">Component Communication</a></strong> - Learn how components share state and coordinate behavior</li>
<li><strong><a href="examples-recipes.html">Examples &amp; Recipes</a></strong> - See reactive patterns applied in real-world components</li>
<li><strong><a href="patterns-techniques.html">Patterns &amp; Techniques</a></strong> - Advanced optimization and architectural patterns</li>
</ul>
</section>
</main>
			<footer class="content-grid">
				<div class="content">
					<h2 class="visually-hidden">Footer</h2>
					<p>© 2024 – 2025 Zeix AG</p>
				</div>
			</footer>
		</client-router>
	</body>
</html>
