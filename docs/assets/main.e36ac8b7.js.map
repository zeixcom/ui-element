{
  "version": 3,
  "sources": ["../../index.js", "../../docs-src/components/context-media/context-media.ts", "../../node_modules/culori/src/rgb/parseNumber.js", "../../node_modules/culori/src/colors/named.js", "../../node_modules/culori/src/rgb/parseNamed.js", "../../node_modules/culori/src/rgb/parseHex.js", "../../node_modules/culori/src/util/regex.js", "../../node_modules/culori/src/rgb/parseRgbLegacy.js", "../../node_modules/culori/src/_prepare.js", "../../node_modules/culori/src/converter.js", "../../node_modules/culori/src/modes.js", "../../node_modules/culori/src/parse.js", "../../node_modules/culori/src/rgb/parseRgb.js", "../../node_modules/culori/src/rgb/parseTransparent.js", "../../node_modules/culori/src/interpolate/lerp.js", "../../node_modules/culori/src/interpolate/piecewise.js", "../../node_modules/culori/src/interpolate/linear.js", "../../node_modules/culori/src/fixup/alpha.js", "../../node_modules/culori/src/rgb/definition.js", "../../node_modules/culori/src/a98/convertA98ToXyz65.js", "../../node_modules/culori/src/a98/convertXyz65ToA98.js", "../../node_modules/culori/src/lrgb/convertRgbToLrgb.js", "../../node_modules/culori/src/xyz65/convertRgbToXyz65.js", "../../node_modules/culori/src/lrgb/convertLrgbToRgb.js", "../../node_modules/culori/src/xyz65/convertXyz65ToRgb.js", "../../node_modules/culori/src/a98/definition.js", "../../node_modules/culori/src/util/normalizeHue.js", "../../node_modules/culori/src/hsl/convertHslToRgb.js", "../../node_modules/culori/src/hsl/convertRgbToHsl.js", "../../node_modules/culori/src/util/hue.js", "../../node_modules/culori/src/hsl/parseHslLegacy.js", "../../node_modules/culori/src/hsl/parseHsl.js", "../../node_modules/culori/src/fixup/hue.js", "../../node_modules/culori/src/difference.js", "../../node_modules/culori/src/average.js", "../../node_modules/culori/src/hsl/definition.js", "../../node_modules/culori/src/hsv/convertHsvToRgb.js", "../../node_modules/culori/src/hsv/convertRgbToHsv.js", "../../node_modules/culori/src/hsv/definition.js", "../../node_modules/culori/src/hwb/convertHwbToRgb.js", "../../node_modules/culori/src/hwb/convertRgbToHwb.js", "../../node_modules/culori/src/hwb/parseHwb.js", "../../node_modules/culori/src/hwb/definition.js", "../../node_modules/culori/src/xyz50/constants.js", "../../node_modules/culori/src/constants.js", "../../node_modules/culori/src/lab/convertLabToXyz50.js", "../../node_modules/culori/src/xyz50/convertXyz50ToRgb.js", "../../node_modules/culori/src/lab/convertLabToRgb.js", "../../node_modules/culori/src/xyz50/convertRgbToXyz50.js", "../../node_modules/culori/src/lab/convertXyz50ToLab.js", "../../node_modules/culori/src/lab/convertRgbToLab.js", "../../node_modules/culori/src/lab/parseLab.js", "../../node_modules/culori/src/lab/definition.js", "../../node_modules/culori/src/xyz65/constants.js", "../../node_modules/culori/src/lab65/convertLab65ToXyz65.js", "../../node_modules/culori/src/lab65/convertLab65ToRgb.js", "../../node_modules/culori/src/lab65/convertXyz65ToLab65.js", "../../node_modules/culori/src/lab65/convertRgbToLab65.js", "../../node_modules/culori/src/lab65/definition.js", "../../node_modules/culori/src/lch/convertLabToLch.js", "../../node_modules/culori/src/lch/convertLchToLab.js", "../../node_modules/culori/src/lch/parseLch.js", "../../node_modules/culori/src/lch/definition.js", "../../node_modules/culori/src/lch65/definition.js", "../../node_modules/culori/src/lrgb/definition.js", "../../node_modules/culori/src/oklab/convertOklabToLrgb.js", "../../node_modules/culori/src/oklab/convertLrgbToOklab.js", "../../node_modules/culori/src/oklab/convertRgbToOklab.js", "../../node_modules/culori/src/oklab/convertOklabToRgb.js", "../../node_modules/culori/src/oklab/parseOklab.js", "../../node_modules/culori/src/oklab/definition.js", "../../node_modules/culori/src/oklch/parseOklch.js", "../../node_modules/culori/src/oklch/definition.js", "../../node_modules/culori/src/p3/convertP3ToXyz65.js", "../../node_modules/culori/src/p3/convertXyz65ToP3.js", "../../node_modules/culori/src/p3/definition.js", "../../node_modules/culori/src/prophoto/convertXyz50ToProphoto.js", "../../node_modules/culori/src/prophoto/convertProphotoToXyz50.js", "../../node_modules/culori/src/prophoto/definition.js", "../../node_modules/culori/src/rec2020/convertXyz65ToRec2020.js", "../../node_modules/culori/src/rec2020/convertRec2020ToXyz65.js", "../../node_modules/culori/src/rec2020/definition.js", "../../node_modules/culori/src/xyz50/definition.js", "../../node_modules/culori/src/xyz65/convertXyz65ToXyz50.js", "../../node_modules/culori/src/xyz65/convertXyz50ToXyz65.js", "../../node_modules/culori/src/xyz65/definition.js", "../../node_modules/culori/src/bootstrap/css.js", "../../node_modules/culori/src/round.js", "../../node_modules/culori/src/formatter.js", "../../node_modules/culori/src/clamp.js", "../../node_modules/culori/src/nearest.js", "../../docs-src/functions/parser/asOklch.ts", "../../docs-src/functions/shared/getStepColor.ts", "../../docs-src/components/card-colorscale/card-colorscale.ts", "../../docs-src/components/hello-world/hello-world.ts", "../../docs-src/components/basic-button/basic-button.ts", "../../docs-src/components/basic-counter/basic-counter.ts", "../../docs-src/components/basic-number/basic-number.ts", "../../docs-src/components/basic-pluralize/basic-pluralize.ts", "../../docs-src/components/form-checkbox/form-checkbox.ts", "../../docs-src/functions/shared/rafThrottle.ts", "../../docs-src/components/form-colorgraph/form-colorgraph.ts", "../../docs-src/components/form-colorslider/form-colorslider.ts", "../../docs-src/functions/shared/clearInput.ts", "../../docs-src/components/form-combobox/form-combobox.ts", "../../docs-src/components/form-gauge/form-gauge.ts", "../../docs-src/functions/parser/asURL.ts", "../../docs-src/functions/shared/fetchWithCache.ts", "../../docs-src/functions/shared/highlightMatch.ts", "../../docs-src/components/form-listbox/form-listbox.ts", "../../docs-src/functions/event-listener/onKeydownManageFocus.ts", "../../docs-src/components/form-radiogroup/form-radiogroup.ts", "../../docs-src/components/form-spinbutton/form-spinbutton.ts", "../../docs-src/components/form-textbox/form-textbox.ts", "../../docs-src/components/module-carousel/module-carousel.ts", "../../docs-src/components/module-catalog/module-catalog.ts", "../../docs-src/components/basic-button/copyToClipboard.ts", "../../docs-src/components/module-codeblock/module-codeblock.ts", "../../docs-src/components/module-coloreditor/module-coloreditor.ts", "../../docs-src/components/module-colorinfo/module-colorinfo.ts", "../../docs-src/components/module-dialog/module-dialog.ts", "../../docs-src/components/module-insert/module-insert.ts", "../../docs-src/components/module-lazy/module-lazy.ts", "../../docs-src/components/module-pagination/module-pagination.ts", "../../docs-src/components/module-scrollarea/module-scrollarea.ts", "../../docs-src/components/module-tabgroup/module-tabgroup.ts", "../../docs-src/components/module-todo/module-todo.ts", "../../docs-src/components/rating-stars/rating-stars.ts", "../../docs-src/components/rating-feedback/rating-feedback.ts", "../../docs-src/components/calc-table/calc-table.ts"],
  "sourcesContent": [
    "var k,l=new Set,XH=0,QH=new Map,r,VH=()=>{r=void 0;let H=Array.from(QH.values());QH.clear();for(let K of H)K()},_H=()=>{if(r)cancelAnimationFrame(r);r=requestAnimationFrame(VH)};queueMicrotask(VH);var m=(H)=>{let K=new Set,B=H;return B.off=($)=>{K.add($)},B.cleanup=()=>{for(let $ of K)$();K.clear()},B},O=(H)=>{if(k&&!H.has(k)){let K=k;H.add(K),k.off(()=>{H.delete(K)})}},M=(H)=>{for(let K of H)if(XH)l.add(K);else K()},a=()=>{while(l.size){let H=Array.from(l);l.clear();for(let K of H)K()}},t=(H)=>{XH++;try{H()}finally{a(),XH--}},v=(H,K)=>{let B=k;k=K;try{H()}finally{k=B}},IH=(H,K)=>new Promise((B,$)=>{QH.set(K||Symbol(),()=>{try{B(H())}catch(Z){$(Z)}}),_H()});var z=(H)=>typeof H===\"function\",e=(H,K)=>Object.prototype.toString.call(H)===`[object ${K}]`,c=(H)=>H instanceof Error?H:Error(String(H));class f extends Error{constructor(H){super(`Circular dependency in ${H} detected`);this.name=\"CircularDependencyError\"}}var YH=\"State\",HH=(H)=>{let K=new Set,B=H,$={[Symbol.toStringTag]:YH,get:()=>{return O(K),B},set:(Z)=>{if(Object.is(B,Z))return;if(B=Z,M(K),V===B)K.clear()},update:(Z)=>{$.set(Z(B))}};return $},R=(H)=>e(H,YH);var V=Symbol(),_=(H)=>R(H)||g(H),D=(H)=>_(H)?H:yH(H)?KH(H):HH(H);var E=\"Computed\",KH=(H)=>{let K=new Set,B=V,$,Z,J=!0,A=!1,L=!1,x=(G)=>{if(!Object.is(G,B))B=G,A=!0;$=void 0,J=!1},W=()=>{A=V!==B,B=V,$=void 0},X=(G)=>{let j=c(G);A=!$||j.name!==$.name||j.message!==$.message,B=V,$=j},Y=(G)=>(j)=>{if(L=!1,Z=void 0,G(j),A)M(K)},y=m(()=>{if(J=!0,Z?.abort(\"Aborted because source signal changed\"),K.size)M(K);else y.cleanup()}),U=()=>v(()=>{if(L)throw new f(\"computed\");if(A=!1,z(H)&&H.constructor.name===\"AsyncFunction\"){if(Z)return B;Z=new AbortController,Z.signal.addEventListener(\"abort\",()=>{L=!1,Z=void 0,U()},{once:!0})}let G;L=!0;try{G=Z?H(Z.signal):H()}catch(j){if(j instanceof DOMException&&j.name===\"AbortError\")W();else X(j);L=!1;return}if(G instanceof Promise)G.then(Y(x),Y(X));else if(G==null||V===G)W();else x(G);L=!1},y);return{[Symbol.toStringTag]:E,get:()=>{if(O(K),a(),J)U();if($)throw $;return B}}},g=(H)=>e(H,E),yH=(H)=>z(H)&&H.length<2;function b(H){let{signals:K,ok:B,err:$=(L)=>{console.error(L)},nil:Z=()=>{}}=z(H)?{signals:[],ok:H}:H,J=!1,A=m(()=>v(()=>{if(J)throw new f(\"effect\");J=!0;let L=[],x=!1,W=K.map((Y)=>{try{let y=Y.get();if(y===V)x=!0;return y}catch(y){return L.push(c(y)),V}}),X;try{X=x?Z():L.length?$(...L):B(...W)}catch(Y){X=$(c(Y))}finally{if(z(X))A.off(X)}J=!1},A));return A(),()=>A.cleanup()}var C=!1,UH=\"debug\",DH=\"info\",BH=\"warn\",T=\"error\",TH=(H)=>H?`#${H}`:\"\",wH=(H)=>H?.length?`.${Array.from(H).join(\".\")}`:\"\",u=(H)=>!!H&&typeof H===\"object\",w=(H)=>typeof H===\"string\",FH=(H,K)=>w(K)&&(K in H)&&z(H[K]),qH=(H)=>H.nodeType===Node.ELEMENT_NODE,i=(H)=>H.localName.includes(\"-\");var Q=(H)=>H?`<${H.localName}${TH(H.id)}${wH(H.classList)}>`:\"<unknown>\",d=(H)=>w(H)?`\"${H}\"`:u(H)?JSON.stringify(H):String(H),$H=(H)=>{if(H===null)return\"null\";if(typeof H!==\"object\")return typeof H;if(Array.isArray(H))return\"Array\";if(Symbol.toStringTag in Object(H))return H[Symbol.toStringTag];return H.constructor?.name||\"Object\"},I=(H,K,B=UH)=>{if(C||[T,BH].includes(B))console[B](K,H);return H};class ZH extends Error{constructor(H,K){super(`Circular dependency detected in selection signal for component ${Q(H)} with selector \"${K}\"`);this.name=\"CircularMutationError\"}}class JH extends Error{constructor(H){super(`Invalid component name \"${H}\". Custom element names must contain a hyphen, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.`);this.name=\"InvalidComponentNameError\"}}class n extends Error{constructor(H,K,B){super(`Invalid property name \"${K}\" for component <${H}>. ${B}`);this.name=\"InvalidPropertyNameError\"}}class LH extends Error{constructor(H,K){super(`Invalid effects in component ${Q(H)}. Effects must be an array of effects, a single effect function, or a Promise that resolves to effects.`);if(this.name=\"InvalidEffectsError\",K)this.cause=K}}class xH extends Error{constructor(H,K){super(`Expected signal as value for property \"${String(K)}\" in component ${Q(H)}.`);this.name=\"InvalidSignalError\"}}class o extends Error{constructor(H,K,B){super(`Missing required element <${K}> in component ${Q(H)}. ${B}`);this.name=\"MissingElementError\"}}class WH extends Error{constructor(H,K){super(`Timeout waiting for: [${K.join(\", \")}] in component ${Q(H)}.`);this.name=\"DependencyTimeoutError\"}}var N=Symbol(\"RESET\"),p=(H,K,B=K)=>{try{if(H instanceof Promise)throw H;if(!Array.isArray(H))return H(K,B);let $=H.filter(z).map((Z)=>Z(K,B));return()=>{$.filter(z).forEach((Z)=>Z()),$.length=0}}catch($){if($ instanceof Promise)$.then(()=>p(H,K,B));else throw new LH(K,$ instanceof Error?$:new Error(String($)))}},h=(H,K,B,$)=>{try{return w(H)?K.getSignal(H).get():_(H)?H.get():z(H)?H(B):N}catch(Z){if($)I(Z,`Failed to resolve value of ${d(H)}${$?` for ${$}`:\"\"} in ${Q(B)}${K!==B?` in ${Q(K)}`:\"\"}`,T);return N}};var SH=(H)=>{let K=new Set;if(H.includes(\".\"))K.add(\"class\");if(H.includes(\"#\"))K.add(\"id\");if(H.includes(\"[\")){let B=H.split(\"[\");for(let $=1;$<B.length;$++){let Z=B[$];if(!Z.includes(\"]\"))continue;let J=Z.split(\"=\")[0].trim().replace(/[^a-zA-Z0-9_-]/g,\"\");if(J)K.add(J)}}return[...K]},NH=(H,K)=>{if(H.length!==K.length)return!1;let B=new Set(H);for(let $ of K)if(!B.has($))return!1;return!0},s=(H)=>z(H)&&H.length>=2,F=(H,K)=>z(K)?K(H):K,AH=(H,K)=>(B)=>{let $=B.shadowRoot??B,Z=(A,L)=>{let x=$.querySelector(A);if(!x)return;let W=L(x);if(W!=null)return W},J=void 0;for(let[A,L]of Object.entries(H))if(J=Z(A,L),J!=null)break;return w(J)&&s(K)?K(B,J):J??F(B,K)},CH=(H,K,B)=>{let $=new MutationObserver(B),Z={childList:!0,subtree:!0},J=SH(K);if(J.length)Z.attributes=!0,Z.attributeFilter=J;return $.observe(H,Z),$},PH=(H)=>{let K=H.shadowRoot??H,B=new Set;function $(L,x){let W=K.querySelector(L);if(x!=null&&!W)throw new o(H,L,x);if(W&&i(W)&&W.matches(\":not(:defined)\"))B.add(W.localName);return W}function Z(L,x){let W=K.querySelectorAll(L);if(x!=null&&!W.length)throw new o(H,L,x);if(W.length)W.forEach((X)=>{if(i(X)&&X.matches(\":not(:defined)\"))B.add(X.localName)});return Array.from(W)}return[{useElement:$,useElements:Z,first:(L,x,W)=>{let X=W!=null?$(L,W):$(L);return()=>{if(X)return p(x,H,X)}},all:(L,x,W)=>{let X=W!=null?Z(L,W):Z(L);return()=>{let Y=new Map,y=(j)=>{let q=p(x,H,j);if(q&&!Y.has(j))Y.set(j,q)},U=(j)=>{let q=Y.get(j);if(q)q();Y.delete(j)},P=(j)=>(q)=>{if(qH(q)){if(q.matches(L))j(q);q.querySelectorAll(L).forEach(j)}},G=CH(K,L,(j)=>{for(let q of j)q.addedNodes.forEach(P(y)),q.removedNodes.forEach(P(U))});if(X.length)X.forEach(y);return()=>{G.disconnect(),Y.forEach((j)=>j()),Y.clear()}}}},()=>Array.from(B)]};function kH(H){return(K)=>{let B=new Set,$=()=>Array.from((K.shadowRoot??K).querySelectorAll(H)),Z=V,J,A=0,L=2,x=()=>{Z=$(),J=CH(K,H,()=>{if(!B.size){J?.disconnect(),J=void 0;return}if(A++,A>L)throw J?.disconnect(),J=void 0,A=0,new ZH(K,H);try{let W=$();if(!NH(Z,W))Z=W,M(B)}finally{A--}})};return{[Symbol.toStringTag]:E,get(){if(O(B),!B.size)Z=$();else if(!J)x();return Z}}}}var EH=50,bH=new Set([\"constructor\",\"prototype\"]),fH=new Set([\"id\",\"class\",\"className\",\"title\",\"role\",\"style\",\"dataset\",\"lang\",\"dir\",\"hidden\",\"children\",\"innerHTML\",\"outerHTML\",\"textContent\",\"innerText\"]),MH=(H)=>{if(bH.has(H))return`Property name \"${H}\" is a reserved word`;if(fH.has(H))return`Property name \"${H}\" conflicts with inherited HTMLElement property`;return null};function gH(H,K={},B){if(!H.includes(\"-\")||!H.match(/^[a-z][a-z0-9-]*$/))throw new JH(H);for(let Z of Object.keys(K)){let J=MH(Z);if(J)throw new n(H,Z,J)}class $ extends HTMLElement{debug;#H={};#K;static observedAttributes=Object.entries(K)?.filter(([,Z])=>s(Z)).map(([Z])=>Z)??[];connectedCallback(){if(C){if(this.debug=this.hasAttribute(\"debug\"),this.debug)I(this,\"Connected\")}for(let[W,X]of Object.entries(K)){if(X==null||W in this)continue;let Y=z(X)?X(this,null):X;if(Y!=null)this.setSignal(W,D(Y))}let[Z,J]=PH(this),A=B(this,Z),L=J(),x=()=>{let W=p(A,this);if(W)this.#K=W};if(L.length)Promise.race([Promise.all(L.map((W)=>customElements.whenDefined(W))),new Promise((W,X)=>{setTimeout(()=>{X(new WH(this,L.filter((Y)=>!customElements.get(Y))))},EH)})]).then(x).catch((W)=>{if(C)I(W,`Error during setup of <${H}>. Trying to run effects anyway.`,BH);x()});else x()}disconnectedCallback(){if(z(this.#K))this.#K();if(C&&this.debug)I(this,\"Disconnected\")}attributeChangedCallback(Z,J,A){if(A===J||g(this.#H[Z]))return;let L=K[Z];if(!s(L))return;let x=L(this,A,J);if(C&&this.debug)I(A,`Attribute \"${String(Z)}\" of ${Q(this)} changed from ${d(J)} to ${d(A)}, parsed as <${$H(x)}> ${d(x)}`);if(Z in this)this[Z]=x;else this.setSignal(Z,D(x))}getSignal(Z){let J=this.#H[Z];if(C&&this.debug)I(J,`Get ${$H(J)} \"${String(Z)}\" in ${Q(this)}`);return J}setSignal(Z,J){let A=MH(String(Z));if(A)throw new n(this.localName,Z,A);if(!_(J))throw new xH(this,Z);let L=this.#H[Z],x=R(J);if(this.#H[Z]=J,Object.defineProperty(this,Z,{get:J.get,set:x?J.set:void 0,enumerable:!0,configurable:x}),L&&R(L))L.set(V);if(C&&this.debug)I(J,`Set ${$H(J)} \"${String(Z)} in ${Q(this)}`)}}customElements.define(H,$)}var GH=\"context-request\";class OH extends Event{H;K;B;constructor(H,K,B=!1){super(GH,{bubbles:!0,composed:!0});this.context=H;this.callback=K;this.subscribe=B}}var dH=(H)=>(K)=>{let B=($)=>{let{context:Z,callback:J}=$;if(H.includes(Z)&&z(J))$.stopImmediatePropagation(),J(K.getSignal(String(Z)))};return K.addEventListener(GH,B),()=>K.removeEventListener(GH,B)},pH=(H,K)=>(B)=>{let $=D(F(B,K));return B.dispatchEvent(new OH(H,(Z)=>{$=Z})),$};var hH=(H,K,B)=>($)=>{let Z=new Set,J=F($,B),A=new Map,L,x=()=>{for(let[W,X]of Object.entries(K)){let Y=(y)=>{let U=y.target;if(!U)return;let P=U.closest(H);if(!P||!$.contains(P))return;y.stopPropagation();try{let G=X({event:y,host:$,target:P,value:J});if(G==null)return;if(!Object.is(G,J)){if(J=G,Z.size>0)M(Z);else if(L)L()}}catch(G){throw y.stopImmediatePropagation(),G}};A.set(W,Y),$.addEventListener(W,Y)}L=()=>{if(A.size){for(let[W,X]of A)$.removeEventListener(W,X);A.clear()}L=void 0}};return{[Symbol.toStringTag]:E,get(){if(O(Z),Z.size&&!A.size)x();return J}}},mH=(H,K,B=!1)=>($,Z)=>{let J=(A)=>{let L=K({host:$,target:Z,event:A});if(!u(L))return;t(()=>{for(let[x,W]of Object.entries(L))try{$[x]=W}catch(X){I(X,`Reactive property \"${x}\" on ${Q($)} from event ${H} on ${Q(Z)} could not be set, because it is read-only.`,T)}})};return Z.addEventListener(H,J,B),()=>Z.removeEventListener(H,J)},vH=(H,K)=>(B,$)=>b(()=>{let Z=h(K,B,$,`custom event \"${H}\" detail`);if(Z===N||Z===V)return;$.dispatchEvent(new CustomEvent(H,{detail:Z,bubbles:!0}))});var cH=(H,K=\"\")=>{return{a:\"attribute \",c:\"class \",d:\"dataset \",h:\"inner HTML\",m:\"method call \",p:\"property \",s:\"style property \",t:\"text content\"}[H]+K},uH=(H)=>{if(/^(mailto|tel):/i.test(H))return!0;if(H.includes(\"://\"))try{let K=new URL(H,window.location.origin);return[\"http:\",\"https:\",\"ftp:\"].includes(K.protocol)}catch{return!1}return!0},iH=(H,K,B)=>{if(/^on/i.test(K))throw new Error(`Unsafe attribute: ${K}`);if(B=String(B).trim(),!uH(B))throw new Error(`Unsafe URL for ${K}: ${B}`);H.setAttribute(K,B)},S=(H,K)=>(B,$)=>{let{op:Z,name:J=\"\",read:A,update:L}=K,x=A($),W=cH(Z,J),X=(y)=>()=>{if(C&&B.debug)I($,`${y} ${W} of ${Q($)} in ${Q(B)}`);K.resolve?.($)},Y=(y)=>(U)=>{I(U,`Failed to ${y} ${W} of ${Q($)} in ${Q(B)}`,T),K.reject?.(U)};return b(()=>{let y=h(H,B,$,W),U=y===N?x:y===V?K.delete?null:x:y;if(K.delete&&U===null)try{K.delete($),X(\"delete\")()}catch(P){Y(\"delete\")(P)}else if(U!=null){let P=A($);if(Object.is(U,P))return;try{L($,U),X(\"update\")()}catch(G){Y(\"update\")(G)}}})},nH=(H,K)=>(B,$)=>{let Z=(A)=>()=>{if(C&&B.debug)I($,`${A} element in ${Q($)} in ${Q(B)}`);if(z(K?.resolve))K.resolve($);else{let L=_(H)?H:w(H)?B.getSignal(H):void 0;if(R(L))L.set(0)}},J=(A)=>(L)=>{I(L,`Failed to ${A} element in ${Q($)} in ${Q(B)}`,T),K?.reject?.(L)};return b(()=>{let A=h(H,B,$,\"insertion or deletion\"),L=A===N?0:A;if(L>0){if(!K)throw new TypeError(\"No inserter provided\");try{for(let x=0;x<L;x++){let W=K.create($);if(!W)continue;$.insertAdjacentElement(K.position??\"beforeend\",W)}Z(\"insert\")()}catch(x){J(\"insert\")(x)}}else if(L<0)try{if(K&&(K.position===\"afterbegin\"||K.position===\"beforeend\"))for(let x=0;x>L;x--)if(K.position===\"afterbegin\")$.firstElementChild?.remove();else $.lastElementChild?.remove();else $.remove();Z(\"remove\")()}catch(x){J(\"remove\")(x)}})},oH=(H)=>S(H,{op:\"t\",read:(K)=>K.textContent,update:(K,B)=>{Array.from(K.childNodes).filter(($)=>$.nodeType!==Node.COMMENT_NODE).forEach(($)=>$.remove()),K.append(document.createTextNode(B))}}),sH=(H,K=H)=>S(K,{op:\"p\",name:H,read:(B)=>(H in B)?B[H]:V,update:(B,$)=>{B[H]=$}}),lH=(H)=>S(H,{op:\"p\",name:\"hidden\",read:(K)=>!K.hidden,update:(K,B)=>{K.hidden=!B}});var rH=(H,K=H)=>S(K,{op:\"a\",name:H,read:(B)=>B.getAttribute(H),update:(B,$)=>{iH(B,H,$)},delete:(B)=>{B.removeAttribute(H)}}),aH=(H,K=H)=>S(K,{op:\"a\",name:H,read:(B)=>B.hasAttribute(H),update:(B,$)=>{B.toggleAttribute(H,$)}}),tH=(H,K=H)=>S(K,{op:\"c\",name:H,read:(B)=>B.classList.contains(H),update:(B,$)=>{B.classList.toggle(H,$)}}),eH=(H,K=H)=>S(K,{op:\"s\",name:H,read:(B)=>B.style.getPropertyValue(H),update:(B,$)=>{B.style.setProperty(H,$)},delete:(B)=>{B.style.removeProperty(H)}}),HK=(H,K={})=>S(H,{op:\"h\",read:(B)=>(B.shadowRoot||!K.shadowRootMode?B:null)?.innerHTML??\"\",update:(B,$)=>{let{shadowRootMode:Z,allowScripts:J}=K;if(!$){if(B.shadowRoot)B.shadowRoot.innerHTML=\"<slot></slot>\";return\"\"}if(Z&&!B.shadowRoot)B.attachShadow({mode:Z});let A=B.shadowRoot||B;if(A.innerHTML=$,!J)return\"\";return A.querySelectorAll(\"script\").forEach((L)=>{let x=document.createElement(\"script\");x.appendChild(document.createTextNode(L.textContent??\"\")),A.appendChild(x),L.remove()}),\" with scripts\"}}),KK=(H)=>(K,B)=>{if(!u(H))throw new TypeError(\"Reactives must be an object of passed signals\");if(!i(B))throw new TypeError(`Target ${Q(B)} is not a custom element`);if(!FH(B,\"setSignal\"))throw new TypeError(`Target ${Q(B)} is not a Le Truc component`);for(let[$,Z]of Object.entries(H))B.setSignal($,w(Z)?K.getSignal(Z):D(Z))};var jH=()=>(H)=>H.textContent?.trim(),BK=(H)=>(K)=>{let B=K.getAttribute(H);return B?document.getElementById(B)?.textContent?.trim():void 0},$K=(H)=>(K)=>K[H],ZK=(H)=>(K)=>K.hasAttribute(H),RH=(H)=>(K)=>K.getAttribute(H),JK=(H)=>(K)=>K.classList.contains(H),LK=(H)=>(K)=>window.getComputedStyle(K).getPropertyValue(H),xK=(H)=>AH({\".label\":jH(),[H]:RH(\"aria-label\")},\"\"),WK=(H)=>AH({\".description\":jH(),[H]:BK(\"aria-describedby\")},\"\");var zH=(H,K)=>{if(K==null)return;let B=H(K);return Number.isFinite(B)?B:void 0},AK=()=>(H,K)=>K!=null&&K!==\"false\",XK=(H=0)=>(K,B)=>{if(B==null)return F(K,H);let $=B.trim();if($.toLowerCase().startsWith(\"0x\"))return zH((J)=>parseInt(J,16),$)??F(K,H);let Z=zH(parseFloat,B);return Z!=null?Math.trunc(Z):F(K,H)},QK=(H=0)=>(K,B)=>zH(parseFloat,B)??F(K,H),YK=(H=\"\")=>(K,B)=>B??F(K,H),yK=(H)=>(K,B)=>{if(B==null)return H[0];let $=B.toLowerCase();return H.find((J)=>J.toLowerCase()===$)?B:H[0]},GK=(H)=>(K,B)=>{if((B??H)==null)throw new TypeError(\"asJSON: Value and fallback are both null or undefined\");if(B==null)return F(K,H);if(B===\"\")throw new TypeError(\"Empty string is not valid JSON\");let $;try{$=JSON.parse(B)}catch(Z){throw new SyntaxError(`Failed to parse JSON: ${String(Z)}`,{cause:Z})}return $??F(K,H)};export{S as updateElement,tH as toggleClass,aH as toggleAttribute,D as toSignal,HH as state,lH as show,oH as setText,eH as setStyle,sH as setProperty,rH as setAttribute,h as resolveReactive,dH as provideContexts,KK as pass,mH as on,I as log,R as isState,_ as isSignal,s as isParser,g as isComputed,nH as insertOrRemoveElement,JK as hasClass,ZK as hasAttribute,jH as getText,LK as getStyle,$K as getProperty,xK as getLabel,F as getFallback,WK as getDescription,RH as getAttribute,kH as fromSelector,hH as fromEvents,AH as fromDOM,pH as fromContext,IH as enqueue,vH as emitEvent,b as effect,HK as dangerouslySetInnerHTML,KH as computed,gH as component,t as batch,YK as asString,QK as asNumber,GK as asJSON,XK as asInteger,yK as asEnum,AK as asBoolean,V as UNSET,N as RESET,o as MissingElementError,BH as LOG_WARN,DH as LOG_INFO,T as LOG_ERROR,UH as LOG_DEBUG,xH as InvalidSignalError,n as InvalidPropertyNameError,LH as InvalidEffectsError,JH as InvalidComponentNameError,WH as DependencyTimeoutError,C as DEV_MODE,ZH as CircularMutationError};\n\n//# debugId=879129D5EA32A6AE64756E2164756E21\n",
    "import {\n\ttype Component,\n\ttype Context,\n\tcomponent,\n\tprovideContexts,\n\ttype State,\n\tstate,\n} from '../../../'\n\nexport type ContextMediaProps = {\n\treadonly 'media-motion': boolean\n\treadonly 'media-theme': 'light' | 'dark'\n\treadonly 'media-viewport': 'xs' | 'sm' | 'md' | 'lg' | 'xl'\n\treadonly 'media-orientation': 'portrait' | 'landscape'\n}\n\n/* === Exported Contexts === */\n\nexport const MEDIA_MOTION = 'media-motion' as Context<\n\t'media-motion',\n\tState<boolean>\n>\nexport const MEDIA_THEME = 'media-theme' as Context<\n\t'media-theme',\n\tState<'light' | 'dark'>\n>\nexport const MEDIA_VIEWPORT = 'media-viewport' as Context<\n\t'media-viewport',\n\tState<'xs' | 'sm' | 'md' | 'lg' | 'xl'>\n>\nexport const MEDIA_ORIENTATION = 'media-orientation' as Context<\n\t'media-orientation',\n\tState<'portrait' | 'landscape'>\n>\n\n/* === Component === */\n\nexport default component(\n\t'context-media',\n\t{\n\t\t// Context for reduced motion preference\n\t\t[MEDIA_MOTION]: () => {\n\t\t\tconst mql = matchMedia('(prefers-reduced-motion: reduce)')\n\t\t\tconst reducedMotion = state(mql.matches)\n\t\t\tmql.addEventListener('change', e => {\n\t\t\t\treducedMotion.set(e.matches)\n\t\t\t})\n\t\t\treturn reducedMotion\n\t\t},\n\n\t\t// Context for preferred color scheme\n\t\t[MEDIA_THEME]: () => {\n\t\t\tconst mql = matchMedia('(prefers-color-scheme: dark)')\n\t\t\tconst colorScheme = state(mql.matches ? 'dark' : 'light')\n\t\t\tmql.addEventListener('change', e => {\n\t\t\t\tcolorScheme.set(e.matches ? 'dark' : 'light')\n\t\t\t})\n\t\t\treturn colorScheme\n\t\t},\n\n\t\t// Context for screen viewport size\n\t\t[MEDIA_VIEWPORT]: (el: HTMLElement) => {\n\t\t\tconst getBreakpoint = (attr: string, fallback: string) => {\n\t\t\t\tconst value = el.getAttribute(attr)\n\t\t\t\tconst trimmed = value?.trim()\n\t\t\t\tif (!trimmed) return fallback\n\t\t\t\tconst unit = trimmed.match(/em$/) ? 'em' : 'px'\n\t\t\t\tconst v = parseFloat(trimmed)\n\t\t\t\treturn Number.isFinite(v) ? v + unit : fallback\n\t\t\t}\n\t\t\tconst mqlSM = matchMedia(\n\t\t\t\t`(min-width: ${getBreakpoint('sm', '32em')})`,\n\t\t\t)\n\t\t\tconst mqlMD = matchMedia(\n\t\t\t\t`(min-width: ${getBreakpoint('md', '48em')})`,\n\t\t\t)\n\t\t\tconst mqlLG = matchMedia(\n\t\t\t\t`(min-width: ${getBreakpoint('lg', '72em')})`,\n\t\t\t)\n\t\t\tconst mqlXL = matchMedia(\n\t\t\t\t`(min-width: ${getBreakpoint('xl', '104em')})`,\n\t\t\t)\n\t\t\tconst getViewport = () => {\n\t\t\t\tif (mqlXL.matches) return 'xl'\n\t\t\t\tif (mqlLG.matches) return 'lg'\n\t\t\t\tif (mqlMD.matches) return 'md'\n\t\t\t\tif (mqlSM.matches) return 'sm'\n\t\t\t\treturn 'xs'\n\t\t\t}\n\t\t\tconst viewport = state(getViewport())\n\t\t\tmqlSM.addEventListener('change', () => {\n\t\t\t\tviewport.set(getViewport())\n\t\t\t})\n\t\t\tmqlMD.addEventListener('change', () => {\n\t\t\t\tviewport.set(getViewport())\n\t\t\t})\n\t\t\tmqlLG.addEventListener('change', () => {\n\t\t\t\tviewport.set(getViewport())\n\t\t\t})\n\t\t\tmqlXL.addEventListener('change', () => {\n\t\t\t\tviewport.set(getViewport())\n\t\t\t})\n\t\t\treturn viewport\n\t\t},\n\n\t\t// Context for screen orientation\n\t\t[MEDIA_ORIENTATION]: () => {\n\t\t\tconst mql = matchMedia('(orientation: landscape)')\n\t\t\tconst orientation = state(mql.matches ? 'landscape' : 'portrait')\n\t\t\tmql.addEventListener('change', e => {\n\t\t\t\torientation.set(e.matches ? 'landscape' : 'portrait')\n\t\t\t})\n\t\t\treturn orientation\n\t\t},\n\t},\n\t() => [\n\t\tprovideContexts([\n\t\t\tMEDIA_MOTION,\n\t\t\tMEDIA_THEME,\n\t\t\tMEDIA_VIEWPORT,\n\t\t\tMEDIA_ORIENTATION,\n\t\t]),\n\t],\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'context-media': Component<ContextMediaProps>\n\t}\n}\n",
    "const parseNumber = (color, len) => {\n\tif (typeof color !== 'number') return;\n\n\t// hex3: #c93 -> #cc9933\n\tif (len === 3) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tg: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\tb: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex4: #c931 -> #cc993311\n\tif (len === 4) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 12) & 0xf) | ((color >> 8) & 0xf0)) / 255,\n\t\t\tg: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tb: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\talpha: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex6: #f0f1f2\n\tif (len === 6) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 16) & 0xff) / 255,\n\t\t\tg: ((color >> 8) & 0xff) / 255,\n\t\t\tb: (color & 0xff) / 255\n\t\t};\n\t}\n\n\t// hex8: #f0f1f2ff\n\tif (len === 8) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 24) & 0xff) / 255,\n\t\t\tg: ((color >> 16) & 0xff) / 255,\n\t\t\tb: ((color >> 8) & 0xff) / 255,\n\t\t\talpha: (color & 0xff) / 255\n\t\t};\n\t}\n};\n\nexport default parseNumber;\n",
    "const named = {\n\taliceblue: 0xf0f8ff,\n\tantiquewhite: 0xfaebd7,\n\taqua: 0x00ffff,\n\taquamarine: 0x7fffd4,\n\tazure: 0xf0ffff,\n\tbeige: 0xf5f5dc,\n\tbisque: 0xffe4c4,\n\tblack: 0x000000,\n\tblanchedalmond: 0xffebcd,\n\tblue: 0x0000ff,\n\tblueviolet: 0x8a2be2,\n\tbrown: 0xa52a2a,\n\tburlywood: 0xdeb887,\n\tcadetblue: 0x5f9ea0,\n\tchartreuse: 0x7fff00,\n\tchocolate: 0xd2691e,\n\tcoral: 0xff7f50,\n\tcornflowerblue: 0x6495ed,\n\tcornsilk: 0xfff8dc,\n\tcrimson: 0xdc143c,\n\tcyan: 0x00ffff,\n\tdarkblue: 0x00008b,\n\tdarkcyan: 0x008b8b,\n\tdarkgoldenrod: 0xb8860b,\n\tdarkgray: 0xa9a9a9,\n\tdarkgreen: 0x006400,\n\tdarkgrey: 0xa9a9a9,\n\tdarkkhaki: 0xbdb76b,\n\tdarkmagenta: 0x8b008b,\n\tdarkolivegreen: 0x556b2f,\n\tdarkorange: 0xff8c00,\n\tdarkorchid: 0x9932cc,\n\tdarkred: 0x8b0000,\n\tdarksalmon: 0xe9967a,\n\tdarkseagreen: 0x8fbc8f,\n\tdarkslateblue: 0x483d8b,\n\tdarkslategray: 0x2f4f4f,\n\tdarkslategrey: 0x2f4f4f,\n\tdarkturquoise: 0x00ced1,\n\tdarkviolet: 0x9400d3,\n\tdeeppink: 0xff1493,\n\tdeepskyblue: 0x00bfff,\n\tdimgray: 0x696969,\n\tdimgrey: 0x696969,\n\tdodgerblue: 0x1e90ff,\n\tfirebrick: 0xb22222,\n\tfloralwhite: 0xfffaf0,\n\tforestgreen: 0x228b22,\n\tfuchsia: 0xff00ff,\n\tgainsboro: 0xdcdcdc,\n\tghostwhite: 0xf8f8ff,\n\tgold: 0xffd700,\n\tgoldenrod: 0xdaa520,\n\tgray: 0x808080,\n\tgreen: 0x008000,\n\tgreenyellow: 0xadff2f,\n\tgrey: 0x808080,\n\thoneydew: 0xf0fff0,\n\thotpink: 0xff69b4,\n\tindianred: 0xcd5c5c,\n\tindigo: 0x4b0082,\n\tivory: 0xfffff0,\n\tkhaki: 0xf0e68c,\n\tlavender: 0xe6e6fa,\n\tlavenderblush: 0xfff0f5,\n\tlawngreen: 0x7cfc00,\n\tlemonchiffon: 0xfffacd,\n\tlightblue: 0xadd8e6,\n\tlightcoral: 0xf08080,\n\tlightcyan: 0xe0ffff,\n\tlightgoldenrodyellow: 0xfafad2,\n\tlightgray: 0xd3d3d3,\n\tlightgreen: 0x90ee90,\n\tlightgrey: 0xd3d3d3,\n\tlightpink: 0xffb6c1,\n\tlightsalmon: 0xffa07a,\n\tlightseagreen: 0x20b2aa,\n\tlightskyblue: 0x87cefa,\n\tlightslategray: 0x778899,\n\tlightslategrey: 0x778899,\n\tlightsteelblue: 0xb0c4de,\n\tlightyellow: 0xffffe0,\n\tlime: 0x00ff00,\n\tlimegreen: 0x32cd32,\n\tlinen: 0xfaf0e6,\n\tmagenta: 0xff00ff,\n\tmaroon: 0x800000,\n\tmediumaquamarine: 0x66cdaa,\n\tmediumblue: 0x0000cd,\n\tmediumorchid: 0xba55d3,\n\tmediumpurple: 0x9370db,\n\tmediumseagreen: 0x3cb371,\n\tmediumslateblue: 0x7b68ee,\n\tmediumspringgreen: 0x00fa9a,\n\tmediumturquoise: 0x48d1cc,\n\tmediumvioletred: 0xc71585,\n\tmidnightblue: 0x191970,\n\tmintcream: 0xf5fffa,\n\tmistyrose: 0xffe4e1,\n\tmoccasin: 0xffe4b5,\n\tnavajowhite: 0xffdead,\n\tnavy: 0x000080,\n\toldlace: 0xfdf5e6,\n\tolive: 0x808000,\n\tolivedrab: 0x6b8e23,\n\torange: 0xffa500,\n\torangered: 0xff4500,\n\torchid: 0xda70d6,\n\tpalegoldenrod: 0xeee8aa,\n\tpalegreen: 0x98fb98,\n\tpaleturquoise: 0xafeeee,\n\tpalevioletred: 0xdb7093,\n\tpapayawhip: 0xffefd5,\n\tpeachpuff: 0xffdab9,\n\tperu: 0xcd853f,\n\tpink: 0xffc0cb,\n\tplum: 0xdda0dd,\n\tpowderblue: 0xb0e0e6,\n\tpurple: 0x800080,\n\n\t// Added in CSS Colors Level 4:\n\t// https://drafts.csswg.org/css-color/#changes-from-3\n\trebeccapurple: 0x663399,\n\n\tred: 0xff0000,\n\trosybrown: 0xbc8f8f,\n\troyalblue: 0x4169e1,\n\tsaddlebrown: 0x8b4513,\n\tsalmon: 0xfa8072,\n\tsandybrown: 0xf4a460,\n\tseagreen: 0x2e8b57,\n\tseashell: 0xfff5ee,\n\tsienna: 0xa0522d,\n\tsilver: 0xc0c0c0,\n\tskyblue: 0x87ceeb,\n\tslateblue: 0x6a5acd,\n\tslategray: 0x708090,\n\tslategrey: 0x708090,\n\tsnow: 0xfffafa,\n\tspringgreen: 0x00ff7f,\n\tsteelblue: 0x4682b4,\n\ttan: 0xd2b48c,\n\tteal: 0x008080,\n\tthistle: 0xd8bfd8,\n\ttomato: 0xff6347,\n\tturquoise: 0x40e0d0,\n\tviolet: 0xee82ee,\n\twheat: 0xf5deb3,\n\twhite: 0xffffff,\n\twhitesmoke: 0xf5f5f5,\n\tyellow: 0xffff00,\n\tyellowgreen: 0x9acd32\n};\n\nexport default named;\n",
    "import parseNumber from './parseNumber.js';\nimport named from '../colors/named.js';\n\n// Also supports the `transparent` color as defined in:\n// https://drafts.csswg.org/css-color/#transparent-black\nconst parseNamed = color => {\n\treturn parseNumber(named[color.toLowerCase()], 6);\n};\n\nexport default parseNamed;\n",
    "import parseNumber from './parseNumber.js';\n\nconst hex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\n\nconst parseHex = color => {\n\tlet match;\n\t// eslint-disable-next-line no-cond-assign\n\treturn (match = color.match(hex))\n\t\t? parseNumber(parseInt(match[1], 16), match[1].length)\n\t\t: undefined;\n};\n\nexport default parseHex;\n",
    "/*\n\tBasic building blocks for color regexes\n\t---------------------------------------\n\n\tThese regexes are expressed as strings\n\tto be interpolated in the color regexes.\n */\n\n// <number>\nexport const num = '([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)';\n\n// <number> or 'none'\nexport const num_none = `(?:${num}|none)`;\n\n// <percentage>\nexport const per = `${num}%`;\n\n// <percent> or 'none'\nexport const per_none = `(?:${num}%|none)`;\n\n// <number-percentage> (<alpha-value>)\nexport const num_per = `(?:${num}%|${num})`;\n\n// <number-percentage> (<alpha-value>) or 'none'\nexport const num_per_none = `(?:${num}%|${num}|none)`;\n\n// <hue>\nexport const hue = `(?:${num}(deg|grad|rad|turn)|${num})`;\n\n// <hue> or 'none'\nexport const hue_none = `(?:${num}(deg|grad|rad|turn)|${num}|none)`;\n\nexport const c = `\\\\s*,\\\\s*`; // comma\nexport const so = '\\\\s*'; // space, optional\nexport const s = `\\\\s+`; // space\n\nexport const rx_num_per_none = new RegExp('^' + num_per_none + '$');\n",
    "import { num, per, num_per, c } from '../util/regex.js';\n\n/*\n\trgb() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#rgb-functions\n */\nconst rgb_num_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${num}${c}${num}${c}${num}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst rgb_per_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${per}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseRgbLegacy = color => {\n\tlet res = { mode: 'rgb' };\n\tlet match;\n\tif ((match = color.match(rgb_num_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 255;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 255;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 255;\n\t\t}\n\t} else if ((match = color.match(rgb_per_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 100;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 100;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 100;\n\t\t}\n\t} else {\n\t\treturn undefined;\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, match[4] / 100));\n\t} else if (match[5] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, +match[5]));\n\t}\n\n\treturn res;\n};\n\nexport default parseRgbLegacy;\n",
    "import parse from './parse.js';\n\nconst prepare = (color, mode) =>\n\tcolor === undefined\n\t\t? undefined\n\t\t: typeof color !== 'object'\n\t\t? parse(color)\n\t\t: color.mode !== undefined\n\t\t? color\n\t\t: mode\n\t\t? { ...color, mode }\n\t\t: undefined;\n\nexport default prepare;\n",
    "import { converters } from './modes.js';\nimport prepare from './_prepare.js';\n\nconst converter =\n\t(target_mode = 'rgb') =>\n\tcolor =>\n\t\t(color = prepare(color, target_mode)) !== undefined\n\t\t\t? // if the color's mode corresponds to our target mode\n\t\t\t  color.mode === target_mode\n\t\t\t\t? // then just return the color\n\t\t\t\t  color\n\t\t\t\t: // otherwise check to see if we have a dedicated\n\t\t\t\t// converter for the target mode\n\t\t\t\tconverters[color.mode][target_mode]\n\t\t\t\t? // and return its result...\n\t\t\t\t  converters[color.mode][target_mode](color)\n\t\t\t\t: // ...otherwise pass through RGB as an intermediary step.\n\t\t\t\t// if the target mode is RGB...\n\t\t\t\ttarget_mode === 'rgb'\n\t\t\t\t? // just return the RGB\n\t\t\t\t  converters[color.mode].rgb(color)\n\t\t\t\t: // otherwise convert color.mode -> RGB -> target_mode\n\t\t\t\t  converters.rgb[target_mode](converters[color.mode].rgb(color))\n\t\t\t: undefined;\n\nexport default converter;\n",
    "import converter from './converter.js';\n\nconst converters = {};\nconst modes = {};\n\nconst parsers = [];\nconst colorProfiles = {};\n\nconst identity = v => v;\n\nconst useMode = definition => {\n\tconverters[definition.mode] = {\n\t\t...converters[definition.mode],\n\t\t...definition.toMode\n\t};\n\n\tObject.keys(definition.fromMode || {}).forEach(k => {\n\t\tif (!converters[k]) {\n\t\t\tconverters[k] = {};\n\t\t}\n\t\tconverters[k][definition.mode] = definition.fromMode[k];\n\t});\n\n\t// Color space channel ranges\n\tif (!definition.ranges) {\n\t\tdefinition.ranges = {};\n\t}\n\n\tif (!definition.difference) {\n\t\tdefinition.difference = {};\n\t}\n\n\tdefinition.channels.forEach(channel => {\n\t\t// undefined channel ranges default to the [0, 1] interval\n\t\tif (definition.ranges[channel] === undefined) {\n\t\t\tdefinition.ranges[channel] = [0, 1];\n\t\t}\n\n\t\tif (!definition.interpolate[channel]) {\n\t\t\tthrow new Error(`Missing interpolator for: ${channel}`);\n\t\t}\n\n\t\tif (typeof definition.interpolate[channel] === 'function') {\n\t\t\tdefinition.interpolate[channel] = {\n\t\t\t\tuse: definition.interpolate[channel]\n\t\t\t};\n\t\t}\n\n\t\tif (!definition.interpolate[channel].fixup) {\n\t\t\tdefinition.interpolate[channel].fixup = identity;\n\t\t}\n\t});\n\n\tmodes[definition.mode] = definition;\n\t(definition.parse || []).forEach(parser => {\n\t\tuseParser(parser, definition.mode);\n\t});\n\n\treturn converter(definition.mode);\n};\n\nconst getMode = mode => modes[mode];\n\nconst useParser = (parser, mode) => {\n\tif (typeof parser === 'string') {\n\t\tif (!mode) {\n\t\t\tthrow new Error(`'mode' required when 'parser' is a string`);\n\t\t}\n\t\tcolorProfiles[parser] = mode;\n\t} else if (typeof parser === 'function') {\n\t\tif (parsers.indexOf(parser) < 0) {\n\t\t\tparsers.push(parser);\n\t\t}\n\t}\n};\n\nconst removeParser = parser => {\n\tif (typeof parser === 'string') {\n\t\tdelete colorProfiles[parser];\n\t} else if (typeof parser === 'function') {\n\t\tconst idx = parsers.indexOf(parser);\n\t\tif (idx > 0) {\n\t\t\tparsers.splice(idx, 1);\n\t\t}\n\t}\n};\n\nexport {\n\tuseMode,\n\tgetMode,\n\tuseParser,\n\tremoveParser,\n\tconverters,\n\tparsers,\n\tcolorProfiles\n};\n",
    "import { parsers, colorProfiles, getMode } from './modes.js';\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentStartCodePoint = /[^\\x00-\\x7F]|[a-zA-Z_]/;\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentCodePoint = /[^\\x00-\\x7F]|[-\\w]/;\n\nexport const Tok = {\n\tFunction: 'function',\n\tIdent: 'ident',\n\tNumber: 'number',\n\tPercentage: 'percentage',\n\tParenClose: ')',\n\tNone: 'none',\n\tHue: 'hue',\n\tAlpha: 'alpha'\n};\n\nlet _i = 0;\n\n/*\n\t4.3.10. Check if three code points would start a number\n\thttps://drafts.csswg.org/css-syntax/#starts-with-a-number\n */\nfunction is_num(chars) {\n\tlet ch = chars[_i];\n\tlet ch1 = chars[_i + 1];\n\tif (ch === '-' || ch === '+') {\n\t\treturn /\\d/.test(ch1) || (ch1 === '.' && /\\d/.test(chars[_i + 2]));\n\t}\n\tif (ch === '.') {\n\t\treturn /\\d/.test(ch1);\n\t}\n\treturn /\\d/.test(ch);\n}\n\n/*\n\tCheck if the stream starts with an identifier.\n */\n\nfunction is_ident(chars) {\n\tif (_i >= chars.length) {\n\t\treturn false;\n\t}\n\tlet ch = chars[_i];\n\tif (IdentStartCodePoint.test(ch)) {\n\t\treturn true;\n\t}\n\tif (ch === '-') {\n\t\tif (chars.length - _i < 2) {\n\t\t\treturn false;\n\t\t}\n\t\tlet ch1 = chars[_i + 1];\n\t\tif (ch1 === '-' || IdentStartCodePoint.test(ch1)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n/*\n\t4.3.3. Consume a numeric token\n\thttps://drafts.csswg.org/css-syntax/#consume-numeric-token\n */\n\nconst huenits = {\n\tdeg: 1,\n\trad: 180 / Math.PI,\n\tgrad: 9 / 10,\n\tturn: 360\n};\n\nfunction num(chars) {\n\tlet value = '';\n\tif (chars[_i] === '-' || chars[_i] === '+') {\n\t\tvalue += chars[_i++];\n\t}\n\tvalue += digits(chars);\n\tif (chars[_i] === '.' && /\\d/.test(chars[_i + 1])) {\n\t\tvalue += chars[_i++] + digits(chars);\n\t}\n\tif (chars[_i] === 'e' || chars[_i] === 'E') {\n\t\tif (\n\t\t\t(chars[_i + 1] === '-' || chars[_i + 1] === '+') &&\n\t\t\t/\\d/.test(chars[_i + 2])\n\t\t) {\n\t\t\tvalue += chars[_i++] + chars[_i++] + digits(chars);\n\t\t} else if (/\\d/.test(chars[_i + 1])) {\n\t\t\tvalue += chars[_i++] + digits(chars);\n\t\t}\n\t}\n\tif (is_ident(chars)) {\n\t\tlet id = ident(chars);\n\t\tif (id === 'deg' || id === 'rad' || id === 'turn' || id === 'grad') {\n\t\t\treturn { type: Tok.Hue, value: value * huenits[id] };\n\t\t}\n\t\treturn undefined;\n\t}\n\tif (chars[_i] === '%') {\n\t\t_i++;\n\t\treturn { type: Tok.Percentage, value: +value };\n\t}\n\treturn { type: Tok.Number, value: +value };\n}\n\n/*\n\tConsume digits.\n */\nfunction digits(chars) {\n\tlet v = '';\n\twhile (/\\d/.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an identifier.\n */\nfunction ident(chars) {\n\tlet v = '';\n\twhile (_i < chars.length && IdentCodePoint.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an ident-like token.\n */\nfunction identlike(chars) {\n\tlet v = ident(chars);\n\tif (chars[_i] === '(') {\n\t\t_i++;\n\t\treturn { type: Tok.Function, value: v };\n\t}\n\tif (v === 'none') {\n\t\treturn { type: Tok.None, value: undefined };\n\t}\n\treturn { type: Tok.Ident, value: v };\n}\n\nexport function tokenize(str = '') {\n\tlet chars = str.trim();\n\tlet tokens = [];\n\tlet ch;\n\n\t/* reset counter */\n\t_i = 0;\n\n\twhile (_i < chars.length) {\n\t\tch = chars[_i++];\n\n\t\t/*\n\t\t\tConsume whitespace without emitting it\n\t\t */\n\t\tif (ch === '\\n' || ch === '\\t' || ch === ' ') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === ',') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === ')') {\n\t\t\ttokens.push({ type: Tok.ParenClose });\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === '+') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '-') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\ttokens.push({ type: Tok.Ident, value: ident(chars) });\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '.') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '/') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tlet alpha;\n\t\t\tif (is_num(chars)) {\n\t\t\t\talpha = num(chars);\n\t\t\t\tif (alpha.type !== Tok.Hue) {\n\t\t\t\t\ttokens.push({ type: Tok.Alpha, value: alpha });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\tif (ident(chars) === 'none') {\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\ttype: Tok.Alpha,\n\t\t\t\t\t\tvalue: { type: Tok.None, value: undefined }\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (/\\d/.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(num(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (IdentStartCodePoint.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(identlike(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\t/*\n\t\t\tTreat everything not already handled as an error.\n\t\t */\n\t\treturn undefined;\n\t}\n\n\treturn tokens;\n}\n\nexport function parseColorSyntax(tokens) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function || token.value !== 'color') {\n\t\treturn undefined;\n\t}\n\ttoken = tokens[tokens._i++];\n\tif (token.type !== Tok.Ident) {\n\t\treturn undefined;\n\t}\n\tconst mode = colorProfiles[token.value];\n\tif (!mode) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode };\n\tconst coords = consumeCoords(tokens, false);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tconst channels = getMode(mode).channels;\n\tfor (let ii = 0, c, ch; ii < channels.length; ii++) {\n\t\tc = coords[ii];\n\t\tch = channels[ii];\n\t\tif (c.type !== Tok.None) {\n\t\t\tres[ch] = c.type === Tok.Number ? c.value : c.value / 100;\n\t\t\tif (ch === 'alpha') {\n\t\t\t\tres[ch] = Math.max(0, Math.min(1, res[ch]));\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nfunction consumeCoords(tokens, includeHue) {\n\tconst coords = [];\n\tlet token;\n\twhile (tokens._i < tokens.length) {\n\t\ttoken = tokens[tokens._i++];\n\t\tif (\n\t\t\ttoken.type === Tok.None ||\n\t\t\ttoken.type === Tok.Number ||\n\t\t\ttoken.type === Tok.Alpha ||\n\t\t\ttoken.type === Tok.Percentage ||\n\t\t\t(includeHue && token.type === Tok.Hue)\n\t\t) {\n\t\t\tcoords.push(token);\n\t\t\tcontinue;\n\t\t}\n\t\tif (token.type === Tok.ParenClose) {\n\t\t\tif (tokens._i < tokens.length) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tif (coords.length < 3 || coords.length > 4) {\n\t\treturn undefined;\n\t}\n\n\tif (coords.length === 4) {\n\t\tif (coords[3].type !== Tok.Alpha) {\n\t\t\treturn undefined;\n\t\t}\n\t\tcoords[3] = coords[3].value;\n\t}\n\tif (coords.length === 3) {\n\t\tcoords.push({ type: Tok.None, value: undefined });\n\t}\n\n\treturn coords.every(c => c.type !== Tok.Alpha) ? coords : undefined;\n}\n\nexport function parseModernSyntax(tokens, includeHue) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function) {\n\t\treturn undefined;\n\t}\n\tlet coords = consumeCoords(tokens, includeHue);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tcoords.unshift(token.value);\n\treturn coords;\n}\n\nconst parse = color => {\n\tif (typeof color !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst tokens = tokenize(color);\n\tconst parsed = tokens ? parseModernSyntax(tokens, true) : undefined;\n\tlet result = undefined;\n\tlet i = 0;\n\tlet len = parsers.length;\n\twhile (i < len) {\n\t\tif ((result = parsers[i++](color, parsed)) !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn tokens ? parseColorSyntax(tokens) : undefined;\n};\n\nexport default parse;\n",
    "import { Tok } from '../parse.js';\n\nfunction parseRgb(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'rgb' && parsed[0] !== 'rgba')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'rgb' };\n\tconst [, r, g, b, alpha] = parsed;\n\tif (r.type === Tok.Hue || g.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (r.type !== Tok.None) {\n\t\tres.r = r.type === Tok.Number ? r.value / 255 : r.value / 100;\n\t}\n\tif (g.type !== Tok.None) {\n\t\tres.g = g.type === Tok.Number ? g.value / 255 : g.value / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value / 255 : b.value / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseRgb;\n",
    "const parseTransparent = c =>\n\tc === 'transparent'\n\t\t? { mode: 'rgb', r: 0, g: 0, b: 0, alpha: 0 }\n\t\t: undefined;\n\nexport default parseTransparent;\n",
    "const lerp = (a, b, t) => a + t * (b - a);\nconst unlerp = (a, b, v) => (v - a) / (b - a);\n\nconst blerp = (a00, a01, a10, a11, tx, ty) => {\n\treturn lerp(lerp(a00, a01, tx), lerp(a10, a11, tx), ty);\n};\n\nconst trilerp = (\n\ta000,\n\ta010,\n\ta100,\n\ta110,\n\ta001,\n\ta011,\n\ta101,\n\ta111,\n\ttx,\n\tty,\n\ttz\n) => {\n\treturn lerp(\n\t\tblerp(a000, a010, a100, a110, tx, ty),\n\t\tblerp(a001, a011, a101, a111, tx, ty),\n\t\ttz\n\t);\n};\n\nexport { lerp, blerp, trilerp, unlerp };\n",
    "const get_classes = arr => {\n\tlet classes = [];\n\tfor (let i = 0; i < arr.length - 1; i++) {\n\t\tlet a = arr[i];\n\t\tlet b = arr[i + 1];\n\t\tif (a === undefined && b === undefined) {\n\t\t\tclasses.push(undefined);\n\t\t} else if (a !== undefined && b !== undefined) {\n\t\t\tclasses.push([a, b]);\n\t\t} else {\n\t\t\tclasses.push(a !== undefined ? [a, a] : [b, b]);\n\t\t}\n\t}\n\treturn classes;\n};\n\nconst interpolatorPiecewise = interpolator => arr => {\n\tlet classes = get_classes(arr);\n\treturn t => {\n\t\tlet cls = t * classes.length;\n\t\tlet idx = t >= 1 ? classes.length - 1 : Math.max(Math.floor(cls), 0);\n\t\tlet pair = classes[idx];\n\t\treturn pair === undefined\n\t\t\t? undefined\n\t\t\t: interpolator(pair[0], pair[1], cls - idx);\n\t};\n};\n\nexport { interpolatorPiecewise };\n",
    "import { lerp } from './lerp.js';\nimport { interpolatorPiecewise } from './piecewise.js';\n\nexport const interpolatorLinear = interpolatorPiecewise(lerp);\n",
    "const fixupAlpha = arr => {\n\tlet some_defined = false;\n\tlet res = arr.map(v => {\n\t\tif (v !== undefined) {\n\t\t\tsome_defined = true;\n\t\t\treturn v;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn some_defined ? res : arr;\n};\n\nexport { fixupAlpha };\n",
    "import parseNamed from './parseNamed.js';\nimport parseHex from './parseHex.js';\nimport parseRgbLegacy from './parseRgbLegacy.js';\nimport parseRgb from './parseRgb.js';\nimport parseTransparent from './parseTransparent.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\n/*\n\tsRGB color space\n */\n\nconst definition = {\n\tmode: 'rgb',\n\tchannels: ['r', 'g', 'b', 'alpha'],\n\tparse: [\n\t\tparseRgb,\n\t\tparseHex,\n\t\tparseRgbLegacy,\n\t\tparseNamed,\n\t\tparseTransparent,\n\t\t'srgb'\n\t],\n\tserialize: 'srgb',\n\tinterpolate: {\n\t\tr: interpolatorLinear,\n\t\tg: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\tgamut: true,\n\twhite: { r: 1, g: 1, b: 1 },\n\tblack: { r: 0, g: 0, b: 0 }\n};\n\nexport default definition;\n",
    "/*\n\tConvert A98 RGB values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n*/\n\nconst linearize = (v = 0) => Math.pow(Math.abs(v), 563 / 256) * Math.sign(v);\n\nconst convertA98ToXyz65 = a98 => {\n\tlet r = linearize(a98.r);\n\tlet g = linearize(a98.g);\n\tlet b = linearize(a98.b);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.5766690429101305 * r +\n\t\t\t0.1855582379065463 * g +\n\t\t\t0.1882286462349947 * b,\n\t\ty:\n\t\t\t0.297344975250536 * r +\n\t\t\t0.6273635662554661 * g +\n\t\t\t0.0752914584939979 * b,\n\t\tz:\n\t\t\t0.0270313613864123 * r +\n\t\t\t0.0706888525358272 * g +\n\t\t\t0.9913375368376386 * b\n\t};\n\tif (a98.alpha !== undefined) {\n\t\tres.alpha = a98.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertA98ToXyz65;\n",
    "/*\n\tConvert CIE XYZ D65 values to A98 RGB\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst gamma = v => Math.pow(Math.abs(v), 256 / 563) * Math.sign(v);\n\nconst convertXyz65ToA98 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'a98',\n\t\tr: gamma(\n\t\t\tx * 2.0415879038107465 -\n\t\t\t\ty * 0.5650069742788597 -\n\t\t\t\t0.3447313507783297 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.9692436362808798 +\n\t\t\t\ty * 1.8759675015077206 +\n\t\t\t\t0.0415550574071756 * z\n\t\t),\n\t\tb: gamma(\n\t\t\tx * 0.0134442806320312 -\n\t\t\t\ty * 0.1183623922310184 +\n\t\t\t\t1.0151749943912058 * z\n\t\t)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToA98;\n",
    "const fn = (c = 0) => {\n\tconst abs = Math.abs(c);\n\tif (abs <= 0.04045) {\n\t\treturn c / 12.92;\n\t}\n\treturn (Math.sign(c) || 1) * Math.pow((abs + 0.055) / 1.055, 2.4);\n};\n\nconst convertRgbToLrgb = ({ r, g, b, alpha }) => {\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToLrgb;\n",
    "/*\n\tConvert sRGB values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://observablehq.com/@danburzo/color-matrix-calculator\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertRgbToXyz65 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.4123907992659593 * r +\n\t\t\t0.357584339383878 * g +\n\t\t\t0.1804807884018343 * b,\n\t\ty:\n\t\t\t0.2126390058715102 * r +\n\t\t\t0.715168678767756 * g +\n\t\t\t0.0721923153607337 * b,\n\t\tz:\n\t\t\t0.0193308187155918 * r +\n\t\t\t0.119194779794626 * g +\n\t\t\t0.9505321522496607 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToXyz65;\n",
    "const fn = (c = 0) => {\n\tconst abs = Math.abs(c);\n\tif (abs > 0.0031308) {\n\t\treturn (Math.sign(c) || 1) * (1.055 * Math.pow(abs, 1 / 2.4) - 0.055);\n\t}\n\treturn c * 12.92;\n};\n\nconst convertLrgbToRgb = ({ r, g, b, alpha }, mode = 'rgb') => {\n\tlet res = {\n\t\tmode,\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLrgbToRgb;\n",
    "/*\n\tCIE XYZ D65 values to sRGB.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://observablehq.com/@danburzo/color-matrix-calculator\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz65ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb({\n\t\tr:\n\t\t\tx * 3.2409699419045226 -\n\t\t\ty * 1.5373831775700939 -\n\t\t\t0.4986107602930034 * z,\n\t\tg:\n\t\t\tx * -0.9692436362808796 +\n\t\t\ty * 1.8759675015077204 +\n\t\t\t0.0415550574071756 * z,\n\t\tb:\n\t\t\tx * 0.0556300796969936 -\n\t\t\ty * 0.2039769588889765 +\n\t\t\t1.0569715142428784 * z\n\t});\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToRgb;\n",
    "import rgb from '../rgb/definition.js';\n\nimport convertA98ToXyz65 from './convertA98ToXyz65.js';\nimport convertXyz65ToA98 from './convertXyz65ToA98.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'a98',\n\tparse: ['a98-rgb'],\n\tserialize: 'a98-rgb',\n\n\tfromMode: {\n\t\trgb: color => convertXyz65ToA98(convertRgbToXyz65(color)),\n\t\txyz65: convertXyz65ToA98\n\t},\n\n\ttoMode: {\n\t\trgb: color => convertXyz65ToRgb(convertA98ToXyz65(color)),\n\t\txyz65: convertA98ToXyz65\n\t}\n};\n\nexport default definition;\n",
    "const normalizeHue = hue => ((hue = hue % 360) < 0 ? hue + 360 : hue);\n\nexport default normalizeHue;\n",
    "import normalizeHue from '../util/normalizeHue.js';\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHslToRgb({ h, s, l, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (l === undefined) l = 0;\n\tlet m1 = l + s * (l < 0.5 ? l : 1 - l);\n\tlet m2 = m1 - (m1 - l) * 2 * Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: m1, g: m2, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: m2, g: m1, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: 2 * l - m1, g: m1, b: m2 };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: 2 * l - m1, g: m2, b: m1 };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: m2, g: 2 * l - m1, b: m1 };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: m1, g: 2 * l - m1, b: m2 };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: 2 * l - m1, g: 2 * l - m1, b: 2 * l - m1 };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n",
    "// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsl({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsl',\n\t\ts: M === m ? 0 : (M - m) / (1 - Math.abs(M + m - 1)),\n\t\tl: 0.5 * (M + m)\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n",
    "const hueToDeg = (val, unit) => {\n\tswitch (unit) {\n\t\tcase 'deg':\n\t\t\treturn +val;\n\t\tcase 'rad':\n\t\t\treturn (val / Math.PI) * 180;\n\t\tcase 'grad':\n\t\t\treturn (val / 10) * 9;\n\t\tcase 'turn':\n\t\t\treturn val * 360;\n\t}\n};\n\nexport default hueToDeg;\n",
    "import hueToDeg from '../util/hue.js';\nimport { hue, per, num_per, c } from '../util/regex.js';\n\n/*\n\thsl() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#the-hsl-notation\n */\nconst hsl_old = new RegExp(\n\t`^hsla?\\\\(\\\\s*${hue}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseHslLegacy = color => {\n\tlet match = color.match(hsl_old);\n\tif (!match) return;\n\tlet res = { mode: 'hsl' };\n\n\tif (match[3] !== undefined) {\n\t\tres.h = +match[3];\n\t} else if (match[1] !== undefined && match[2] !== undefined) {\n\t\tres.h = hueToDeg(match[1], match[2]);\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.s = Math.min(Math.max(0, match[4] / 100), 1);\n\t}\n\n\tif (match[5] !== undefined) {\n\t\tres.l = Math.min(Math.max(0, match[5] / 100), 1);\n\t}\n\n\tif (match[6] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, match[6] / 100));\n\t} else if (match[7] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, +match[7]));\n\t}\n\treturn res;\n};\n\nexport default parseHslLegacy;\n",
    "import { Tok } from '../parse.js';\n\nfunction parseHsl(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'hsl' && parsed[0] !== 'hsla')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hsl' };\n\tconst [, h, s, l, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (s.type !== Tok.None) {\n\t\tif (s.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.s = s.value / 100;\n\t}\n\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = l.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseHsl;\n",
    "import normalizeHue from '../util/normalizeHue.js';\n\nconst hue = (hues, fn) => {\n\treturn hues\n\t\t.map((hue, idx, arr) => {\n\t\t\tif (hue === undefined) {\n\t\t\t\treturn hue;\n\t\t\t}\n\t\t\tlet normalized = normalizeHue(hue);\n\t\t\tif (idx === 0 || hues[idx - 1] === undefined) {\n\t\t\t\treturn normalized;\n\t\t\t}\n\t\t\treturn fn(normalized - normalizeHue(arr[idx - 1]));\n\t\t})\n\t\t.reduce((acc, curr) => {\n\t\t\tif (\n\t\t\t\t!acc.length ||\n\t\t\t\tcurr === undefined ||\n\t\t\t\tacc[acc.length - 1] === undefined\n\t\t\t) {\n\t\t\t\tacc.push(curr);\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t\tacc.push(curr + acc[acc.length - 1]);\n\t\t\treturn acc;\n\t\t}, []);\n};\n\nconst fixupHueShorter = arr =>\n\thue(arr, d => (Math.abs(d) <= 180 ? d : d - 360 * Math.sign(d)));\nconst fixupHueLonger = arr =>\n\thue(arr, d => (Math.abs(d) >= 180 || d === 0 ? d : d - 360 * Math.sign(d)));\nconst fixupHueIncreasing = arr => hue(arr, d => (d >= 0 ? d : d + 360));\nconst fixupHueDecreasing = arr => hue(arr, d => (d <= 0 ? d : d - 360));\n\nexport {\n\tfixupHueShorter,\n\tfixupHueLonger,\n\tfixupHueIncreasing,\n\tfixupHueDecreasing\n};\n",
    "import { getMode } from './modes.js';\nimport converter from './converter.js';\nimport normalizeHue from './util/normalizeHue.js';\n\nconst differenceHueSaturation = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.s || !smp.s) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.s * smp.s) * dH;\n};\n\nconst differenceHueNaive = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tif (Math.abs(smp_h - std_h) > 180) {\n\t\t// todo should this be normalized once again?\n\t\treturn std_h - (smp_h - 360 * Math.sign(smp_h - std_h));\n\t}\n\treturn smp_h - std_h;\n};\n\nconst differenceHueChroma = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.c || !smp.c) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.c * smp.c) * dH;\n};\n\nconst differenceEuclidean = (mode = 'rgb', weights = [1, 1, 1, 0]) => {\n\tlet def = getMode(mode);\n\tlet channels = def.channels;\n\tlet diffs = def.difference;\n\tlet conv = converter(mode);\n\treturn (std, smp) => {\n\t\tlet ConvStd = conv(std);\n\t\tlet ConvSmp = conv(smp);\n\t\treturn Math.sqrt(\n\t\t\tchannels.reduce((sum, k, idx) => {\n\t\t\t\tlet delta = diffs[k]\n\t\t\t\t\t? diffs[k](ConvStd, ConvSmp)\n\t\t\t\t\t: ConvStd[k] - ConvSmp[k];\n\t\t\t\treturn (\n\t\t\t\t\tsum +\n\t\t\t\t\t(weights[idx] || 0) * Math.pow(isNaN(delta) ? 0 : delta, 2)\n\t\t\t\t);\n\t\t\t}, 0)\n\t\t);\n\t};\n};\n\nconst differenceCie76 = () => differenceEuclidean('lab65');\n\nconst differenceCie94 = (kL = 1, K1 = 0.045, K2 = 0.015) => {\n\tlet lab = converter('lab65');\n\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\t// Extract Lab values, and compute Chroma\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(kL, 2) +\n\t\t\t\tdC2 / Math.pow(1 + K1 * cStd, 2) +\n\t\t\t\tdH2 / Math.pow(1 + K2 * cStd, 2)\n\t\t);\n\t};\n};\n\n/*\n\tCIEDE2000 color difference, original Matlab implementation by Gaurav Sharma\n\tBased on \"The CIEDE2000 Color-Difference Formula: Implementation Notes, Supplementary Test Data, and Mathematical Observations\" \n\tby Gaurav Sharma, Wencheng Wu, Edul N. Dalal in Color Research and Application, vol. 30. No. 1, pp. 21-30, February 2005.\n\thttp://www2.ece.rochester.edu/~gsharma/ciede2000/\n */\n\nconst differenceCiede2000 = (Kl = 1, Kc = 1, Kh = 1) => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet cAvg = (cStd + cSmp) / 2;\n\n\t\tlet G =\n\t\t\t0.5 *\n\t\t\t(1 -\n\t\t\t\tMath.sqrt(\n\t\t\t\t\tMath.pow(cAvg, 7) / (Math.pow(cAvg, 7) + Math.pow(25, 7))\n\t\t\t\t));\n\n\t\tlet apStd = aStd * (1 + G);\n\t\tlet apSmp = aSmp * (1 + G);\n\n\t\tlet cpStd = Math.sqrt(apStd * apStd + bStd * bStd);\n\t\tlet cpSmp = Math.sqrt(apSmp * apSmp + bSmp * bSmp);\n\n\t\tlet hpStd =\n\t\t\tMath.abs(apStd) + Math.abs(bStd) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bStd, apStd);\n\t\thpStd += (hpStd < 0) * 2 * Math.PI;\n\n\t\tlet hpSmp =\n\t\t\tMath.abs(apSmp) + Math.abs(bSmp) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bSmp, apSmp);\n\t\thpSmp += (hpSmp < 0) * 2 * Math.PI;\n\n\t\tlet dL = lSmp - lStd;\n\t\tlet dC = cpSmp - cpStd;\n\n\t\tlet dhp = cpStd * cpSmp === 0 ? 0 : hpSmp - hpStd;\n\t\tdhp -= (dhp > Math.PI) * 2 * Math.PI;\n\t\tdhp += (dhp < -Math.PI) * 2 * Math.PI;\n\n\t\tlet dH = 2 * Math.sqrt(cpStd * cpSmp) * Math.sin(dhp / 2);\n\n\t\tlet Lp = (lStd + lSmp) / 2;\n\t\tlet Cp = (cpStd + cpSmp) / 2;\n\n\t\tlet hp;\n\t\tif (cpStd * cpSmp === 0) {\n\t\t\thp = hpStd + hpSmp;\n\t\t} else {\n\t\t\thp = (hpStd + hpSmp) / 2;\n\t\t\thp -= (Math.abs(hpStd - hpSmp) > Math.PI) * Math.PI;\n\t\t\thp += (hp < 0) * 2 * Math.PI;\n\t\t}\n\n\t\tlet Lpm50 = Math.pow(Lp - 50, 2);\n\t\tlet T =\n\t\t\t1 -\n\t\t\t0.17 * Math.cos(hp - Math.PI / 6) +\n\t\t\t0.24 * Math.cos(2 * hp) +\n\t\t\t0.32 * Math.cos(3 * hp + Math.PI / 30) -\n\t\t\t0.2 * Math.cos(4 * hp - (63 * Math.PI) / 180);\n\n\t\tlet Sl = 1 + (0.015 * Lpm50) / Math.sqrt(20 + Lpm50);\n\t\tlet Sc = 1 + 0.045 * Cp;\n\t\tlet Sh = 1 + 0.015 * Cp * T;\n\n\t\tlet deltaTheta =\n\t\t\t((30 * Math.PI) / 180) *\n\t\t\tMath.exp(-1 * Math.pow(((180 / Math.PI) * hp - 275) / 25, 2));\n\t\tlet Rc =\n\t\t\t2 *\n\t\t\tMath.sqrt(Math.pow(Cp, 7) / (Math.pow(Cp, 7) + Math.pow(25, 7)));\n\n\t\tlet Rt = -1 * Math.sin(2 * deltaTheta) * Rc;\n\n\t\treturn Math.sqrt(\n\t\t\tMath.pow(dL / (Kl * Sl), 2) +\n\t\t\t\tMath.pow(dC / (Kc * Sc), 2) +\n\t\t\t\tMath.pow(dH / (Kh * Sh), 2) +\n\t\t\t\t(((Rt * dC) / (Kc * Sc)) * dH) / (Kh * Sh)\n\t\t);\n\t};\n};\n\n/*\n\tCMC (l:c) difference formula\n\n\tReferences:\n\t\thttps://en.wikipedia.org/wiki/Color_difference#CMC_l:c_(1984)\n\t\thttp://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n */\nconst differenceCmc = (l = 1, c = 1) => {\n\tlet lab = converter('lab65');\n\n\t/*\n\t\tComparte two colors:\n\t\tstd - standard (first) color\n\t\tsmp - sample (second) color\n\t */\n\treturn (std, smp) => {\n\t\t// convert standard color to Lab\n\t\tlet LabStd = lab(std);\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\n\t\t// Obtain hue/chroma\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\t\tlet hStd = Math.atan2(bStd, aStd);\n\t\thStd = hStd + 2 * Math.PI * (hStd < 0);\n\n\t\t// convert sample color to Lab, obtain LCh\n\t\tlet LabSmp = lab(smp);\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\n\t\t// Obtain chroma\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\t// lightness delta squared\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\n\t\t// chroma delta squared\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\n\t\t// hue delta squared\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\tlet F = Math.sqrt(Math.pow(cStd, 4) / (Math.pow(cStd, 4) + 1900));\n\t\tlet T =\n\t\t\thStd >= (164 / 180) * Math.PI && hStd <= (345 / 180) * Math.PI\n\t\t\t\t? 0.56 + Math.abs(0.2 * Math.cos(hStd + (168 / 180) * Math.PI))\n\t\t\t\t: 0.36 + Math.abs(0.4 * Math.cos(hStd + (35 / 180) * Math.PI));\n\n\t\tlet Sl = lStd < 16 ? 0.511 : (0.040975 * lStd) / (1 + 0.01765 * lStd);\n\t\tlet Sc = (0.0638 * cStd) / (1 + 0.0131 * cStd) + 0.638;\n\t\tlet Sh = Sc * (F * T + 1 - F);\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(l * Sl, 2) +\n\t\t\t\tdC2 / Math.pow(c * Sc, 2) +\n\t\t\t\tdH2 / Math.pow(Sh, 2)\n\t\t);\n\t};\n};\n\n/*\n\n\tHyAB color difference formula, introduced in:\n\n\t\tAbasi S, Amani Tehran M, Fairchild MD. \n\t\t\"Distance metrics for very large color differences.\"\n\t\tColor Res Appl. 2019; 116. \n\t\thttps://doi.org/10.1002/col.22451\n\n\tPDF available at:\n\t\n\t\thttp://markfairchild.org/PDFs/PAP40.pdf\n */\nconst differenceHyab = () => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\t\tlet dL = LabStd.l - LabSmp.l;\n\t\tlet dA = LabStd.a - LabSmp.a;\n\t\tlet dB = LabStd.b - LabSmp.b;\n\t\treturn Math.abs(dL) + Math.sqrt(dA * dA + dB * dB);\n\t};\n};\n\n/*\n\t\"Measuring perceived color difference using YIQ NTSC\n\ttransmission color space in mobile applications\"\n\t\t\n\t\tby Yuriy Kotsarenko, Fernando Ramos in:\n\t\tProgramacin Matemtica y Software (2010) \n\n\tAvailable at:\n\t\t\n\t\thttp://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf\n */\nconst differenceKotsarenkoRamos = () =>\n\tdifferenceEuclidean('yiq', [0.5053, 0.299, 0.1957]);\n\n/*\n\tE_ITP, as defined in Rec. ITU-R BT.2124:\n\n\thttps://www.itu.int/rec/R-REC-BT.2124/en\n*/\nconst differenceItp = () =>\n\tdifferenceEuclidean('itp', [518400, 129600, 518400]);\n\nexport {\n\tdifferenceHueChroma,\n\tdifferenceHueSaturation,\n\tdifferenceHueNaive,\n\tdifferenceEuclidean,\n\tdifferenceCie76,\n\tdifferenceCie94,\n\tdifferenceCiede2000,\n\tdifferenceCmc,\n\tdifferenceHyab,\n\tdifferenceKotsarenkoRamos,\n\tdifferenceItp\n};\n",
    "import converter from './converter.js';\nimport { getMode } from './modes.js';\n\nconst averageAngle = val => {\n\t// See: https://en.wikipedia.org/wiki/Mean_of_circular_quantities\n\tlet sum = val.reduce(\n\t\t(sum, val) => {\n\t\t\tif (val !== undefined) {\n\t\t\t\tlet rad = (val * Math.PI) / 180;\n\t\t\t\tsum.sin += Math.sin(rad);\n\t\t\t\tsum.cos += Math.cos(rad);\n\t\t\t}\n\t\t\treturn sum;\n\t\t},\n\t\t{ sin: 0, cos: 0 }\n\t);\n\tlet angle = (Math.atan2(sum.sin, sum.cos) * 180) / Math.PI;\n\treturn angle < 0 ? 360 + angle : angle;\n};\n\nconst averageNumber = val => {\n\tlet a = val.filter(v => v !== undefined);\n\treturn a.length ? a.reduce((sum, v) => sum + v, 0) / a.length : undefined;\n};\n\nconst isfn = o => typeof o === 'function';\n\nfunction average(colors, mode = 'rgb', overrides) {\n\tlet def = getMode(mode);\n\tlet cc = colors.map(converter(mode));\n\treturn def.channels.reduce(\n\t\t(res, ch) => {\n\t\t\tlet arr = cc.map(c => c[ch]).filter(val => val !== undefined);\n\t\t\tif (arr.length) {\n\t\t\t\tlet fn;\n\t\t\t\tif (isfn(overrides)) {\n\t\t\t\t\tfn = overrides;\n\t\t\t\t} else if (overrides && isfn(overrides[ch])) {\n\t\t\t\t\tfn = overrides[ch];\n\t\t\t\t} else if (def.average && isfn(def.average[ch])) {\n\t\t\t\t\tfn = def.average[ch];\n\t\t\t\t} else {\n\t\t\t\t\tfn = averageNumber;\n\t\t\t\t}\n\t\t\t\tres[ch] = fn(arr, ch);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{ mode }\n\t);\n}\n\nexport { average, averageAngle, averageNumber };\n",
    "import convertHslToRgb from './convertHslToRgb.js';\nimport convertRgbToHsl from './convertRgbToHsl.js';\nimport parseHslLegacy from './parseHslLegacy.js';\nimport parseHsl from './parseHsl.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsl',\n\n\ttoMode: {\n\t\trgb: convertHslToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHsl\n\t},\n\n\tchannels: ['h', 's', 'l', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHsl, parseHslLegacy],\n\tserialize: c =>\n\t\t`hsl(${c.h !== undefined ? c.h : 'none'} ${\n\t\t\tc.s !== undefined ? c.s * 100 + '%' : 'none'\n\t\t} ${c.l !== undefined ? c.l * 100 + '%' : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n",
    "import normalizeHue from '../util/normalizeHue.js';\n\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHsvToRgb({ h, s, v, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (v === undefined) v = 0;\n\tlet f = Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: v, g: v * (1 - s * f), b: v * (1 - s) };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: v * (1 - s * f), g: v, b: v * (1 - s) };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: v * (1 - s), g: v, b: v * (1 - s * f) };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: v * (1 - s), g: v * (1 - s * f), b: v };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: v * (1 - s * f), g: v * (1 - s), b: v };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: v, g: v * (1 - s), b: v * (1 - s * f) };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: v * (1 - s), g: v * (1 - s), b: v * (1 - s) };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n",
    "// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsv({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsv',\n\t\ts: M === 0 ? 0 : 1 - m / M,\n\t\tv: M\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n",
    "import convertHsvToRgb from './convertHsvToRgb.js';\nimport convertRgbToHsv from './convertRgbToHsv.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsv',\n\n\ttoMode: {\n\t\trgb: convertHsvToRgb\n\t},\n\n\tparse: ['--hsv'],\n\tserialize: '--hsv',\n\n\tfromMode: {\n\t\trgb: convertRgbToHsv\n\t},\n\n\tchannels: ['h', 's', 'v', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n",
    "/*\n\tHWB to RGB converter\n\t--------------------\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#hwb-to-rgb\n\t\t* https://en.wikipedia.org/wiki/HWB_color_model\n\t\t* http://alvyray.com/Papers/CG/HWB_JGTv208.pdf\n */\n\nimport convertHsvToRgb from '../hsv/convertHsvToRgb.js';\n\nexport default function convertHwbToRgb({ h, w, b, alpha }) {\n\tif (w === undefined) w = 0;\n\tif (b === undefined) b = 0;\n\t// normalize w + b to 1\n\tif (w + b > 1) {\n\t\tlet s = w + b;\n\t\tw /= s;\n\t\tb /= s;\n\t}\n\treturn convertHsvToRgb({\n\t\th: h,\n\t\ts: b === 1 ? 1 : 1 - w / (1 - b),\n\t\tv: 1 - b,\n\t\talpha: alpha\n\t});\n}\n",
    "/*\n\tRGB to HWB converter\n\t--------------------\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#hwb-to-rgb\n\t\t* https://en.wikipedia.org/wiki/HWB_color_model\n\t\t* http://alvyray.com/Papers/CG/HWB_JGTv208.pdf\n */\n\nimport convertRgbToHsv from '../hsv/convertRgbToHsv.js';\n\nexport default function convertRgbToHwb(rgba) {\n\tlet hsv = convertRgbToHsv(rgba);\n\tif (hsv === undefined) return undefined;\n\tlet s = hsv.s !== undefined ? hsv.s : 0;\n\tlet v = hsv.v !== undefined ? hsv.v : 0;\n\tlet res = {\n\t\tmode: 'hwb',\n\t\tw: (1 - s) * v,\n\t\tb: 1 - v\n\t};\n\tif (hsv.h !== undefined) res.h = hsv.h;\n\tif (hsv.alpha !== undefined) res.alpha = hsv.alpha;\n\treturn res;\n}\n",
    "import { Tok } from '../parse.js';\n\nfunction ParseHwb(color, parsed) {\n\tif (!parsed || parsed[0] !== 'hwb') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hwb' };\n\tconst [, h, w, b, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (w.type !== Tok.None) {\n\t\tif (w.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.w = w.value / 100;\n\t}\n\n\tif (b.type !== Tok.None) {\n\t\tif (b.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.b = b.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default ParseHwb;\n",
    "import convertHwbToRgb from './convertHwbToRgb.js';\nimport convertRgbToHwb from './convertRgbToHwb.js';\nimport parseHwb from './parseHwb.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueNaive } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hwb',\n\n\ttoMode: {\n\t\trgb: convertHwbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHwb\n\t},\n\n\tchannels: ['h', 'w', 'b', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHwb],\n\tserialize: c =>\n\t\t`hwb(${c.h !== undefined ? c.h : 'none'} ${\n\t\t\tc.w !== undefined ? c.w * 100 + '%' : 'none'\n\t\t} ${c.b !== undefined ? c.b * 100 + '%' : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tw: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueNaive\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n",
    "export const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n",
    "/*\n\tThe XYZ tristimulus values (white point)\n\tof standard illuminants for the CIE 1931 2 \n\tstandard observer.\n\n\tSee: https://en.wikipedia.org/wiki/Standard_illuminant\n */\n\nexport const D50 = {\n\tX: 0.3457 / 0.3585,\n\tY: 1,\n\tZ: (1 - 0.3457 - 0.3585) / 0.3585\n};\n\nexport const D65 = {\n\tX: 0.3127 / 0.329,\n\tY: 1,\n\tZ: (1 - 0.3127 - 0.329) / 0.329\n};\n\nexport const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n",
    "import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nlet fn = v => (Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k);\n\nconst convertLabToXyz50 = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx: fn(fx) * D50.X,\n\t\ty: fn(fy) * D50.Y,\n\t\tz: fn(fz) * D50.Z\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLabToXyz50;\n",
    "/*\n\tCIE XYZ D50 values to sRGB.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz50ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb({\n\t\tr:\n\t\t\tx * 3.1341359569958707 -\n\t\t\ty * 1.6173863321612538 -\n\t\t\t0.4906619460083532 * z,\n\t\tg:\n\t\t\tx * -0.978795502912089 +\n\t\t\ty * 1.916254567259524 +\n\t\t\t0.03344273116131949 * z,\n\t\tb:\n\t\t\tx * 0.07195537988411677 -\n\t\t\ty * 0.2289768264158322 +\n\t\t\t1.405386058324125 * z\n\t});\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToRgb;\n",
    "import convertLabToXyz50 from './convertLabToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\n\nconst convertLabToRgb = lab => convertXyz50ToRgb(convertLabToXyz50(lab));\n\nexport default convertLabToRgb;\n",
    "/*\n\tConvert sRGB values to CIE XYZ D50\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertRgbToXyz50 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t0.436065742824811 * r +\n\t\t\t0.3851514688337912 * g +\n\t\t\t0.14307845442264197 * b,\n\t\ty:\n\t\t\t0.22249319175623702 * r +\n\t\t\t0.7168870538238823 * g +\n\t\t\t0.06061979053616537 * b,\n\t\tz:\n\t\t\t0.013923904500943465 * r +\n\t\t\t0.09708128566574634 * g +\n\t\t\t0.7140993584005155 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToXyz50;\n",
    "import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nconst f = value => (value > e ? Math.cbrt(value) : (k * value + 16) / 116);\n\nconst convertXyz50ToLab = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet f0 = f(x / D50.X);\n\tlet f1 = f(y / D50.Y);\n\tlet f2 = f(z / D50.Z);\n\n\tlet res = {\n\t\tmode: 'lab',\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz50ToLab;\n",
    "import convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\nimport convertXyz50ToLab from './convertXyz50ToLab.js';\n\nconst convertRgbToLab = rgb => {\n\tlet res = convertXyz50ToLab(convertRgbToXyz50(rgb));\n\n\t// Fixes achromatic RGB colors having a _slight_ chroma due to floating-point errors\n\t// and approximated computations in sRGB <-> CIELab.\n\t// See: https://github.com/d3/d3-color/pull/46\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToLab;\n",
    "import { Tok } from '../parse.js';\n\nfunction parseLab(color, parsed) {\n\tif (!parsed || parsed[0] !== 'lab') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'lab' };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (a.type !== Tok.None) {\n\t\tres.a = a.type === Tok.Number ? a.value : (a.value * 125) / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value : (b.value * 125) / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseLab;\n",
    "import convertLabToRgb from './convertLabToRgb.js';\nimport convertLabToXyz50 from './convertLabToXyz50.js';\nimport convertRgbToLab from './convertRgbToLab.js';\nimport convertXyz50ToLab from './convertXyz50ToLab.js';\nimport parseLab from './parseLab.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'lab',\n\n\ttoMode: {\n\t\txyz50: convertLabToXyz50,\n\t\trgb: convertLabToRgb\n\t},\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToLab,\n\t\trgb: convertRgbToLab\n\t},\n\n\tchannels: ['l', 'a', 'b', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t},\n\n\tparse: [parseLab],\n\tserialize: c =>\n\t\t`lab(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.a !== undefined ? c.a : 'none'\n\t\t} ${c.b !== undefined ? c.b : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n",
    "export const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n",
    "import { k, e } from '../xyz65/constants.js';\nimport { D65 } from '../constants.js';\n\nlet fn = v => (Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k);\n\nconst convertLab65ToXyz65 = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx: fn(fx) * D65.X,\n\t\ty: fn(fy) * D65.Y,\n\t\tz: fn(fz) * D65.Z\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLab65ToXyz65;\n",
    "import convertLab65ToXyz65 from './convertLab65ToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst convertLab65ToRgb = lab => convertXyz65ToRgb(convertLab65ToXyz65(lab));\n\nexport default convertLab65ToRgb;\n",
    "import { k, e } from '../xyz65/constants.js';\nimport { D65 } from '../constants.js';\n\nconst f = value => (value > e ? Math.cbrt(value) : (k * value + 16) / 116);\n\nconst convertXyz65ToLab65 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet f0 = f(x / D65.X);\n\tlet f1 = f(y / D65.Y);\n\tlet f2 = f(z / D65.Z);\n\n\tlet res = {\n\t\tmode: 'lab65',\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToLab65;\n",
    "import convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToLab65 from './convertXyz65ToLab65.js';\n\nconst convertRgbToLab65 = rgb => {\n\tlet res = convertXyz65ToLab65(convertRgbToXyz65(rgb));\n\n\t// Fixes achromatic RGB colors having a _slight_ chroma due to floating-point errors\n\t// and approximated computations in sRGB <-> CIELab.\n\t// See: https://github.com/d3/d3-color/pull/46\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToLab65;\n",
    "import convertLab65ToRgb from './convertLab65ToRgb.js';\nimport convertLab65ToXyz65 from './convertLab65ToXyz65.js';\nimport convertRgbToLab65 from './convertRgbToLab65.js';\nimport convertXyz65ToLab65 from './convertXyz65ToLab65.js';\nimport lab from '../lab/definition.js';\n\nconst definition = {\n\t...lab,\n\tmode: 'lab65',\n\n\tparse: ['--lab-d65'],\n\tserialize: '--lab-d65',\n\n\ttoMode: {\n\t\txyz65: convertLab65ToXyz65,\n\t\trgb: convertLab65ToRgb\n\t},\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToLab65,\n\t\trgb: convertRgbToLab65\n\t},\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t}\n};\n\nexport default definition;\n",
    "import normalizeHue from '../util/normalizeHue.js';\n\n/* \n\tReferences: \n\t\t* https://drafts.csswg.org/css-color/#lab-to-lch\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n*/\nconst convertLabToLch = ({ l, a, b, alpha }, mode = 'lch') => {\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet c = Math.sqrt(a * a + b * b);\n\tlet res = { mode, l, c };\n\tif (c) res.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLabToLch;\n",
    "/* \n\tReferences: \n\t\t* https://drafts.csswg.org/css-color/#lch-to-lab\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n*/\nconst convertLchToLab = ({ l, c, h, alpha }, mode = 'lab') => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode,\n\t\tl,\n\t\ta: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tb: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLchToLab;\n",
    "import { Tok } from '../parse.js';\n\nfunction parseLch(color, parsed) {\n\tif (!parsed || parsed[0] !== 'lch') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'lch' };\n\tconst [, l, c, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (c.type !== Tok.None) {\n\t\tres.c = Math.max(\n\t\t\t0,\n\t\t\tc.type === Tok.Number ? c.value : (c.value * 150) / 100\n\t\t);\n\t}\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseLch;\n",
    "import convertLabToLch from './convertLabToLch.js';\nimport convertLchToLab from './convertLchToLab.js';\nimport convertLabToRgb from '../lab/convertLabToRgb.js';\nimport convertRgbToLab from '../lab/convertRgbToLab.js';\nimport parseLch from './parseLch.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'lch',\n\n\ttoMode: {\n\t\tlab: convertLchToLab,\n\t\trgb: c => convertLabToRgb(convertLchToLab(c))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToLab(c)),\n\t\tlab: convertLabToLch\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t},\n\n\tparse: [parseLch],\n\tserialize: c =>\n\t\t`lch(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.c !== undefined ? c.c : 'none'\n\t\t} ${c.h !== undefined ? c.h : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n",
    "import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\nimport lch from '../lch/definition.js';\n\nconst definition = {\n\t...lch,\n\tmode: 'lch65',\n\n\tparse: ['--lch-d65'],\n\tserialize: '--lch-d65',\n\n\ttoMode: {\n\t\tlab65: c => convertLchToLab(c, 'lab65'),\n\t\trgb: c => convertLab65ToRgb(convertLchToLab(c, 'lab65'))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToLab65(c), 'lch65'),\n\t\tlab65: c => convertLabToLch(c, 'lch65')\n\t},\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t}\n};\n\nexport default definition;\n",
    "import rgb from '../rgb/definition.js';\nimport convertRgbToLrgb from './convertRgbToLrgb.js';\nimport convertLrgbToRgb from './convertLrgbToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'lrgb',\n\n\ttoMode: {\n\t\trgb: convertLrgbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToLrgb\n\t},\n\n\tparse: ['srgb-linear'],\n\tserialize: 'srgb-linear'\n};\n\nexport default definition;\n",
    "const convertOklabToLrgb = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\n\tlet L = Math.pow(l + 0.3963377773761749 * a + 0.2158037573099136 * b, 3);\n\tlet M = Math.pow(l - 0.1055613458156586 * a - 0.0638541728258133 * b, 3);\n\tlet S = Math.pow(l - 0.0894841775298119 * a - 1.2914855480194092 * b, 3);\n\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr:\n\t\t\t4.0767416360759574 * L -\n\t\t\t3.3077115392580616 * M +\n\t\t\t0.2309699031821044 * S,\n\t\tg:\n\t\t\t-1.2684379732850317 * L +\n\t\t\t2.6097573492876887 * M -\n\t\t\t0.3413193760026573 * S,\n\t\tb:\n\t\t\t-0.0041960761386756 * L -\n\t\t\t0.7034186179359362 * M +\n\t\t\t1.7076146940746117 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertOklabToLrgb;\n",
    "const convertLrgbToOklab = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\n\tlet L = Math.cbrt(\n\t\t0.412221469470763 * r + 0.5363325372617348 * g + 0.0514459932675022 * b\n\t);\n\tlet M = Math.cbrt(\n\t\t0.2119034958178252 * r + 0.6806995506452344 * g + 0.1073969535369406 * b\n\t);\n\tlet S = Math.cbrt(\n\t\t0.0883024591900564 * r + 0.2817188391361215 * g + 0.6299787016738222 * b\n\t);\n\n\tlet res = {\n\t\tmode: 'oklab',\n\t\tl:\n\t\t\t0.210454268309314 * L +\n\t\t\t0.7936177747023054 * M -\n\t\t\t0.0040720430116193 * S,\n\t\ta:\n\t\t\t1.9779985324311684 * L -\n\t\t\t2.4285922420485799 * M +\n\t\t\t0.450593709617411 * S,\n\t\tb:\n\t\t\t0.0259040424655478 * L +\n\t\t\t0.7827717124575296 * M -\n\t\t\t0.8086757549230774 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLrgbToOklab;\n",
    "import convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\n\nconst convertRgbToOklab = rgb => {\n\tlet res = convertLrgbToOklab(convertRgbToLrgb(rgb));\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToOklab;\n",
    "import convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\nimport convertOklabToLrgb from './convertOklabToLrgb.js';\n\nconst convertOklabToRgb = c => convertLrgbToRgb(convertOklabToLrgb(c));\n\nexport default convertOklabToRgb;\n",
    "import { Tok } from '../parse.js';\n\nfunction parseOklab(color, parsed) {\n\tif (!parsed || parsed[0] !== 'oklab') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'oklab' };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tres.l = Math.min(\n\t\t\tMath.max(0, l.type === Tok.Number ? l.value : l.value / 100),\n\t\t\t1\n\t\t);\n\t}\n\tif (a.type !== Tok.None) {\n\t\tres.a = a.type === Tok.Number ? a.value : (a.value * 0.4) / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value : (b.value * 0.4) / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseOklab;\n",
    "import convertOklabToLrgb from './convertOklabToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\nimport convertRgbToOklab from './convertRgbToOklab.js';\nimport convertOklabToRgb from './convertOklabToRgb.js';\nimport parseOklab from './parseOklab.js';\n\nimport lab from '../lab/definition.js';\n\n/*\n\tOklab, a perceptual color space for image processing by Bjrn Ottosson\n\tReference: https://bottosson.github.io/posts/oklab/\n */\n\nconst definition = {\n\t...lab,\n\tmode: 'oklab',\n\n\ttoMode: {\n\t\tlrgb: convertOklabToLrgb,\n\t\trgb: convertOklabToRgb\n\t},\n\n\tfromMode: {\n\t\tlrgb: convertLrgbToOklab,\n\t\trgb: convertRgbToOklab\n\t},\n\n\tranges: {\n\t\tl: [0, 1],\n\t\ta: [-0.4, 0.4],\n\t\tb: [-0.4, 0.4]\n\t},\n\n\tparse: [parseOklab],\n\tserialize: c =>\n\t\t`oklab(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.a !== undefined ? c.a : 'none'\n\t\t} ${c.b !== undefined ? c.b : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`\n};\n\nexport default definition;\n",
    "import { Tok } from '../parse.js';\n\nfunction parseOklch(color, parsed) {\n\tif (!parsed || parsed[0] !== 'oklch') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'oklch' };\n\tconst [, l, c, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = Math.min(\n\t\t\tMath.max(0, l.type === Tok.Number ? l.value : l.value / 100),\n\t\t\t1\n\t\t);\n\t}\n\tif (c.type !== Tok.None) {\n\t\tres.c = Math.max(\n\t\t\t0,\n\t\t\tc.type === Tok.Number ? c.value : (c.value * 0.4) / 100\n\t\t);\n\t}\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseOklch;\n",
    "import lch from '../lch/definition.js';\nimport convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport parseOklch from './parseOklch.js';\n\nconst definition = {\n\t...lch,\n\tmode: 'oklch',\n\n\ttoMode: {\n\t\toklab: c => convertLchToLab(c, 'oklab'),\n\t\trgb: c => convertOklabToRgb(convertLchToLab(c, 'oklab'))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToOklab(c), 'oklch'),\n\t\toklab: c => convertLabToLch(c, 'oklch')\n\t},\n\n\tparse: [parseOklch],\n\tserialize: c =>\n\t\t`oklch(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.c !== undefined ? c.c : 'none'\n\t\t} ${c.h !== undefined ? c.h : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tranges: {\n\t\tl: [0, 1],\n\t\tc: [0, 0.4],\n\t\th: [0, 360]\n\t}\n};\n\nexport default definition;\n",
    "/*\n\tConvert Display P3 values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertP3ToXyz65 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.486570948648216 * r +\n\t\t\t0.265667693169093 * g +\n\t\t\t0.1982172852343625 * b,\n\t\ty:\n\t\t\t0.2289745640697487 * r +\n\t\t\t0.6917385218365062 * g +\n\t\t\t0.079286914093745 * b,\n\t\tz: 0.0 * r + 0.0451133818589026 * g + 1.043944368900976 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertP3ToXyz65;\n",
    "/*\n\tCIE XYZ D65 values to Display P3.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz65ToP3 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb(\n\t\t{\n\t\t\tr:\n\t\t\t\tx * 2.4934969119414263 -\n\t\t\t\ty * 0.9313836179191242 -\n\t\t\t\t0.402710784450717 * z,\n\t\t\tg:\n\t\t\t\tx * -0.8294889695615749 +\n\t\t\t\ty * 1.7626640603183465 +\n\t\t\t\t0.0236246858419436 * z,\n\t\t\tb:\n\t\t\t\tx * 0.0358458302437845 -\n\t\t\t\ty * 0.0761723892680418 +\n\t\t\t\t0.9568845240076871 * z\n\t\t},\n\t\t'p3'\n\t);\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToP3;\n",
    "import rgb from '../rgb/definition.js';\nimport convertP3ToXyz65 from './convertP3ToXyz65.js';\nimport convertXyz65ToP3 from './convertXyz65ToP3.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'p3',\n\tparse: ['display-p3'],\n\tserialize: 'display-p3',\n\n\tfromMode: {\n\t\trgb: color => convertXyz65ToP3(convertRgbToXyz65(color)),\n\t\txyz65: convertXyz65ToP3\n\t},\n\n\ttoMode: {\n\t\trgb: color => convertXyz65ToRgb(convertP3ToXyz65(color)),\n\t\txyz65: convertP3ToXyz65\n\t}\n};\n\nexport default definition;\n",
    "/*\n\tConvert CIE XYZ D50 values to ProPhoto RGB\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst gamma = v => {\n\tlet abs = Math.abs(v);\n\tif (abs >= 1 / 512) {\n\t\treturn Math.sign(v) * Math.pow(abs, 1 / 1.8);\n\t}\n\treturn 16 * v;\n};\n\nconst convertXyz50ToProphoto = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'prophoto',\n\t\tr: gamma(\n\t\t\tx * 1.3457868816471585 -\n\t\t\t\ty * 0.2555720873797946 -\n\t\t\t\t0.0511018649755453 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.5446307051249019 +\n\t\t\t\ty * 1.5082477428451466 +\n\t\t\t\t0.0205274474364214 * z\n\t\t),\n\t\tb: gamma(x * 0.0 + y * 0.0 + 1.2119675456389452 * z)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToProphoto;\n",
    "/*\n\tConvert ProPhoto RGB values to CIE XYZ D50\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst linearize = (v = 0) => {\n\tlet abs = Math.abs(v);\n\tif (abs >= 16 / 512) {\n\t\treturn Math.sign(v) * Math.pow(abs, 1.8);\n\t}\n\treturn v / 16;\n};\n\nconst convertProphotoToXyz50 = prophoto => {\n\tlet r = linearize(prophoto.r);\n\tlet g = linearize(prophoto.g);\n\tlet b = linearize(prophoto.b);\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t0.7977666449006423 * r +\n\t\t\t0.1351812974005331 * g +\n\t\t\t0.0313477341283922 * b,\n\t\ty:\n\t\t\t0.2880748288194013 * r +\n\t\t\t0.7118352342418731 * g +\n\t\t\t0.0000899369387256 * b,\n\t\tz: 0 * r + 0 * g + 0.8251046025104602 * b\n\t};\n\tif (prophoto.alpha !== undefined) {\n\t\tres.alpha = prophoto.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertProphotoToXyz50;\n",
    "import rgb from '../rgb/definition.js';\n\nimport convertXyz50ToProphoto from './convertXyz50ToProphoto.js';\nimport convertProphotoToXyz50 from './convertProphotoToXyz50.js';\n\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\n/*\n\tProPhoto RGB Color space\n\n\tReferences:\n\t\t* https://en.wikipedia.org/wiki/ProPhoto_RGB_color_space\n */\n\nconst definition = {\n\t...rgb,\n\tmode: 'prophoto',\n\tparse: ['prophoto-rgb'],\n\tserialize: 'prophoto-rgb',\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToProphoto,\n\t\trgb: color => convertXyz50ToProphoto(convertRgbToXyz50(color))\n\t},\n\n\ttoMode: {\n\t\txyz50: convertProphotoToXyz50,\n\t\trgb: color => convertXyz50ToRgb(convertProphotoToXyz50(color))\n\t}\n};\n\nexport default definition;\n",
    "/*\n\tConvert CIE XYZ D65 values to Rec. 2020\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.itu.int/rec/R-REC-BT.2020/en\n*/\n\nconst  = 1.09929682680944;\nconst  = 0.018053968510807;\nconst gamma = v => {\n\tconst abs = Math.abs(v);\n\tif (abs > ) {\n\t\treturn (Math.sign(v) || 1) * ( * Math.pow(abs, 0.45) - ( - 1));\n\t}\n\treturn 4.5 * v;\n};\n\nconst convertXyz65ToRec2020 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'rec2020',\n\t\tr: gamma(\n\t\t\tx * 1.7166511879712683 -\n\t\t\t\ty * 0.3556707837763925 -\n\t\t\t\t0.2533662813736599 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.6666843518324893 +\n\t\t\t\ty * 1.6164812366349395 +\n\t\t\t\t0.0157685458139111 * z\n\t\t),\n\t\tb: gamma(\n\t\t\tx * 0.0176398574453108 -\n\t\t\t\ty * 0.0427706132578085 +\n\t\t\t\t0.9421031212354739 * z\n\t\t)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToRec2020;\n",
    "/*\n\tConvert Rec. 2020 values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.itu.int/rec/R-REC-BT.2020/en\n*/\n\nconst  = 1.09929682680944;\nconst  = 0.018053968510807;\n\nconst linearize = (v = 0) => {\n\tlet abs = Math.abs(v);\n\tif (abs <  * 4.5) {\n\t\treturn v / 4.5;\n\t}\n\treturn (Math.sign(v) || 1) * Math.pow((abs +  - 1) / , 1 / 0.45);\n};\n\nconst convertRec2020ToXyz65 = rec2020 => {\n\tlet r = linearize(rec2020.r);\n\tlet g = linearize(rec2020.g);\n\tlet b = linearize(rec2020.b);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.6369580483012911 * r +\n\t\t\t0.1446169035862083 * g +\n\t\t\t0.1688809751641721 * b,\n\t\ty:\n\t\t\t0.262700212011267 * r +\n\t\t\t0.6779980715188708 * g +\n\t\t\t0.059301716469862 * b,\n\t\tz: 0 * r + 0.0280726930490874 * g + 1.0609850577107909 * b\n\t};\n\tif (rec2020.alpha !== undefined) {\n\t\tres.alpha = rec2020.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRec2020ToXyz65;\n",
    "import rgb from '../rgb/definition.js';\n\nimport convertXyz65ToRec2020 from './convertXyz65ToRec2020.js';\nimport convertRec2020ToXyz65 from './convertRec2020ToXyz65.js';\n\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'rec2020',\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToRec2020,\n\t\trgb: color => convertXyz65ToRec2020(convertRgbToXyz65(color))\n\t},\n\n\ttoMode: {\n\t\txyz65: convertRec2020ToXyz65,\n\t\trgb: color => convertXyz65ToRgb(convertRec2020ToXyz65(color))\n\t},\n\n\tparse: ['rec2020'],\n\tserialize: 'rec2020'\n};\n\nexport default definition;\n",
    "/*\n\tThe XYZ D50 color space\n\t-----------------------\n */\n\nimport convertXyz50ToRgb from './convertXyz50ToRgb.js';\nimport convertXyz50ToLab from '../lab/convertXyz50ToLab.js';\nimport convertRgbToXyz50 from './convertRgbToXyz50.js';\nimport convertLabToXyz50 from '../lab/convertLabToXyz50.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'xyz50',\n\tparse: ['xyz-d50'],\n\tserialize: 'xyz-d50',\n\n\ttoMode: {\n\t\trgb: convertXyz50ToRgb,\n\t\tlab: convertXyz50ToLab\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyz50,\n\t\tlab: convertLabToXyz50\n\t},\n\n\tchannels: ['x', 'y', 'z', 'alpha'],\n\n\tranges: {\n\t\tx: [0, 0.964],\n\t\ty: [0, 0.999],\n\t\tz: [0, 0.825]\n\t},\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n",
    "/*\n\tChromatic adaptation of CIE XYZ from D65 to D50 white point\n\tusing the Bradford method.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\t\n*/\n\nconst convertXyz65ToXyz50 = xyz65 => {\n\tlet { x, y, z, alpha } = xyz65;\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t1.0479298208405488 * x +\n\t\t\t0.0229467933410191 * y -\n\t\t\t0.0501922295431356 * z,\n\t\ty:\n\t\t\t0.0296278156881593 * x +\n\t\t\t0.990434484573249 * y -\n\t\t\t0.0170738250293851 * z,\n\t\tz:\n\t\t\t-0.0092430581525912 * x +\n\t\t\t0.0150551448965779 * y +\n\t\t\t0.7518742899580008 * z\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToXyz50;\n",
    "/*\n\tChromatic adaptation of CIE XYZ from D50 to D65 white point\n\tusing the Bradford method.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\t\n*/\n\nconst convertXyz50ToXyz65 = xyz50 => {\n\tlet { x, y, z, alpha } = xyz50;\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.9554734527042182 * x -\n\t\t\t0.0230985368742614 * y +\n\t\t\t0.0632593086610217 * z,\n\t\ty:\n\t\t\t-0.0283697069632081 * x +\n\t\t\t1.0099954580058226 * y +\n\t\t\t0.021041398966943 * z,\n\t\tz:\n\t\t\t0.0123140016883199 * x -\n\t\t\t0.0205076964334779 * y +\n\t\t\t1.3303659366080753 * z\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToXyz65;\n",
    "/*\n\tThe XYZ D65 color space\n\t-----------------------\n */\n\nimport convertXyz65ToRgb from './convertXyz65ToRgb.js';\nimport convertRgbToXyz65 from './convertRgbToXyz65.js';\n\nimport convertXyz65ToXyz50 from './convertXyz65ToXyz50.js';\nimport convertXyz50ToXyz65 from './convertXyz50ToXyz65.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'xyz65',\n\n\ttoMode: {\n\t\trgb: convertXyz65ToRgb,\n\t\txyz50: convertXyz65ToXyz50\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyz65,\n\t\txyz50: convertXyz50ToXyz65\n\t},\n\n\tranges: {\n\t\tx: [0, 0.95],\n\t\ty: [0, 1],\n\t\tz: [0, 1.088]\n\t},\n\n\tchannels: ['x', 'y', 'z', 'alpha'],\n\n\tparse: ['xyz', 'xyz-d65'],\n\tserialize: 'xyz-d65',\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n",
    "// Color space definitions\nimport modeA98 from '../a98/definition.js';\nimport modeHsl from '../hsl/definition.js';\nimport modeHsv from '../hsv/definition.js';\nimport modeHwb from '../hwb/definition.js';\nimport modeLab from '../lab/definition.js';\nimport modeLab65 from '../lab65/definition.js';\nimport modeLch from '../lch/definition.js';\nimport modeLch65 from '../lch65/definition.js';\nimport modeLrgb from '../lrgb/definition.js';\nimport modeOklab from '../oklab/definition.js';\nimport modeOklch from '../oklch/definition.js';\nimport modeP3 from '../p3/definition.js';\nimport modeProphoto from '../prophoto/definition.js';\nimport modeRec2020 from '../rec2020/definition.js';\nimport modeRgb from '../rgb/definition.js';\nimport modeXyz50 from '../xyz50/definition.js';\nimport modeXyz65 from '../xyz65/definition.js';\nimport { useMode } from '../modes.js';\n\nexport const a98 = useMode(modeA98);\nexport const hsl = useMode(modeHsl);\nexport const hsv = useMode(modeHsv);\nexport const hwb = useMode(modeHwb);\nexport const lab = useMode(modeLab);\nexport const lab65 = useMode(modeLab65);\nexport const lch = useMode(modeLch);\nexport const lch65 = useMode(modeLch65);\nexport const lrgb = useMode(modeLrgb);\nexport const oklab = useMode(modeOklab);\nexport const oklch = useMode(modeOklch);\nexport const p3 = useMode(modeP3);\nexport const prophoto = useMode(modeProphoto);\nexport const rec2020 = useMode(modeRec2020);\nexport const rgb = useMode(modeRgb);\nexport const xyz50 = useMode(modeXyz50);\nexport const xyz65 = useMode(modeXyz65);\n",
    "// From: https://github.com/d3/d3-format/issues/32\n\nconst r = (value, precision) =>\n\tMath.round(value * (precision = Math.pow(10, precision))) / precision;\n\nconst round =\n\t(precision = 4) =>\n\tvalue =>\n\t\ttypeof value === 'number' ? r(value, precision) : value;\n\nexport default round;\n",
    "import converter from './converter.js';\nimport round from './round.js';\nimport prepare from './_prepare.js';\nimport { getMode } from './modes.js';\n\nlet twoDecimals = round(2);\n\nconst clamp = value => Math.max(0, Math.min(1, value || 0));\nconst fixup = value => Math.round(clamp(value) * 255);\n\nconst rgb = converter('rgb');\nconst hsl = converter('hsl');\n\nexport const serializeHex = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet r = fixup(color.r);\n\tlet g = fixup(color.g);\n\tlet b = fixup(color.b);\n\n\treturn '#' + ((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1);\n};\n\nexport const serializeHex8 = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet a = fixup(color.alpha !== undefined ? color.alpha : 1);\n\treturn serializeHex(color) + ((1 << 8) | a).toString(16).slice(1);\n};\n\nexport const serializeRgb = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet r = fixup(color.r);\n\tlet g = fixup(color.g);\n\tlet b = fixup(color.b);\n\n\tif (color.alpha === undefined || color.alpha === 1) {\n\t\t// opaque color\n\t\treturn `rgb(${r}, ${g}, ${b})`;\n\t} else {\n\t\t// transparent color\n\t\treturn `rgba(${r}, ${g}, ${b}, ${twoDecimals(clamp(color.alpha))})`;\n\t}\n};\n\nexport const serializeHsl = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tconst h = twoDecimals(color.h || 0);\n\tconst s = twoDecimals(clamp(color.s) * 100) + '%';\n\tconst l = twoDecimals(clamp(color.l) * 100) + '%';\n\n\tif (color.alpha === undefined || color.alpha === 1) {\n\t\t// opaque color\n\t\treturn `hsl(${h}, ${s}, ${l})`;\n\t} else {\n\t\t// transparent color\n\t\treturn `hsla(${h}, ${s}, ${l}, ${twoDecimals(clamp(color.alpha))})`;\n\t}\n};\n\nexport const formatCss = c => {\n\tconst color = prepare(c);\n\tif (!color) {\n\t\treturn undefined;\n\t}\n\tconst def = getMode(color.mode);\n\tif (!def.serialize || typeof def.serialize === 'string') {\n\t\tlet res = `color(${def.serialize || `--${color.mode}`} `;\n\t\tdef.channels.forEach((ch, i) => {\n\t\t\tif (ch !== 'alpha') {\n\t\t\t\tres +=\n\t\t\t\t\t(i ? ' ' : '') +\n\t\t\t\t\t(color[ch] !== undefined ? color[ch] : 'none');\n\t\t\t}\n\t\t});\n\t\tif (color.alpha !== undefined && color.alpha < 1) {\n\t\t\tres += ` / ${color.alpha}`;\n\t\t}\n\t\treturn res + ')';\n\t}\n\tif (typeof def.serialize === 'function') {\n\t\treturn def.serialize(color);\n\t}\n\treturn undefined;\n};\n\nexport const formatHex = c => serializeHex(rgb(c));\nexport const formatHex8 = c => serializeHex8(rgb(c));\nexport const formatRgb = c => serializeRgb(rgb(c));\nexport const formatHsl = c => serializeHsl(hsl(c));\n",
    "import converter from './converter.js';\nimport prepare from './_prepare.js';\nimport { getMode } from './modes.js';\nimport { differenceEuclidean } from './difference.js';\n\nconst rgb = converter('rgb');\nconst fixup_rgb = c => {\n\tconst res = {\n\t\tmode: c.mode,\n\t\tr: Math.max(0, Math.min(c.r !== undefined ? c.r : 0, 1)),\n\t\tg: Math.max(0, Math.min(c.g !== undefined ? c.g : 0, 1)),\n\t\tb: Math.max(0, Math.min(c.b !== undefined ? c.b : 0, 1))\n\t};\n\tif (c.alpha !== undefined) {\n\t\tres.alpha = c.alpha;\n\t}\n\treturn res;\n};\n\nconst to_displayable_srgb = c => fixup_rgb(rgb(c));\n\nconst inrange_rgb = c => {\n\treturn (\n\t\tc !== undefined &&\n\t\t(c.r === undefined || (c.r >= 0 && c.r <= 1)) &&\n\t\t(c.g === undefined || (c.g >= 0 && c.g <= 1)) &&\n\t\t(c.b === undefined || (c.b >= 0 && c.b <= 1))\n\t);\n};\n\n/*\n\tReturns whether the color is in the sRGB gamut.\n */\nexport function displayable(color) {\n\treturn inrange_rgb(rgb(color));\n}\n\n/*\n\tGiven a color space `mode`, returns a function\n\twith which to check whether a color is \n\tin that color space's gamut.\n */\nexport function inGamut(mode = 'rgb') {\n\tconst { gamut } = getMode(mode);\n\tif (!gamut) {\n\t\treturn color => true;\n\t}\n\tconst conv = converter(typeof gamut === 'string' ? gamut : mode);\n\treturn color => inrange_rgb(conv(color));\n}\n\n/*\n\tObtain a color that's in the sRGB gamut\n\tby converting it to sRGB and clipping the channel values\n\tso that they're within the [0, 1] range.\n\n\tThe result is returned in the color's original color space.\n */\nexport function clampRgb(color) {\n\tcolor = prepare(color);\n\n\t// if the color is undefined or displayable, return it directly\n\tif (color === undefined || displayable(color)) return color;\n\n\t// keep track of color's original mode\n\tlet conv = converter(color.mode);\n\n\treturn conv(to_displayable_srgb(color));\n}\n\n/*\n\tGiven the `mode` color space, returns a function\n\twith which to obtain a color that's in gamut for\n\tthe `mode` color space by clipping the channel values\n\tso that they fit in their respective ranges.\n\n\tIt's similar to `clampRgb`, but works for any \n\tbounded color space (RGB or not) for which \n\tany combination of in-range channel values\n\tproduces an in-gamut color.\n */\nexport function clampGamut(mode = 'rgb') {\n\tconst { gamut } = getMode(mode);\n\tif (!gamut) {\n\t\treturn color => prepare(color);\n\t}\n\tconst destMode = typeof gamut === 'string' ? gamut : mode;\n\tconst destConv = converter(destMode);\n\tconst inDestGamut = inGamut(destMode);\n\treturn color => {\n\t\tconst original = prepare(color);\n\t\tif (!original) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst converted = destConv(original);\n\t\tif (inDestGamut(converted)) {\n\t\t\treturn original;\n\t\t}\n\t\tconst clamped = fixup_rgb(converted);\n\t\tif (original.mode === clamped.mode) {\n\t\t\treturn clamped;\n\t\t}\n\t\treturn converter(original.mode)(clamped);\n\t};\n}\n\n/*\n\tObtain a color thats in a RGB gamut (by default sRGB)\n\tby first converting it to `mode` and then finding \n\tthe greatest chroma value that fits the gamut.\n\n\tBy default, the CIELCh color space is used,\n\tbut any color that has a chroma component will do.\n\n\tThe result is returned in the color's original color space.\n */\nexport function clampChroma(color, mode = 'lch', rgbGamut = 'rgb') {\n\tcolor = prepare(color);\n\n\tlet inDestinationGamut =\n\t\trgbGamut === 'rgb' ? displayable : inGamut(rgbGamut);\n\tlet clipToGamut =\n\t\trgbGamut === 'rgb' ? to_displayable_srgb : clampGamut(rgbGamut);\n\n\t// if the color is undefined or displayable, return it directly\n\tif (color === undefined || inDestinationGamut(color)) return color;\n\n\t// keep track of color's original mode\n\tlet conv = converter(color.mode);\n\n\t// convert to the provided `mode` for clamping\n\tcolor = converter(mode)(color);\n\n\t// try with chroma = 0\n\tlet clamped = { ...color, c: 0 };\n\n\t// if not even chroma = 0 is displayable\n\t// fall back to RGB clamping\n\tif (!inDestinationGamut(clamped)) {\n\t\treturn conv(clipToGamut(clamped));\n\t}\n\n\t// By this time we know chroma = 0 is displayable and our current chroma is not.\n\t// Find the displayable chroma through the bisection method.\n\tlet start = 0;\n\tlet end = color.c !== undefined ? color.c : 0;\n\tlet range = getMode(mode).ranges.c;\n\tlet resolution = (range[1] - range[0]) / Math.pow(2, 13);\n\tlet _last_good_c = clamped.c;\n\n\twhile (end - start > resolution) {\n\t\tclamped.c = start + (end - start) * 0.5;\n\t\tif (inDestinationGamut(clamped)) {\n\t\t\t_last_good_c = clamped.c;\n\t\t\tstart = clamped.c;\n\t\t} else {\n\t\t\tend = clamped.c;\n\t\t}\n\t}\n\n\treturn conv(\n\t\tinDestinationGamut(clamped) ? clamped : { ...clamped, c: _last_good_c }\n\t);\n}\n\n/*\n\tObtain a color that's in the `dest` gamut,\n\tby first converting it to the `mode` color space\n\tand then finding the largest chroma that's in gamut,\n\tsimilar to `clampChroma`. \n\n\tThe color returned is in the `dest` color space.\n\n\tTo address the shortcomings of `clampChroma`, which can\n\tsometimes produce colors more desaturated than necessary,\n\tthe test used in the binary search is replaced with\n\t\"is color is roughly in gamut\", by comparing the candidate \n\tto the clipped version (obtained with `clampGamut`).\n\tThe test passes if the colors are not too dissimilar, \n\tjudged by the `delta` color difference function \n\tand an associated `jnd` just-noticeable difference value.\n\n\tThe default arguments for this function correspond to the\n\tgamut mapping algorithm defined in CSS Color Level 4:\n\thttps://drafts.csswg.org/css-color/#css-gamut-mapping\n\n\tTo disable the roughly in gamut part, pass either\n\t`null` for the `delta` parameter, or zero for `jnd`.\n */\nexport function toGamut(\n\tdest = 'rgb',\n\tmode = 'oklch',\n\tdelta = differenceEuclidean('oklch'),\n\tjnd = 0.02\n) {\n\tconst destConv = converter(dest);\n\tconst destMode = getMode(dest);\n\n\tif (!destMode.gamut) {\n\t\treturn color => destConv(color);\n\t}\n\n\tconst inDestinationGamut = inGamut(dest);\n\tconst clipToGamut = clampGamut(dest);\n\n\tconst ucs = converter(mode);\n\tconst { ranges } = getMode(mode);\n\n\tif (!ranges.l || !ranges.c) {\n\t\tthrow new Error('LCH-like space expected');\n\t}\n\n\treturn color => {\n\t\tcolor = prepare(color);\n\t\tif (color === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst candidate = { ...ucs(color) };\n\n\t\t// account for missing components\n\t\tif (candidate.l === undefined) candidate.l = 0;\n\t\tif (candidate.c === undefined) candidate.c = 0;\n\n\t\tif (candidate.l >= ranges.l[1]) {\n\t\t\tconst res = { ...destMode.white, mode: dest };\n\t\t\tif (color.alpha !== undefined) {\n\t\t\t\tres.alpha = color.alpha;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\tif (candidate.l <= ranges.l[0]) {\n\t\t\tconst res = { ...destMode.black, mode: dest };\n\t\t\tif (color.alpha !== undefined) {\n\t\t\t\tres.alpha = color.alpha;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\tif (inDestinationGamut(candidate)) {\n\t\t\treturn destConv(candidate);\n\t\t}\n\t\tlet start = 0;\n\t\tlet end = candidate.c;\n\t\tlet epsilon = (ranges.c[1] - ranges.c[0]) / 4000; // 0.0001 for oklch()\n\t\tlet clipped = clipToGamut(candidate);\n\t\twhile (end - start > epsilon) {\n\t\t\tcandidate.c = (start + end) * 0.5;\n\t\t\tclipped = clipToGamut(candidate);\n\t\t\tif (\n\t\t\t\tinDestinationGamut(candidate) ||\n\t\t\t\t(delta && jnd > 0 && delta(candidate, clipped) <= jnd)\n\t\t\t) {\n\t\t\t\tstart = candidate.c;\n\t\t\t} else {\n\t\t\t\tend = candidate.c;\n\t\t\t}\n\t\t}\n\t\treturn destConv(inDestinationGamut(candidate) ? candidate : clipped);\n\t};\n}\n",
    "import { differenceEuclidean } from './difference.js';\n\n/*\n\tThis works linearly right now, but we might get better performance\n\twith a V-P Tree (Vantage Point Tree). \n\n\tReference:\n\t* http://pnylab.com/papers/vptree/main.html\n */\n\nconst nearest = (colors, metric = differenceEuclidean(), accessor = d => d) => {\n\tlet arr = colors.map((c, idx) => ({ color: accessor(c), i: idx }));\n\treturn (color, n = 1,  = Infinity) => {\n\t\tif (isFinite(n)) {\n\t\t\tn = Math.max(1, Math.min(n, arr.length - 1));\n\t\t}\n\n\t\tarr.forEach(c => {\n\t\t\tc.d = metric(color, c.color);\n\t\t});\n\n\t\treturn arr\n\t\t\t.sort((a, b) => a.d - b.d)\n\t\t\t.slice(0, n)\n\t\t\t.filter(c => c.d < )\n\t\t\t.map(c => colors[c.i]);\n\t};\n};\n\nexport default nearest;\n",
    "import { converter, type Oklch } from 'culori/fn'\nimport type { Parser } from '../../../types'\n\nexport const asOklch =\n\t(\n\t\tfallback: Oklch = { mode: 'oklch', l: 0.48, c: 0.23, h: 263 },\n\t): Parser<Oklch> =>\n\t(_, v) =>\n\t\t(v ? converter('oklch')(v) : fallback) ?? fallback\n",
    "import type { Oklch } from 'culori'\n\nexport const getStepColor = (base: Oklch, step: number): Oklch => {\n\tconst calcLightness = () => {\n\t\tconst l = base.l\n\t\tconst exp = 2 * Math.log((1 - l) / l)\n\t\treturn (Math.exp(exp * step) - 1) / (Math.exp(exp) - 1)\n\t}\n\tconst calcSinChroma = () => {\n\t\treturn (\n\t\t\t(base.c * (8 * Math.sin((Math.PI * (4 * step + 1)) / 6) ** 3 - 1)) /\n\t\t\t7\n\t\t)\n\t}\n\tconst stepL = base.l !== 0.5 ? calcLightness() : step\n\tconst stepC = base.c > 0 ? calcSinChroma() : 0\n\treturn { mode: 'oklch', l: stepL, c: stepC, h: base.h }\n}\n",
    "import 'culori/css'\nimport { formatCss, formatHex, type Oklch } from 'culori/fn'\nimport {\n\tasString,\n\ttype Component,\n\tcomponent,\n\teffect,\n\tfromDOM,\n\tgetText,\n\tsetText,\n} from '../../..'\nimport { asOklch } from '../../functions/parser/asOklch'\nimport { getStepColor } from '../../functions/shared/getStepColor'\n\nexport type CardColorscaleProps = {\n\tname: string\n\tcolor: Oklch\n}\n\nconst CONTRAST_THRESHOLD = 0.71 // lightness\n\nexport default component(\n\t'card-colorscale',\n\t{\n\t\tname: asString(fromDOM({ '.label strong': getText() }, '')),\n\t\tcolor: asOklch(),\n\t},\n\t(el, { first }) => [\n\t\tfirst('.label strong', setText('name')),\n\t\tfirst(\n\t\t\t'.label small',\n\t\t\tsetText(() => formatHex(el.color)),\n\t\t),\n\t\t() =>\n\t\t\teffect((): undefined => {\n\t\t\t\tconst props = new Map()\n\t\t\t\tconst isLight = el.color.l > CONTRAST_THRESHOLD\n\t\t\t\tconst softStep = isLight ? 0.1 : 0.9\n\t\t\t\tprops.set('base', formatCss(el.color))\n\t\t\t\tprops.set('text', isLight ? 'black' : 'white')\n\t\t\t\tprops.set(\n\t\t\t\t\t'text-soft',\n\t\t\t\t\tformatCss(getStepColor(el.color, softStep)),\n\t\t\t\t)\n\t\t\t\tfor (let i = 4; i > 0; i--)\n\t\t\t\t\tprops.set(\n\t\t\t\t\t\t`lighten${i * 20}`,\n\t\t\t\t\t\tformatCss(getStepColor(el.color, (5 + i) / 10)),\n\t\t\t\t\t)\n\t\t\t\tfor (let i = 1; i < 5; i++)\n\t\t\t\t\tprops.set(\n\t\t\t\t\t\t`darken${i * 20}`,\n\t\t\t\t\t\tformatCss(getStepColor(el.color, (5 - i) / 10)),\n\t\t\t\t\t)\n\t\t\t\tfor (const [key, value] of props)\n\t\t\t\t\tel.style.setProperty(`--color-${key}`, value)\n\t\t\t}),\n\t],\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'card-colorscale': Component<CardColorscaleProps>\n\t}\n}\n",
    "import {\n\tasString,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tgetText,\n\ton,\n\tsetText,\n} from '../../..'\n\nexport type HelloWorldProps = {\n\tname: string\n}\n\nexport default component(\n\t'hello-world',\n\t{ name: asString(fromDOM({ span: getText() }, '')) },\n\t(el, { first }) => {\n\t\tconst fallback = el.name\n\t\treturn [\n\t\t\tfirst(\n\t\t\t\t'input',\n\t\t\t\ton('input', ({ target }) => {\n\t\t\t\t\tel.name = target.value || fallback\n\t\t\t\t}),\n\t\t\t\t'Needed to input the name.',\n\t\t\t),\n\t\t\tfirst('span', setText('name'), 'Needed to display the name.'),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'hello-world': Component<HelloWorldProps>\n\t}\n}\n",
    "import {\n\tasBoolean,\n\tasString,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tgetLabel,\n\tgetText,\n\tsetProperty,\n\tsetText,\n} from '../../..'\n\nexport type BasicButtonProps = {\n\tdisabled: boolean\n\tlabel: string\n\tbadge: string\n}\n\nexport default component(\n\t'basic-button',\n\t{\n\t\tdisabled: asBoolean(),\n\t\tlabel: asString(getLabel('button')),\n\t\tbadge: asString(fromDOM({ '.badge': getText() }, '')),\n\t},\n\t(_, { first }) => [\n\t\tfirst(\n\t\t\t'button',\n\t\t\tsetProperty('disabled'),\n\t\t\t'Add native <button> as descendant.',\n\t\t),\n\t\tfirst('.label', setText('label')),\n\t\tfirst('.badge', setText('badge')),\n\t],\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'basic-button': Component<BasicButtonProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tfromEvents,\n\tgetText,\n\tsetText,\n} from '../../..'\n\nexport type BasicCounterProps = {\n\treadonly count: number\n}\n\nexport default component(\n\t'basic-counter',\n\t{\n\t\tcount: fromEvents<number>(\n\t\t\t'button',\n\t\t\t{ click: ({ value }) => ++value },\n\t\t\tfromDOM({ span: getText() }, asInteger()),\n\t\t),\n\t},\n\t(_, { first }) => [first('span', setText('count'))],\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'basic-counter': Component<BasicCounterProps>\n\t}\n}\n",
    "import { asNumber, type Component, component, setText } from '../../..'\n\nexport type BasicNumberProps = {\n\tvalue: number\n}\n\ntype Logger = {\n\tonWarn: (message: string) => void\n\tonError: (message: string) => void\n}\n\nconst FALLBACK_LOCALE = 'en'\n\nfunction getNumberFormatter(\n\tlocale: string,\n\trawOptions: string | null,\n\tlogger: Logger = {\n\t\tonWarn: console.warn,\n\t\tonError: console.error,\n\t},\n) {\n\tconst useFallback = () => new Intl.NumberFormat(locale)\n\tif (!rawOptions) return useFallback()\n\tconst { onWarn, onError } = logger\n\n\tlet o: Intl.NumberFormatOptions = {}\n\ttry {\n\t\to = JSON.parse(rawOptions)\n\t} catch (error) {\n\t\tonError?.(`Invalid JSON: ${error}`)\n\t\treturn useFallback()\n\t}\n\n\tconst style = o.style ?? 'decimal'\n\n\tconst drops: string[] = []\n\tif (style === 'currency') {\n\t\tif (\n\t\t\t!o.currency ||\n\t\t\ttypeof o.currency !== 'string' ||\n\t\t\to.currency.length !== 3\n\t\t) {\n\t\t\tonError?.(\n\t\t\t\t`style=\"currency\" requires a 3-letter ISO currency (e.g. \"CHF\").`,\n\t\t\t)\n\t\t\treturn useFallback()\n\t\t}\n\t} else {\n\t\tdrops.push('currency', 'currencyDisplay', 'currencySign')\n\t}\n\n\tif (style === 'unit') {\n\t\tif (!o.unit || typeof o.unit !== 'string') {\n\t\t\tonError?.(\n\t\t\t\t`style=\"unit\" requires a \"unit\" (e.g. \"liter\", \"kilometer-per-hour\").`,\n\t\t\t)\n\t\t\treturn useFallback()\n\t\t}\n\t} else {\n\t\tdrops.push('unit', 'unitDisplay')\n\t}\n\n\tif (o.notation && o.notation !== 'compact') drops.push('compactDisplay')\n\n\tconst sanitized: Intl.NumberFormatOptions = {}\n\tfor (const [k, v] of Object.entries(o)) {\n\t\tif (!drops.includes(k)) sanitized[k] = v\n\t\telse onWarn?.(`Option \"${k}\" is ignored for style=\"${style}\".`)\n\t}\n\n\tconst { minimumFractionDigits: minFD, maximumFractionDigits: maxFD } =\n\t\tsanitized\n\tif (minFD != null && maxFD != null && minFD > maxFD) {\n\t\tonWarn?.(\n\t\t\t`minimumFractionDigits (${minFD}) > maximumFractionDigits (${maxFD}); swapping.`,\n\t\t)\n\t\tsanitized.minimumFractionDigits = maxFD\n\t\tsanitized.maximumFractionDigits = minFD\n\t}\n\tconst { minimumSignificantDigits: minSD, maximumSignificantDigits: maxSD } =\n\t\tsanitized\n\tif (minSD != null && maxSD != null && minSD > maxSD) {\n\t\tonWarn?.(\n\t\t\t`minimumSignificantDigits (${minSD}) > maximumSignificantDigits (${maxSD}); swapping.`,\n\t\t)\n\t\tsanitized.minimumSignificantDigits = maxSD\n\t\tsanitized.maximumSignificantDigits = minSD\n\t}\n\n\ttry {\n\t\tconst formatter = new Intl.NumberFormat(locale, sanitized)\n\t\tif (formatter.resolvedOptions().locale !== locale)\n\t\t\tonWarn(\n\t\t\t\t`Fall back to locale ${formatter.resolvedOptions().locale} instead of ${locale}`,\n\t\t\t)\n\t\treturn formatter\n\t} catch (e) {\n\t\tonError?.(\n\t\t\t`Options rejected by Intl.NumberFormat: ${e instanceof Error ? e.message : String(e)}`,\n\t\t)\n\t\treturn useFallback()\n\t}\n}\n\nexport default component('basic-number', { value: asNumber() }, el => {\n\tconst formatter = getNumberFormatter(\n\t\tel.closest('[lang]')?.getAttribute('lang') || FALLBACK_LOCALE,\n\t\tel.getAttribute('options'),\n\t)\n\treturn [setText(() => formatter.format(el.value))]\n})\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'basic-number': Component<BasicNumberProps>\n\t}\n}\n",
    "import { asInteger, type Component, component, setText, show } from '../../..'\n\nexport type BasicPluralizeProps = {\n\tcount: number\n}\n\nconst FALLBACK_LOCALE = 'en'\n\nexport default component(\n\t'basic-pluralize',\n\t{ count: asInteger() },\n\t(el, { first }) => {\n\t\tconst pluralizer = new Intl.PluralRules(\n\t\t\tel.closest('[lang]')?.getAttribute('lang') || FALLBACK_LOCALE,\n\t\t\tel.hasAttribute('ordinal') ? { type: 'ordinal' } : undefined,\n\t\t)\n\n\t\t// Subset of plural categories for applicable pluralizer: ['zero', 'one', 'two', 'few', 'many', 'other']\n\t\tconst categories = pluralizer.resolvedOptions().pluralCategories\n\t\tconst effects = [\n\t\t\tfirst('.count', [setText(() => String(el.count))]),\n\t\t\tfirst('.none', [show(() => el.count === 0)]),\n\t\t\tfirst('.some', [show(() => el.count > 0)]),\n\t\t]\n\t\tfor (const category of categories)\n\t\t\teffects.push(\n\t\t\t\tfirst(`.${category}`, [\n\t\t\t\t\tshow(() => pluralizer.select(el.count) === category),\n\t\t\t\t]),\n\t\t\t)\n\t\treturn effects\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'basic-pluralize': Component<BasicPluralizeProps>\n\t}\n}\n",
    "import {\n\tasBoolean,\n\tasString,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tfromEvents,\n\tgetLabel,\n\tgetProperty,\n\tsetText,\n\ttoggleAttribute,\n} from '../../..'\n\nexport type FormCheckboxProps = {\n\treadonly checked: boolean\n\tlabel: string\n}\n\nexport default component(\n\t'form-checkbox',\n\t{\n\t\tchecked: fromEvents(\n\t\t\t'input',\n\t\t\t{ change: ({ target }) => target.checked },\n\t\t\tfromDOM({ input: getProperty('checked') }, asBoolean()),\n\t\t),\n\t\tlabel: asString(getLabel('input')),\n\t},\n\t(_, { first, useElement }) => {\n\t\tuseElement('input[type=\"checkbox\"]', 'Native checkbox needed.')\n\t\treturn [toggleAttribute('checked'), first('.label', setText('label'))]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-checkbox': Component<FormCheckboxProps>\n\t}\n}\n",
    "export const rafThrottle = (fn: (...args: any[]) => void) => {\n\tlet rafId = 0,\n\t\tscheduled = false,\n\t\tlastArgs: any[] = []\n\tconst wrapped = (...args: any[]) => {\n\t\tlastArgs = args\n\t\tif (scheduled) return\n\t\tscheduled = true\n\t\trafId = requestAnimationFrame(() => {\n\t\t\tscheduled = false\n\t\t\tfn(...lastArgs)\n\t\t})\n\t}\n\twrapped.cancel = () => {\n\t\tif (scheduled) {\n\t\t\tcancelAnimationFrame(rafId)\n\t\t\tscheduled = false\n\t\t}\n\t}\n\treturn wrapped\n}\n",
    "import { clampChroma, formatCss, inGamut, type Oklch } from 'culori/fn'\nimport {\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\teffect,\n\temitEvent,\n\ton,\n\tsetAttribute,\n\tsetProperty,\n\tsetStyle,\n\tsetText,\n\tstate,\n} from '../../..'\nimport { asOklch } from '../../functions/parser/asOklch'\nimport { getStepColor } from '../../functions/shared/getStepColor'\nimport { rafThrottle } from '../../functions/shared/rafThrottle'\n\nexport type FormColorgraphAxis = 'l' | 'c' | 'h'\n\nexport type FormColorgraphProps = {\n\tcolor: Oklch\n\treadonly lightness: number\n\treadonly chroma: number\n\treadonly hue: number\n\tstepDown: (axis: FormColorgraphAxis, bigStep?: boolean) => void\n\tstepUp: (axis: FormColorgraphAxis, bigStep?: boolean) => void\n}\n\nconst inP3Gamut = inGamut('p3')\nconst inRGBGamut = inGamut('rgb')\nconst fn2Digits = new Intl.NumberFormat('en-US', { maximumFractionDigits: 2 })\n\t.format\nconst fn4Digits = new Intl.NumberFormat('en-US', { maximumFractionDigits: 4 })\n\t.format\nconst TRACK_OFFSET = 20 // pixels\nconst CONTRAST_THRESHOLD = 0.71 // lightness\nconst AXIS_MAX = { l: 1, c: 0.4, h: 360 }\nconst AXIS_STEP = { l: 0.0025, c: 0.001, h: 1 }\nconst AXIS_BIGSTEP = { l: 0.05, c: 0.02, h: 15 }\nconst getStep = (axis: FormColorgraphAxis, shiftKey: boolean) =>\n\tshiftKey ? AXIS_BIGSTEP[axis] : AXIS_STEP[axis]\n\nexport default component<FormColorgraphProps>(\n\t'form-colorgraph',\n\t{\n\t\tcolor: asOklch(),\n\t\tlightness: (el: HTMLElement & { color: Oklch }) => () => el.color.l,\n\t\tchroma: (el: HTMLElement & { color: Oklch }) => () => el.color.c,\n\t\thue: (el: HTMLElement & { color: Oklch }) => () => el.color.h ?? 0,\n\t\tstepDown: () => {},\n\t\tstepUp: () => {},\n\t},\n\t(el, { all, first, useElement }) => {\n\t\t// Required elements\n\t\tconst inputs = {\n\t\t\tl: useElement(\n\t\t\t\t'input[name=\"lightness\"]',\n\t\t\t\t'Add an <input[name=\"lightness\"]> element to control the lightness of the color.',\n\t\t\t),\n\t\t\tc: useElement(\n\t\t\t\t'input[name=\"chroma\"]',\n\t\t\t\t'Add an <input[name=\"chroma\"]> element to control the chroma of the color.',\n\t\t\t),\n\t\t\th: useElement(\n\t\t\t\t'input[name=\"hue\"]',\n\t\t\t\t'Add an <input[name=\"hue\"]> element to control the hue of the color.',\n\t\t\t),\n\t\t}\n\t\tconst graph = useElement(\n\t\t\t'.graph',\n\t\t\t'Add a <.graph> element as a container for the color graph.',\n\t\t)\n\t\tconst canvas = useElement<HTMLCanvasElement>(\n\t\t\t'.graph canvas',\n\t\t\t'Add a <canvas> element inside the graph to display the lightness/chroma graph.',\n\t\t)\n\t\tconst slider = useElement(\n\t\t\t'.slider',\n\t\t\t'Add a <.slider> element as a container for track and thumb.',\n\t\t)\n\t\tconst track = useElement<HTMLCanvasElement>(\n\t\t\t'.slider canvas',\n\t\t\t'Add a <canvas> element inside the slider to display the hue slider track.',\n\t\t)\n\n\t\t// Initialize\n\t\tfor (const [key, input] of Object.entries(inputs)) {\n\t\t\tinput.min = '0'\n\t\t\tinput.max = key === 'l' ? '100' : key === 'c' ? '0.4' : '360'\n\t\t\tinput.step = 'any'\n\t\t}\n\t\tslider.setAttribute('aria-valuemin', '0')\n\t\tslider.setAttribute('aria-valuemax', '360')\n\n\t\t// Internal states\n\t\tconst canvasSize = state(graph.getBoundingClientRect().width)\n\t\tconst trackWidth = computed(() => canvasSize.get() - 2 * TRACK_OFFSET)\n\t\tconst errors = {\n\t\t\tl: state(''),\n\t\t\tc: state(''),\n\t\t\th: state(''),\n\t\t}\n\n\t\t// Step methods\n\t\tconst getValue = (axis: FormColorgraphAxis) => {\n\t\t\treturn axis === 'l'\n\t\t\t\t? el.lightness\n\t\t\t\t: axis === 'c'\n\t\t\t\t\t? el.chroma\n\t\t\t\t\t: el.hue\n\t\t}\n\t\tconst commit = (color: Oklch) => {\n\t\t\tel.color = color\n\t\t\tfor (const key of ['l', 'c', 'h']) {\n\t\t\t\terrors[key].set('')\n\t\t\t}\n\t\t\temitEvent('color-change', 'color')\n\t\t}\n\t\tconst setToNearestStep = (axis: FormColorgraphAxis, value: number) => {\n\t\t\tconst nearest =\n\t\t\t\tMath.round(value / AXIS_STEP[axis]) * AXIS_STEP[axis]\n\t\t\tif (nearest < 0 || nearest > AXIS_MAX[axis]) return\n\t\t\tconst color = { ...el.color, [axis]: nearest }\n\t\t\tif (inP3Gamut(color)) {\n\t\t\t\tcommit(color)\n\t\t\t} else {\n\t\t\t\tinputs[axis].setCustomValidity('Color out of gamut')\n\t\t\t\terrors[axis].set(inputs[axis].validationMessage)\n\t\t\t}\n\t\t}\n\t\tel.stepDown = (axis: FormColorgraphAxis, bigStep = false) => {\n\t\t\tsetToNearestStep(axis, getValue(axis) - getStep(axis, bigStep))\n\t\t}\n\t\tel.stepUp = (axis: FormColorgraphAxis, bigStep = false) => {\n\t\t\tsetToNearestStep(axis, getValue(axis) + getStep(axis, bigStep))\n\t\t}\n\n\t\t// Helper functions\n\t\tconst formatNumber = (axis: FormColorgraphAxis, value: number) => {\n\t\t\tconst v = axis === 'l' ? value * 100 : value\n\t\t\treturn axis === 'c' ? fn4Digits(v) : fn2Digits(v)\n\t\t}\n\t\tconst moveKnob = rafThrottle((x, y, top, left, size) => {\n\t\t\tconst color = {\n\t\t\t\t...el.color,\n\t\t\t\tc: Math.min(Math.max((x - left) / size, 0), 1) * AXIS_MAX.c,\n\t\t\t\tl: 1 - Math.min(Math.max((y - top) / size, 0), 1),\n\t\t\t}\n\t\t\tif (inP3Gamut(color)) commit(color)\n\t\t})\n\t\tconst getColorFromPosition = (\n\t\t\tx: number,\n\t\t\ty: number,\n\t\t\th: number,\n\t\t\talpha: number = 1,\n\t\t) =>\n\t\t\tformatCss({\n\t\t\t\tmode: 'oklch',\n\t\t\t\tl: 1 - y,\n\t\t\t\tc: x * AXIS_MAX.c,\n\t\t\t\th,\n\t\t\t\talpha,\n\t\t\t})\n\t\tconst setStepPosition = (target: HTMLLIElement, color: Oklch): void => {\n\t\t\tconst size = canvasSize.get()\n\t\t\tconst x = Math.round((color.c * size) / AXIS_MAX.c)\n\t\t\tconst y = Math.round((1 - color.l) * size)\n\t\t\ttarget.style.setProperty('background-color', formatCss(color))\n\t\t\ttarget.style.setProperty(\n\t\t\t\t'border-color',\n\t\t\t\tcolor.l > CONTRAST_THRESHOLD ? 'black' : 'white',\n\t\t\t)\n\t\t\ttarget.style.setProperty('left', `${x}px`)\n\t\t\ttarget.style.setProperty('top', `${y}px`)\n\t\t}\n\t\tconst moveThumb = rafThrottle((x, left, width) => {\n\t\t\tconst color = {\n\t\t\t\t...el.color,\n\t\t\t\th: Math.min(Math.max((x - left) / width, 0), 1) * AXIS_MAX.h,\n\t\t\t}\n\t\t\tif (inP3Gamut(color)) commit(color)\n\t\t})\n\t\tconst getHueFromPosition = (x: number): Oklch => {\n\t\t\tconst newColor = { ...el.color, h: x * AXIS_MAX.h }\n\t\t\tif (inRGBGamut(newColor)) return newColor\n\t\t\tif (inP3Gamut(newColor)) newColor.alpha = 0.5\n\t\t\telse newColor.alpha = 0\n\t\t\treturn newColor\n\t\t}\n\t\tconst getAxis = (target: HTMLElement): FormColorgraphAxis | null => {\n\t\t\tif (target.closest('.lightness')) return 'l'\n\t\t\tif (target.closest('.chroma')) return 'c'\n\t\t\tif (target.closest('.hue')) return 'h'\n\t\t\treturn null\n\t\t}\n\n\t\t// Effects\n\t\tconst effects = [\n\t\t\tsetStyle('--color-base', () => formatCss(el.color)),\n\t\t\t() => {\n\t\t\t\tconst setCanvasSize = rafThrottle(w => {\n\t\t\t\t\tcanvasSize.set(w)\n\t\t\t\t})\n\t\t\t\tconst resizeObserver = new ResizeObserver(() => {\n\t\t\t\t\tsetCanvasSize(graph.clientWidth)\n\t\t\t\t})\n\t\t\t\tresizeObserver.observe(graph)\n\t\t\t\treturn () => {\n\t\t\t\t\tresizeObserver.disconnect()\n\t\t\t\t\tsetCanvasSize.cancel()\n\t\t\t\t}\n\t\t\t},\n\t\t\tall('input', [\n\t\t\t\tsetProperty('ariaInvalid', target => {\n\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\treturn axis ? String(!!errors[axis].get()) : 'false'\n\t\t\t\t}),\n\t\t\t\tsetAttribute('aria-errormessage', target => {\n\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\treturn axis && errors[axis].get()\n\t\t\t\t\t\t? `${target.id}-error`\n\t\t\t\t\t\t: null\n\t\t\t\t}),\n\t\t\t\tsetProperty('value', target => {\n\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\treturn axis ? formatNumber(axis, el.color[axis] ?? 0) : '0'\n\t\t\t\t}),\n\t\t\t\ton('change', ({ target }) => {\n\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\tif (!axis) return\n\t\t\t\t\tconst value = target.valueAsNumber\n\t\t\t\t\tconst newColor = {\n\t\t\t\t\t\t...el.color,\n\t\t\t\t\t\t[axis]: axis === 'l' ? value / 100 : value,\n\t\t\t\t\t}\n\t\t\t\t\tif (inP3Gamut(newColor)) {\n\t\t\t\t\t\tcommit(newColor)\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.setCustomValidity('Color out of gamut')\n\t\t\t\t\t\terrors[axis].set(target.validationMessage)\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tall('.error', [\n\t\t\t\tsetText(target => {\n\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\treturn axis ? errors[axis].get() : ''\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst('.graph', [\n\t\t\t\ton('pointerdown', ({ event }) => {\n\t\t\t\t\tconst { top, left } = canvas.getBoundingClientRect()\n\t\t\t\t\tconst size = canvasSize.get()\n\t\t\t\t\tgraph.setPointerCapture(event.pointerId)\n\t\t\t\t\tconst handleMove = (e: PointerEvent) => {\n\t\t\t\t\t\tconst last = (e.getCoalescedEvents?.() || []).pop() || e\n\t\t\t\t\t\tmoveKnob(last.clientX, last.clientY, top, left, size)\n\t\t\t\t\t}\n\t\t\t\t\tconst handleUp = () => {\n\t\t\t\t\t\tgraph.removeEventListener('pointermove', handleMove)\n\t\t\t\t\t\tgraph.removeEventListener('pointerup', handleUp)\n\t\t\t\t\t\tmoveThumb.cancel()\n\t\t\t\t\t}\n\t\t\t\t\tgraph.addEventListener('pointermove', handleMove, {\n\t\t\t\t\t\tpassive: true,\n\t\t\t\t\t})\n\t\t\t\t\tgraph.addEventListener('pointerup', handleUp)\n\t\t\t\t}),\n\t\t\t\tsetStyle('--canvas-size', () => canvasSize.get() + 'px'),\n\t\t\t]),\n\t\t\tfirst('.graph canvas', [\n\t\t\t\tsetAttribute('width', () => String(canvasSize.get())),\n\t\t\t\tsetAttribute('height', () => String(canvasSize.get())),\n\t\t\t\t() =>\n\t\t\t\t\teffect((): undefined => {\n\t\t\t\t\t\tconst ctx = canvas.getContext('2d', {\n\t\t\t\t\t\t\tcolorSpace: 'display-p3',\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (!ctx) return\n\n\t\t\t\t\t\tconst h = el.hue\n\t\t\t\t\t\tconst n = Math.round(canvasSize.get())\n\t\t\t\t\t\tconst maxChroma = (\n\t\t\t\t\t\t\tl: number,\n\t\t\t\t\t\t\tgamut: 'rgb' | 'p3' = 'rgb',\n\t\t\t\t\t\t) =>\n\t\t\t\t\t\t\tclampChroma(\n\t\t\t\t\t\t\t\t{ mode: 'oklch', l, c: AXIS_MAX.c, h },\n\t\t\t\t\t\t\t\t'oklch',\n\t\t\t\t\t\t\t\tgamut,\n\t\t\t\t\t\t\t).c / AXIS_MAX.c\n\t\t\t\t\t\tconst gradientStops = (\n\t\t\t\t\t\t\tminX: number,\n\t\t\t\t\t\t\tmaxX: number,\n\t\t\t\t\t\t\ty: number,\n\t\t\t\t\t\t\talpha: number = 1,\n\t\t\t\t\t\t) => [\n\t\t\t\t\t\t\tgetColorFromPosition(minX, y, h, alpha),\n\t\t\t\t\t\t\tgetColorFromPosition(maxX, y, h, alpha),\n\t\t\t\t\t\t]\n\t\t\t\t\t\tconst drawGradient = (\n\t\t\t\t\t\t\tminX: number,\n\t\t\t\t\t\t\ty: number,\n\t\t\t\t\t\t\tgamut: 'rgb' | 'p3' = 'rgb',\n\t\t\t\t\t\t): [number, string] => {\n\t\t\t\t\t\t\tconst maxX = maxChroma(1 - y / n, gamut) * n\n\t\t\t\t\t\t\tconst gradient = ctx.createLinearGradient(\n\t\t\t\t\t\t\t\tminX,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tmaxX,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst stops = gradientStops(\n\t\t\t\t\t\t\t\tminX / n,\n\t\t\t\t\t\t\t\tmaxX / n,\n\t\t\t\t\t\t\t\ty / n,\n\t\t\t\t\t\t\t\tgamut === 'p3' ? 0.5 : 1,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tgradient.addColorStop(0, stops[0])\n\t\t\t\t\t\t\tgradient.addColorStop(1, stops[1])\n\t\t\t\t\t\t\tctx.fillStyle = gradient\n\t\t\t\t\t\t\tctx.fillRect(minX, y, maxX - minX, 1)\n\t\t\t\t\t\t\treturn [maxX, stops[1]]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tctx.clearRect(0, 0, n, n)\n\t\t\t\t\t\tfor (let y = 0; y < n; y++) {\n\t\t\t\t\t\t\tconst [maxRgbX, maxRgbColor] = drawGradient(0, y)\n\t\t\t\t\t\t\tif (inP3Gamut(maxRgbColor))\n\t\t\t\t\t\t\t\tdrawGradient(maxRgbX, y, 'p3')\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst(\n\t\t\t\t'.knob',\n\t\t\t\t[\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\t'top',\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t`${Math.round((1 - el.lightness) * canvasSize.get())}px`,\n\t\t\t\t\t),\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\t'left',\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t`${Math.round((el.chroma * canvasSize.get()) / AXIS_MAX.c)}px`,\n\t\t\t\t\t),\n\t\t\t\t\tsetStyle('--color-border', () =>\n\t\t\t\t\t\tel.lightness > CONTRAST_THRESHOLD ? 'black' : 'white',\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\t'Add a <.knob> element as a drag knob to control lightness and chroma.',\n\t\t\t),\n\t\t\tfirst('.slider', [\n\t\t\t\ton('pointerdown', ({ event }) => {\n\t\t\t\t\tconst left = track.getBoundingClientRect().left\n\t\t\t\t\tconst width = trackWidth.get()\n\t\t\t\t\tslider.setPointerCapture(event.pointerId)\n\t\t\t\t\tconst handleMove = (e: PointerEvent) => {\n\t\t\t\t\t\tconst last = (e.getCoalescedEvents?.() || []).pop() || e\n\t\t\t\t\t\tmoveThumb(last.clientX, left, width)\n\t\t\t\t\t}\n\t\t\t\t\tconst handleUp = () => {\n\t\t\t\t\t\tslider.removeEventListener('pointermove', handleMove)\n\t\t\t\t\t\tslider.removeEventListener('pointerup', handleUp)\n\t\t\t\t\t\tmoveThumb.cancel()\n\t\t\t\t\t}\n\t\t\t\t\tslider.addEventListener('pointermove', handleMove, {\n\t\t\t\t\t\tpassive: true,\n\t\t\t\t\t})\n\t\t\t\t\tslider.addEventListener('pointerup', handleUp)\n\t\t\t\t}),\n\t\t\t\tsetStyle('--track-width', () => trackWidth.get() + 'px'),\n\t\t\t\tsetAttribute('aria-valuenow', 'hue'),\n\t\t\t\tsetAttribute(\n\t\t\t\t\t'aria-valuetext',\n\t\t\t\t\t() => formatNumber('h', el.hue) + '',\n\t\t\t\t),\n\t\t\t]),\n\t\t\tfirst('.slider canvas', [\n\t\t\t\tsetAttribute('width', () => String(trackWidth.get())),\n\t\t\t\t() =>\n\t\t\t\t\teffect((): undefined => {\n\t\t\t\t\t\tconst ctx = track.getContext('2d', {\n\t\t\t\t\t\t\tcolorSpace: 'display-p3',\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (!ctx) return\n\t\t\t\t\t\tconst n = Math.round(trackWidth.get())\n\t\t\t\t\t\tctx.clearRect(0, 0, n, 1)\n\t\t\t\t\t\tfor (let x = 0; x < n; x++) {\n\t\t\t\t\t\t\tctx.fillStyle = formatCss(getHueFromPosition(x / n))\n\t\t\t\t\t\t\tctx.fillRect(x, 0, 1, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst(\n\t\t\t\t'.thumb',\n\t\t\t\t[\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\t'left',\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t`${Math.round((el.hue * trackWidth.get()) / AXIS_MAX.h) + TRACK_OFFSET}px`,\n\t\t\t\t\t),\n\t\t\t\t\tsetStyle('--color-border', () =>\n\t\t\t\t\t\tel.lightness > CONTRAST_THRESHOLD ? 'black' : 'white',\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\t'Add a <.thumb> element as a drag knob to control the hue.',\n\t\t\t),\n\t\t\tall(\n\t\t\t\t'button.decrement',\n\t\t\t\t[\n\t\t\t\t\ton('click', ({ event, target }) => {\n\t\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\t\tif (axis) el.stepDown(axis, event.shiftKey)\n\t\t\t\t\t}),\n\t\t\t\t\tsetProperty('disabled', target => {\n\t\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\t\treturn !axis || (el.color[axis] ?? 0) <= 0\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t\t'Add a <button.decrement> to decrement a value for a color channel.',\n\t\t\t),\n\t\t\tall(\n\t\t\t\t'button.increment',\n\t\t\t\t[\n\t\t\t\t\ton('click', ({ event, target }) => {\n\t\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\t\tif (axis) el.stepUp(axis, event.shiftKey)\n\t\t\t\t\t}),\n\t\t\t\t\tsetProperty('disabled', target => {\n\t\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\t\treturn !axis || (el.color[axis] ?? 0) >= AXIS_MAX[axis]\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t\t'Add a <button.increment> to increment a value for a color channel.',\n\t\t\t),\n\t\t\ton('keydown', ({ event }) => {\n\t\t\t\tconst { key, shiftKey } = event\n\t\t\t\tconst target = event.target as HTMLElement | null\n\t\t\t\tif (\n\t\t\t\t\t!target ||\n\t\t\t\t\t(target.localName === 'input' &&\n\t\t\t\t\t\t(key === 'ArrowLeft' || key === 'ArrowRight'))\n\t\t\t\t)\n\t\t\t\t\treturn\n\t\t\t\tif (\n\t\t\t\t\tkey.substring(0, 5) === 'Arrow' ||\n\t\t\t\t\t['+', '-'].includes(key)\n\t\t\t\t) {\n\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\tconst axis = getAxis(target)\n\t\t\t\t\tif (axis) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tkey === 'ArrowLeft' ||\n\t\t\t\t\t\t\tkey === 'ArrowDown' ||\n\t\t\t\t\t\t\tkey === '-'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tel.stepDown(axis, shiftKey)\n\t\t\t\t\t\telse if (\n\t\t\t\t\t\t\tkey === 'ArrowRight' ||\n\t\t\t\t\t\t\tkey === 'ArrowUp' ||\n\t\t\t\t\t\t\tkey === '+'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tel.stepUp(axis, shiftKey)\n\t\t\t\t\t} else if (target.role === 'slider') {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tkey === 'ArrowLeft' ||\n\t\t\t\t\t\t\tkey === 'ArrowDown' ||\n\t\t\t\t\t\t\tkey === '-'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tel.stepDown('h', shiftKey)\n\t\t\t\t\t\telse if (\n\t\t\t\t\t\t\tkey === 'ArrowRight' ||\n\t\t\t\t\t\t\tkey === 'ArrowUp' ||\n\t\t\t\t\t\t\tkey === '+'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tel.stepUp('h', shiftKey)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\t\t\tel.stepDown('l', shiftKey)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\t\t\tel.stepUp('l', shiftKey)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\t\t\tel.stepDown('c', shiftKey)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\t\t\tel.stepUp('c', shiftKey)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '-':\n\t\t\t\t\t\t\t\tel.stepDown('h')\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '+':\n\t\t\t\t\t\t\t\tel.stepUp('h')\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t]\n\t\tfor (let i = 1; i < 5; i++)\n\t\t\teffects.push(\n\t\t\t\tfirst(`li.lighten${(5 - i) * 20}`, [\n\t\t\t\t\t(_, target) =>\n\t\t\t\t\t\teffect((): undefined => {\n\t\t\t\t\t\t\tsetStepPosition(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tgetStepColor(el.color, 1 - i / 10),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t)\n\t\tfor (let i = 1; i < 5; i++)\n\t\t\teffects.push(\n\t\t\t\tfirst(`li.darken${i * 20}`, [\n\t\t\t\t\t(_, target) =>\n\t\t\t\t\t\teffect((): undefined => {\n\t\t\t\t\t\t\tsetStepPosition(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tgetStepColor(el.color, 1 - (i + 5) / 10),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t)\n\t\treturn effects\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-colorgraph': Component<FormColorgraphProps>\n\t}\n}\n",
    "import { formatCss, inGamut, type Oklch } from 'culori/fn'\nimport {\n\tasEnum,\n\tbatch,\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\teffect,\n\temitEvent,\n\ton,\n\tsetAttribute,\n\tsetProperty,\n\tsetStyle,\n\tstate,\n} from '../../..'\nimport { asOklch } from '../../functions/parser/asOklch'\nimport { rafThrottle } from '../../functions/shared/rafThrottle'\n\nexport type FormColorsliderProps = {\n\tcolor: Oklch\n\tvalue: number\n\tstepDown: (stepDecrement?: number) => void\n\tstepUp: (stepIncrement?: number) => void\n}\n\nconst inP3Gamut = inGamut('p3')\nconst inRGBGamut = inGamut('rgb')\nconst TRACK_OFFSET = 20 // pixels\nconst CONTRAST_THRESHOLD = 0.71 // lightness\n\nexport default component<FormColorsliderProps>(\n\t'form-colorslider',\n\t{\n\t\tcolor: asOklch(),\n\t\tvalue: 0,\n\t\tstepDown: () => {},\n\t\tstepUp: () => {},\n\t},\n\t(el, { first, useElement }) => {\n\t\t// Required elements\n\t\tconst input = useElement(\n\t\t\t'input',\n\t\t\t'Add an <input> element to control the color slider.',\n\t\t)\n\t\tconst slider = useElement(\n\t\t\t'.slider',\n\t\t\t'Add a <.slider> element as a container for track and thumb.',\n\t\t)\n\t\tconst track = useElement(\n\t\t\t'canvas',\n\t\t\t'Add a <canvas> element to display the color slider track.',\n\t\t)\n\n\t\t// Initialize\n\t\tconst axis = asEnum(['l', 'c', 'h'])(el, el.getAttribute('axis'))\n\t\tconst max = axis === 'h' ? 360 : axis === 'c' ? 0.4 : 1\n\t\tconst step = axis === 'h' ? 1 : axis === 'c' ? 0.001 : 0.0025\n\t\tconst bigStep = axis === 'h' ? 15 : axis === 'c' ? 0.02 : 0.05\n\t\tel.value = el.color[axis]\n\t\tinput.min = '0'\n\t\tinput.max = String(axis === 'l' ? max * 100 : max)\n\t\tslider.setAttribute('aria-valuemin', '0')\n\t\tslider.setAttribute('aria-valuemax', String(max))\n\n\t\t// Step methods\n\t\tconst setToNearestStep = (value: number) => {\n\t\t\tconst nearest = Math.round(value / step) * step\n\t\t\tif (nearest >= 0 && nearest <= max) {\n\t\t\t\tbatch(() => {\n\t\t\t\t\tel.color = { ...el.color, [axis]: nearest }\n\t\t\t\t\tel.value = nearest\n\t\t\t\t})\n\t\t\t\temitEvent('color-change', 'color')\n\t\t\t}\n\t\t}\n\t\tel.stepDown = (stepDecrement?: number) => {\n\t\t\tsetToNearestStep(el.value - (stepDecrement ?? step))\n\t\t}\n\t\tel.stepUp = (stepIncrement?: number) => {\n\t\t\tsetToNearestStep(el.value + (stepIncrement ?? step))\n\t\t}\n\n\t\t// Internal states\n\t\tconst trackWidth = state(\n\t\t\tslider.getBoundingClientRect().width - 2 * TRACK_OFFSET,\n\t\t)\n\t\tconst lightness = computed(() => el.color.l)\n\n\t\t// Helper functions\n\t\tconst formatNumber = (value: number) => {\n\t\t\tconst v = axis === 'l' ? value * 100 : value\n\t\t\treturn v.toFixed(\n\t\t\t\tMath.min(\n\t\t\t\t\tString(v).split('.')[1]?.length || 0,\n\t\t\t\t\taxis === 'c' ? 4 : 2,\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\t\tconst commit = (color: Oklch) => {\n\t\t\tbatch(() => {\n\t\t\t\tel.color = color\n\t\t\t\tel.value = color[axis]\n\t\t\t})\n\t\t\temitEvent('color-change', 'color')\n\t\t}\n\t\tconst moveThumb = rafThrottle((clientX, left, width) => {\n\t\t\tconst x = width ? (clientX - left) / width : 0\n\t\t\tconst color = {\n\t\t\t\t...el.color,\n\t\t\t\t[axis]: Math.min(Math.max(x, 0), 1) * max,\n\t\t\t}\n\t\t\tif (inP3Gamut(color)) commit(color)\n\t\t})\n\t\tconst getColorFromPosition = (x: number) => {\n\t\t\tconst newColor = {\n\t\t\t\t...el.color,\n\t\t\t\t[axis]: x * max,\n\t\t\t}\n\t\t\tif (inRGBGamut(newColor)) return newColor\n\t\t\tif (inP3Gamut(newColor)) newColor.alpha = 0.5\n\t\t\telse newColor.alpha = 0\n\t\t\treturn newColor\n\t\t}\n\n\t\t// Effects\n\t\treturn [\n\t\t\tfirst('input', [\n\t\t\t\tsetProperty('value', () => formatNumber(el.value)),\n\t\t\t\ton('change', ({ target }) => {\n\t\t\t\t\tconst value = target.valueAsNumber\n\t\t\t\t\tconst newColor = {\n\t\t\t\t\t\t...el.color,\n\t\t\t\t\t\t[axis]: axis === 'l' ? value / 100 : value,\n\t\t\t\t\t}\n\t\t\t\t\tif (inP3Gamut(newColor)) commit(newColor)\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst('.slider', [\n\t\t\t\ton('pointerdown', ({ event }) => {\n\t\t\t\t\tconst left = track.getBoundingClientRect().left\n\t\t\t\t\tconst width = trackWidth.get()\n\t\t\t\t\tslider.setPointerCapture(event.pointerId)\n\t\t\t\t\tconst handleMove = (e: PointerEvent) => {\n\t\t\t\t\t\tconst last = (e.getCoalescedEvents?.() || []).pop() || e\n\t\t\t\t\t\tmoveThumb(last.clientX, left, width)\n\t\t\t\t\t}\n\t\t\t\t\tconst handleUp = () => {\n\t\t\t\t\t\tslider.removeEventListener('pointermove', handleMove)\n\t\t\t\t\t\tslider.removeEventListener('pointerup', handleUp)\n\t\t\t\t\t\tmoveThumb.cancel()\n\t\t\t\t\t}\n\t\t\t\t\tslider.addEventListener('pointermove', handleMove, {\n\t\t\t\t\t\tpassive: true,\n\t\t\t\t\t})\n\t\t\t\t\tslider.addEventListener('pointerup', handleUp)\n\t\t\t\t}),\n\t\t\t\tsetStyle('--color-base', () => formatCss(el.color)),\n\t\t\t\tsetStyle('--track-width', () => trackWidth.get() + 'px'),\n\t\t\t\tsetAttribute('aria-valuenow', 'value'),\n\t\t\t\tsetAttribute('aria-valuetext', () => {\n\t\t\t\t\tconst v = formatNumber(el.value)\n\t\t\t\t\treturn axis === 'l' ? v + '%' : axis === 'h' ? v + '' : v\n\t\t\t\t}),\n\t\t\t\t() => {\n\t\t\t\t\tconst setTrackWidthRaf = rafThrottle(w => {\n\t\t\t\t\t\ttrackWidth.set(w)\n\t\t\t\t\t})\n\t\t\t\t\tconst resizeObserver = new ResizeObserver(() => {\n\t\t\t\t\t\tsetTrackWidthRaf(track.clientWidth)\n\t\t\t\t\t})\n\t\t\t\t\tresizeObserver.observe(track)\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tresizeObserver.disconnect()\n\t\t\t\t\t\tsetTrackWidthRaf.cancel()\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t]),\n\t\t\tfirst('canvas', [\n\t\t\t\tsetAttribute('width', () => String(trackWidth.get())),\n\t\t\t\t() =>\n\t\t\t\t\teffect((): undefined => {\n\t\t\t\t\t\tconst ctx = track.getContext('2d', {\n\t\t\t\t\t\t\tcolorSpace: 'display-p3',\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (!ctx) return\n\t\t\t\t\t\tctx.clearRect(0, 0, 360, 1)\n\t\t\t\t\t\tconst n = Math.round(trackWidth.get())\n\t\t\t\t\t\tfor (let x = 0; x < n; x++) {\n\t\t\t\t\t\t\tctx.fillStyle = formatCss(\n\t\t\t\t\t\t\t\tgetColorFromPosition(x / n),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tctx.fillRect(x, 0, 1, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst(\n\t\t\t\t'.thumb',\n\t\t\t\t[\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\t'left',\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t`${Math.round((el.value * trackWidth.get()) / max) + TRACK_OFFSET}px`,\n\t\t\t\t\t),\n\t\t\t\t\tsetStyle('--color-border', () =>\n\t\t\t\t\t\tlightness.get() > CONTRAST_THRESHOLD\n\t\t\t\t\t\t\t? 'black'\n\t\t\t\t\t\t\t: 'white',\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\t'Add a <.thumb> element as a drag knob to control the color.',\n\t\t\t),\n\t\t\tfirst(\n\t\t\t\t'button.decrement',\n\t\t\t\t[\n\t\t\t\t\ton('click', ({ event }) => {\n\t\t\t\t\t\tel.stepDown(event.shiftKey ? bigStep : step)\n\t\t\t\t\t}),\n\t\t\t\t\tsetProperty('disabled', () => el.value <= 0),\n\t\t\t\t],\n\t\t\t\t'Add a <button.decrement> to decrement a value for a color channel.',\n\t\t\t),\n\t\t\tfirst(\n\t\t\t\t'button.increment',\n\t\t\t\t[\n\t\t\t\t\ton('click', ({ event }) => {\n\t\t\t\t\t\tel.stepUp(event.shiftKey ? bigStep : step)\n\t\t\t\t\t}),\n\t\t\t\t\tsetProperty('disabled', () => el.value >= max),\n\t\t\t\t],\n\t\t\t\t'Add a <button.increment> to increment a value for a color channel.',\n\t\t\t),\n\t\t\ton('keyup', ({ event }) => {\n\t\t\t\tif ((event.target as HTMLElement)?.localName === 'input') return\n\t\t\t\tconst { key, shiftKey } = event\n\t\t\t\tif ((key === 'ArrowLeft' || key === '-') && el.value > 0)\n\t\t\t\t\tel.stepDown(shiftKey ? bigStep : step)\n\t\t\t\telse if (\n\t\t\t\t\t(key === 'ArrowRight' || key === '+') &&\n\t\t\t\t\tel.value < max\n\t\t\t\t)\n\t\t\t\t\tel.stepUp(shiftKey ? bigStep : step)\n\t\t\t}),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-colorslider': Component<FormColorsliderProps>\n\t}\n}\n",
    "import { type Component, type Effect, on, show } from '../../..'\n\n/**\n * Creates a clear function for input components\n *\n * @param {HTMLInputElement | HTMLTextAreaElement} selector - The native input or textarea element\n */\nexport const clearMethod =\n\t<E extends HTMLInputElement | HTMLTextAreaElement = HTMLInputElement>(\n\t\tselector: string = 'input',\n\t) =>\n\t(\n\t\thost: HTMLElement & {\n\t\t\tvalue: string | number\n\t\t\tlength: number\n\t\t\tclear: () => void\n\t\t},\n\t) => {\n\t\thost.clear = () => {\n\t\t\thost.value = ''\n\t\t\thost.length = 0\n\t\t\tconst input = host.querySelector<E>(selector)\n\t\t\tif (input) {\n\t\t\t\tinput.value = ''\n\t\t\t\tinput.setCustomValidity('')\n\t\t\t\tinput.checkValidity()\n\t\t\t\tinput.dispatchEvent(new Event('input', { bubbles: true }))\n\t\t\t\tinput.dispatchEvent(new Event('change', { bubbles: true }))\n\t\t\t\tinput.focus()\n\t\t\t}\n\t\t}\n\t}\n\n/**\n * Standard effects for clearing input components on button elements\n *\n * @param {Component<P>} host - The component instance with clear, length properties\n * @returns {Effect<P, HTMLElement>[]} - Effects for clearing the input component\n */\nexport const clearEffects = <P extends { clear: () => void; length: number }>(\n\thost: Component<P>,\n): Effect<P, HTMLElement>[] => [\n\tshow(() => !!host.length),\n\ton('click', () => {\n\t\thost.clear()\n\t}),\n]\n",
    "import {\n\tbatch,\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\tfromDOM,\n\tgetText,\n\ton,\n\tpass,\n\tsetAttribute,\n\tsetProperty,\n\tsetText,\n\tshow,\n\tstate,\n} from '../../..'\nimport { clearEffects, clearMethod } from '../../functions/shared/clearInput'\n\nexport type FormComboboxProps = {\n\tvalue: string\n\tlength: number\n\terror: string\n\tdescription: string\n\tclear(): void\n}\n\nexport default component<FormComboboxProps>(\n\t'form-combobox',\n\t{\n\t\tvalue: '',\n\t\tlength: 0,\n\t\terror: fromDOM({ '.error': getText() }, ''),\n\t\tdescription: fromDOM({ '.description': getText() }, ''),\n\t\tclear: clearMethod(),\n\t},\n\t(el, { first, useElement }) => {\n\t\tconst input = useElement('input', 'Needed to enter value.')\n\t\tconst errorId = useElement('form-combobox > .error')?.id\n\t\tconst descriptionId = useElement('.description')?.id\n\t\tconst listbox = useElement('form-listbox', 'Needed to display options.')\n\n\t\tconst showPopup = state(false)\n\t\tconst isExpanded = computed(\n\t\t\t() => showPopup.get() && listbox.options.length > 0,\n\t\t)\n\n\t\treturn [\n\t\t\t// Effects and event listeners on component\n\t\t\tsetAttribute('value'),\n\t\t\ton('keyup', ({ event }) => {\n\t\t\t\tconst { key } = event\n\t\t\t\tif (key === 'Escape') showPopup.set(false)\n\t\t\t\tif (key === 'Delete') el.clear()\n\t\t\t}),\n\t\t\ton('form-listbox.change', ({ event }) => {\n\t\t\t\tif (event.detail) {\n\t\t\t\t\tel.value = event.detail\n\t\t\t\t\tinput.value = event.detail\n\t\t\t\t\tinput.checkValidity()\n\t\t\t\t\tel.length = input.value.length\n\t\t\t\t\tel.error = input.validationMessage ?? ''\n\t\t\t\t\tshowPopup.set(false)\n\t\t\t\t}\n\t\t\t}),\n\n\t\t\t// Effects on error and description\n\t\t\tfirst('form-combobox > .error', setText('error')),\n\t\t\tfirst('.description', setText('description')),\n\n\t\t\t// Effects and event listeners on input\n\t\t\tfirst('input', [\n\t\t\t\tsetProperty('ariaInvalid', () => String(!!el.error)),\n\t\t\t\tsetAttribute('aria-errormessage', () =>\n\t\t\t\t\tel.error && errorId ? errorId : null,\n\t\t\t\t),\n\t\t\t\tsetAttribute('aria-describedby', () =>\n\t\t\t\t\tel.description && descriptionId ? descriptionId : null,\n\t\t\t\t),\n\t\t\t\tsetProperty('ariaExpanded', () => String(isExpanded.get())),\n\t\t\t\ton('input', () => {\n\t\t\t\t\tbatch(() => {\n\t\t\t\t\t\tinput.checkValidity()\n\t\t\t\t\t\tshowPopup.set(true)\n\t\t\t\t\t\tel.value = input.value\n\t\t\t\t\t\tel.length = input.value.length\n\t\t\t\t\t\tel.error = input.validationMessage ?? ''\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\ton('keydown', ({ event }) => {\n\t\t\t\t\tconst { key, altKey } = event\n\t\t\t\t\tif (key === 'ArrowDown') {\n\t\t\t\t\t\tif (altKey) showPopup.set(true)\n\t\t\t\t\t\tif (isExpanded.get()) listbox.options[0]?.focus()\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]),\n\n\t\t\t// Effects and event listeners on clear button\n\t\t\tfirst('.clear', clearEffects(el)),\n\n\t\t\t// Effect on listbox\n\t\t\tfirst('form-listbox', [\n\t\t\t\tshow(() => isExpanded.get()),\n\t\t\t\tpass({\n\t\t\t\t\tfilter: () => el.value,\n\t\t\t\t}),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-combobox': Component<FormComboboxProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\tfromDOM,\n\tgetProperty,\n\ton,\n\tsetAttribute,\n\tsetProperty,\n\tsetStyle,\n\tsetText,\n} from '../../..'\n\nexport type FormGaugeProps = {\n\tvalue: number\n}\n\nexport type FormGaugeThreshold = {\n\tmin: number\n\tlabel: string\n\tcolor: string\n}\n\nexport default component(\n\t'form-gauge',\n\t{ value: asInteger(fromDOM({ progress: getProperty('value') }, 0)) },\n\t(el, { first, useElement }) => {\n\t\tconst max =\n\t\t\tuseElement('progress', 'Add a native <progress> element.').max ??\n\t\t\t100\n\t\tconst thresholds: FormGaugeThreshold[] = (() => {\n\t\t\tconst attr = el.getAttribute('thresholds')\n\t\t\tif (!attr) return []\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(attr)\n\t\t\t} catch {\n\t\t\t\treturn []\n\t\t\t}\n\t\t})()\n\t\tconst qualification = computed(\n\t\t\t() =>\n\t\t\t\tthresholds.find(threshold => el.value >= threshold.min) || {\n\t\t\t\t\tlabel: '',\n\t\t\t\t\tcolor: 'var(--color-primary)',\n\t\t\t\t},\n\t\t)\n\n\t\treturn [\n\t\t\t// Bind progress value to value state\n\t\t\tfirst('progress', setProperty('value')),\n\t\t\tfirst('.value span', setText('value')),\n\n\t\t\t// Set form-gauge styles based on progress and qualification\n\t\t\tsetAttribute('value'),\n\t\t\tsetStyle(\n\t\t\t\t'--form-gauge-degree',\n\t\t\t\t() => `${(240 * el.value) / max}deg`,\n\t\t\t),\n\t\t\tsetStyle('--form-gauge-color', () => qualification.get().color),\n\t\t\tfirst('small', [setText(() => qualification.get().label)]),\n\n\t\t\t// Event handlers on buttons and their disabled state\n\t\t\tfirst('button.increment', [\n\t\t\t\tsetProperty('disabled', () => el.value >= max),\n\t\t\t\ton('click', ({ event }) => {\n\t\t\t\t\tel.value += event.shiftKey ? 10 : 1\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst('button.decrement', [\n\t\t\t\tsetProperty('disabled', () => el.value <= 0),\n\t\t\t\ton('click', ({ event }) => {\n\t\t\t\t\tel.value -= event.shiftKey ? 10 : 1\n\t\t\t\t}),\n\t\t\t]),\n\t\t\ton('keydown', ({ event }) => {\n\t\t\t\tconst { key, shiftKey } = event\n\t\t\t\tif ((key === 'ArrowLeft' || key === '-') && el.value > 0)\n\t\t\t\t\tel.value -= shiftKey ? 10 : 1\n\t\t\t\telse if (\n\t\t\t\t\t(key === 'ArrowRight' || key === '+') &&\n\t\t\t\t\tel.value < max\n\t\t\t\t)\n\t\t\t\t\tel.value += shiftKey ? 10 : 1\n\t\t\t}),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-gauge': Component<FormGaugeProps>\n\t}\n}\n",
    "import type { Parser } from '../../../types'\n\nexport const asURL: Parser<{ value: string; error: string }> = (el, v) => {\n\tlet value = ''\n\tlet error = ''\n\tif (!v) {\n\t\terror = 'No URL provided'\n\t} else if (\n\t\t(el.parentElement || (el.getRootNode() as ShadowRoot).host)?.closest(\n\t\t\t`${el.localName}[src=\"${v}\"]`,\n\t\t)\n\t) {\n\t\terror = 'Recursive loading detected'\n\t} else {\n\t\ttry {\n\t\t\t// Ensure 'src' attribute is a valid URL\n\t\t\tconst url = new URL(v, location.href)\n\n\t\t\t// Sanity check for cross-origin URLs\n\t\t\tif (url.origin === location.origin) value = String(url)\n\t\t\telse error = 'Invalid URL origin'\n\t\t} catch (err) {\n\t\t\terror = String(err)\n\t\t}\n\t}\n\treturn { value, error }\n}\n",
    "type CacheEntry<T = unknown> = {\n\tcontent: T\n\ttimestamp: number\n\tetag?: string\n\tlastModified?: string\n\tmaxAge?: number\n}\n\nconst cache = new Map<string, CacheEntry>()\n\nconst parseCacheControl = (\n\theader: string,\n): { maxAge?: number; noCache: boolean; noStore: boolean } => {\n\tconst directives = header\n\t\t.toLowerCase()\n\t\t.split(',')\n\t\t.map(d => d.trim())\n\tconst result = {\n\t\tnoCache: false,\n\t\tnoStore: false,\n\t\tmaxAge: undefined as number | undefined,\n\t}\n\n\tfor (const directive of directives) {\n\t\tif (directive === 'no-cache') result.noCache = true\n\t\telse if (directive === 'no-store') result.noStore = true\n\t\telse if (directive.startsWith('max-age=')) {\n\t\t\tconst value = parseInt(directive.substring(8), 10)\n\t\t\tif (!isNaN(value)) result.maxAge = value\n\t\t}\n\t}\n\n\treturn result\n}\n\nconst isCacheEntryValid = (entry: CacheEntry): boolean => {\n\tif (entry.maxAge !== undefined) {\n\t\tconst age = (Date.now() - entry.timestamp) / 1000\n\t\treturn age < entry.maxAge\n\t}\n\treturn true\n}\n\n/**\n * Fetch with HTTP caching support\n *\n * @param url - URL to fetch\n * @param signal - AbortSignal for cancellation\n * @param parseResponse - Function to parse the response body (defaults to text)\n * @returns Promise with parsed content and cache status\n */\nexport const fetchWithCache = async <T = string>(\n\turl: string,\n\tsignal?: AbortSignal,\n\tparseResponse: (response: Response) => Promise<T> = (response: Response) =>\n\t\tresponse.text() as Promise<T>,\n): Promise<{ content: T; fromCache: boolean }> => {\n\tconst cached = cache.get(url) as CacheEntry<T> | undefined\n\tconst headers: HeadersInit = {}\n\n\t// Add conditional headers if we have cached data\n\tif (cached?.etag) headers['If-None-Match'] = cached.etag\n\tif (cached?.lastModified) headers['If-Modified-Since'] = cached.lastModified\n\n\tconst response = await fetch(url, { signal, headers })\n\n\t// Handle 304 Not Modified\n\tif (response.status === 304 && cached) {\n\t\treturn { content: cached.content, fromCache: true }\n\t}\n\n\tif (!response.ok) {\n\t\tthrow new Error(`HTTP error! status: ${response.status}`)\n\t}\n\n\tconst content = await parseResponse(response)\n\tconst cacheControl = response.headers.get('cache-control')\n\tconst etag = response.headers.get('etag')\n\tconst lastModified = response.headers.get('last-modified')\n\n\t// Parse cache directives\n\tconst cacheDirectives = cacheControl\n\t\t? parseCacheControl(cacheControl)\n\t\t: { noCache: false, noStore: false }\n\n\t// Store in cache if allowed\n\tif (!cacheDirectives.noStore) {\n\t\tconst entry: CacheEntry<T> = {\n\t\t\tcontent,\n\t\t\ttimestamp: Date.now(),\n\t\t\tetag: etag || undefined,\n\t\t\tlastModified: lastModified || undefined,\n\t\t\tmaxAge: cacheDirectives.maxAge,\n\t\t}\n\n\t\tif (!cacheDirectives.noCache || isCacheEntryValid(entry)) {\n\t\t\tcache.set(url, entry)\n\t\t}\n\t}\n\n\treturn { content, fromCache: false }\n}\n\n/**\n * Clear the entire cache\n */\nexport const clearCache = (): void => {\n\tcache.clear()\n}\n\n/**\n * Remove a specific URL from cache\n */\nexport const removeCacheEntry = (url: string): boolean => {\n\treturn cache.delete(url)\n}\n\n/**\n * Get cache size\n */\nexport const getCacheSize = (): number => {\n\treturn cache.size\n}\n",
    "export const highlightMatch = (text: string, query: string): string => {\n\tif (!query) return text\n\tconst regex = new RegExp(query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')\n\treturn text.replace(regex, '<mark>$&</mark>')\n}\n",
    "import {\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\tdangerouslySetInnerHTML,\n\teffect,\n\temitEvent,\n\tfromSelector,\n\ton,\n\tsetAttribute,\n\tsetProperty,\n\tshow,\n\tstate,\n\tUNSET,\n} from '../../..'\n\nimport { asURL } from '../../functions/parser/asURL'\nimport { fetchWithCache } from '../../functions/shared/fetchWithCache'\nimport { highlightMatch } from '../../functions/shared/highlightMatch'\n\ntype FormListboxOption = {\n\tvalue: string\n\tlabel: string\n}\n\ntype FormListboxGroups = Record<\n\tstring,\n\t{\n\t\tlabel: string\n\t\titems: FormListboxOption[]\n\t}\n>\n\ntype FormListboxProps = {\n\tvalue: string\n\tfilter: string\n\tsrc: { value: string; error: string }\n\toptions: HTMLElement[]\n\tindex: number\n}\n\nconst ENTER_KEY = 'Enter'\nconst DECREMENT_KEYS = ['ArrowLeft', 'ArrowUp']\nconst INCREMENT_KEYS = ['ArrowRight', 'ArrowDown']\nconst FIRST_KEY = 'Home'\nconst LAST_KEY = 'End'\nconst FOCUS_KEYS = [...DECREMENT_KEYS, ...INCREMENT_KEYS, FIRST_KEY, LAST_KEY]\n\ncomponent(\n\t'form-listbox',\n\t{\n\t\tvalue: '',\n\t\tfilter: '',\n\t\tsrc: asURL,\n\t\toptions: fromSelector<HTMLElement>('[role=\"option\"]:not([hidden])'),\n\t\tindex: -1,\n\t},\n\t(el, { all, first }) => {\n\t\tconst error = state('')\n\n\t\tconst renderOptions = (items: FormListboxOption[]) =>\n\t\t\titems\n\t\t\t\t.map(\n\t\t\t\t\titem => `\n\t\t\t\t\t<div role=\"option\" tabindex=\"-1\" value=\"${item.value}\">${item.label}</div>`,\n\t\t\t\t)\n\t\t\t\t.join('')\n\n\t\tconst renderGroups = (items: FormListboxGroups) => {\n\t\t\tconst id = el.id\n\t\t\tlet html = ''\n\t\t\tfor (const [key, value] of Object.entries(items)) {\n\t\t\t\thtml += `\n\t\t\t\t<div role=\"group\" aria-labelledby=\"${id}-${key}\">\n\t\t\t\t\t<div role=\"presentation\" id=\"${id}-${key}\">${value.label}</div>\n\t\t\t\t\t${renderOptions(value.items)}\n\t\t\t\t</div>`\n\t\t\t}\n\t\t\treturn html\n\t\t}\n\n\t\tconst html = computed(async abort => {\n\t\t\tconst url = el.src.value\n\t\t\tif (el.src.error || !url) {\n\t\t\t\terror.set(el.src.error ?? 'No URL provided')\n\t\t\t\treturn ''\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\terror.set('')\n\t\t\t\tconst { content } = await fetchWithCache(url, abort, response =>\n\t\t\t\t\tresponse.json(),\n\t\t\t\t)\n\t\t\t\treturn Array.isArray(content)\n\t\t\t\t\t? renderOptions(content)\n\t\t\t\t\t: renderGroups(content)\n\t\t\t} catch (err) {\n\t\t\t\terror.set(err instanceof Error ? err.message : String(err))\n\t\t\t\treturn ''\n\t\t\t}\n\t\t})\n\t\tconst loading = () => html.get() === UNSET\n\t\tconst isSelected = (target: HTMLElement) =>\n\t\t\tel.value === target.getAttribute('value')\n\n\t\treturn [\n\t\t\tsetAttribute('value'),\n\t\t\ton('click', ({ event }) => {\n\t\t\t\tconst option = (event.target as HTMLElement).closest(\n\t\t\t\t\t'[role=\"option\"]',\n\t\t\t\t) as HTMLElement\n\t\t\t\tif (option) {\n\t\t\t\t\tel.value = option.getAttribute('value') ?? ''\n\t\t\t\t\tel.index = el.options.indexOf(option)\n\t\t\t\t}\n\t\t\t}),\n\t\t\ton('keydown', ({ event }) => {\n\t\t\t\tconst { key } = event\n\t\t\t\tif (!FOCUS_KEYS.includes(key)) return\n\t\t\t\tevent.preventDefault()\n\t\t\t\tevent.stopPropagation()\n\t\t\t\tconst max = el.options.length - 1\n\t\t\t\tel.index =\n\t\t\t\t\tkey === FIRST_KEY\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: key === LAST_KEY\n\t\t\t\t\t\t\t? max\n\t\t\t\t\t\t\t: Math.min(\n\t\t\t\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t\t\t\tel.index +\n\t\t\t\t\t\t\t\t\t\t\t(INCREMENT_KEYS.includes(key)\n\t\t\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t\t\t: -1),\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tmax,\n\t\t\t\t\t\t\t\t)\n\t\t\t\tif (el.options[el.index]) el.options[el.index].focus()\n\t\t\t}),\n\t\t\ton('keyup', ({ event }) => {\n\t\t\t\tconst { key } = event\n\t\t\t\tif (key !== ENTER_KEY) return\n\t\t\t\tevent.preventDefault()\n\t\t\t\tevent.stopPropagation()\n\t\t\t\tif (el.options[el.index])\n\t\t\t\t\tel.value = el.options[el.index].getAttribute('value') ?? ''\n\t\t\t}),\n\t\t\temitEvent('form-listbox.change', 'value'),\n\t\t\t() =>\n\t\t\t\teffect((): undefined => {\n\t\t\t\t\tconst current = document.activeElement\n\t\t\t\t\tif (current && el.contains(current))\n\t\t\t\t\t\tel.index = el.options.indexOf(current as HTMLElement)\n\t\t\t\t}),\n\t\t\tfirst('card-callout', [show(() => loading() || !!error.get())]),\n\t\t\tfirst('.loading', [show(() => loading())]),\n\t\t\tfirst('.error', [show(() => !!error.get())]),\n\t\t\tfirst(\n\t\t\t\t'[role=\"listbox\"]',\n\t\t\t\t[\n\t\t\t\t\tshow(() => !loading() && !error.get()),\n\t\t\t\t\tdangerouslySetInnerHTML(html),\n\t\t\t\t],\n\t\t\t\t'Needed to display list of options.',\n\t\t\t),\n\t\t\tall('[role=\"group\"]', [\n\t\t\t\t(_, target) => {\n\t\t\t\t\tconst visible = fromSelector(\n\t\t\t\t\t\t'[role=\"option\"]:not([hidden])',\n\t\t\t\t\t)(target)\n\t\t\t\t\treturn effect((): undefined => {\n\t\t\t\t\t\ttarget.hidden = !visible.get().length\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t]),\n\t\t\tall('[role=\"option\"]', [\n\t\t\t\tsetProperty('tabIndex', target =>\n\t\t\t\t\tisSelected(target) ? 0 : -1,\n\t\t\t\t),\n\t\t\t\tshow(target =>\n\t\t\t\t\ttarget.textContent\n\t\t\t\t\t\t?.trim()\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.includes(el.filter.toLowerCase()),\n\t\t\t\t),\n\t\t\t\tdangerouslySetInnerHTML(target =>\n\t\t\t\t\thighlightMatch(target.textContent ?? '', el.filter),\n\t\t\t\t),\n\t\t\t\tsetProperty('ariaSelected', target =>\n\t\t\t\t\tString(isSelected(target)),\n\t\t\t\t),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-listbox': Component<FormListboxProps>\n\t}\n\tinterface HTMLElementEventMap {\n\t\t'form-listbox.change': CustomEvent<string>\n\t}\n}\n",
    "import { type ComponentProps, type Effect, on } from '../../..'\n\nconst DECREMENT_KEYS = ['ArrowLeft', 'ArrowUp']\nconst INCREMENT_KEYS = ['ArrowRight', 'ArrowDown']\nconst FIRST_KEY = 'Home'\nconst LAST_KEY = 'End'\nconst HANDLED_KEYS = [...DECREMENT_KEYS, ...INCREMENT_KEYS, FIRST_KEY, LAST_KEY]\n\nexport const onKeydownManageFocus = <E extends HTMLElement = HTMLElement>(\n\telements: E[],\n\tgetSelected: (elements: E[]) => number,\n): Effect<ComponentProps, E>[] => {\n\tlet index = getSelected(elements)\n\treturn [\n\t\ton('change', () => {\n\t\t\tindex = getSelected(elements)\n\t\t}),\n\t\ton('keydown', ({ event }) => {\n\t\t\tconst { key } = event\n\t\t\tif (!HANDLED_KEYS.includes(key)) return\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tif (key === FIRST_KEY) index = 0\n\t\t\telse if (key === LAST_KEY) index = elements.length - 1\n\t\t\telse\n\t\t\t\tindex = Math.min(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tindex + (INCREMENT_KEYS.includes(key) ? 1 : -1),\n\t\t\t\t\t\t0,\n\t\t\t\t\t),\n\t\t\t\t\telements.length - 1,\n\t\t\t\t)\n\t\t\tif (elements[index]) elements[index].focus()\n\t\t}),\n\t]\n}\n",
    "import {\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tfromEvents,\n\tgetProperty,\n\tsetAttribute,\n\tsetProperty,\n\ttoggleClass,\n} from '../../..'\nimport { onKeydownManageFocus } from '../../functions/event-listener/onKeydownManageFocus'\n\nexport type FormRadiogroupProps = {\n\treadonly value: string\n}\n\nexport default component(\n\t'form-radiogroup',\n\t{\n\t\tvalue: fromEvents(\n\t\t\t'input',\n\t\t\t{\n\t\t\t\tchange: ({ target }) => target.value,\n\t\t\t\tkeyup: ({ event, target }) => {\n\t\t\t\t\tif (event.key === 'Enter') target.click()\n\t\t\t\t},\n\t\t\t},\n\t\t\tfromDOM({ 'input:checked': getProperty('value') }, ''),\n\t\t),\n\t},\n\t(el, { all, useElements }) => {\n\t\tconst radios = useElements('input', 'Native radio buttons needed.')\n\n\t\treturn [\n\t\t\tsetAttribute('value'),\n\t\t\tall('input', [\n\t\t\t\tsetProperty('tabIndex', target =>\n\t\t\t\t\ttarget.value === el.value ? 0 : -1,\n\t\t\t\t),\n\t\t\t\t...onKeydownManageFocus(radios, inputs =>\n\t\t\t\t\tinputs.findIndex(input => input.checked),\n\t\t\t\t),\n\t\t\t]),\n\t\t\tall('label', [\n\t\t\t\ttoggleClass(\n\t\t\t\t\t'selected',\n\t\t\t\t\ttarget => el.value === target.querySelector('input')?.value,\n\t\t\t\t),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-radiogroup': Component<FormRadiogroupProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tfromEvents,\n\tgetText,\n\tsetProperty,\n\tsetText,\n\tshow,\n} from '../../..'\n\nexport type FormSpinbuttonProps = {\n\treadonly value: number\n}\n\nexport default component(\n\t'form-spinbutton',\n\t{\n\t\tvalue: fromEvents<number>(\n\t\t\t'button',\n\t\t\t{\n\t\t\t\tclick: ({ target, value }) =>\n\t\t\t\t\tvalue + (target.classList.contains('decrement') ? -1 : 1),\n\t\t\t\tkeydown: ({ event, value }) => {\n\t\t\t\t\tconst { key } = event as KeyboardEvent\n\t\t\t\t\tif (['ArrowUp', 'ArrowDown', '-', '+'].includes(key)) {\n\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t(key === 'ArrowDown' || key === '-' ? -1 : 1)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\tfromDOM({ '.value': getText() }, asInteger()),\n\t\t),\n\t},\n\t(el, { first }) => {\n\t\tconst zeroLabel = el.getAttribute('zero-label') || 'Add to Cart'\n\t\tconst incrementLabel = el.getAttribute('increment-label') || 'Increment'\n\t\tconst max = asInteger(9)(el, el.getAttribute('max'))\n\t\tconst nonZero = () => el.value !== 0\n\n\t\treturn [\n\t\t\tfirst('.value', [setText('value'), show(nonZero)]),\n\t\t\tfirst('.decrement', show(nonZero)),\n\t\t\tfirst('button.increment', [\n\t\t\t\tsetText(() => (nonZero() ? '+' : zeroLabel)),\n\t\t\t\tsetProperty('ariaLabel', () =>\n\t\t\t\t\tnonZero() ? incrementLabel : zeroLabel,\n\t\t\t\t),\n\t\t\t\tsetProperty('disabled', () => el.value >= max),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-spinbutton': Component<FormSpinbuttonProps>\n\t}\n}\n",
    "import {\n\tbatch,\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\tfromDOM,\n\tgetText,\n\ton,\n\tsetAttribute,\n\tsetProperty,\n\tsetText,\n} from '../../..'\nimport { clearEffects, clearMethod } from '../../functions/shared/clearInput'\n\nexport type FormTextboxProps = {\n\tvalue: string\n\tlength: number\n\terror: string\n\tdescription: string\n\tclear(): void\n}\n\nexport default component<FormTextboxProps>(\n\t'form-textbox',\n\t{\n\t\tvalue: '',\n\t\tlength: 0,\n\t\terror: '',\n\t\tdescription: fromDOM({ '.description': getText() }, ''),\n\t\tclear: clearMethod<HTMLInputElement | HTMLTextAreaElement>(\n\t\t\t'input, textarea',\n\t\t),\n\t},\n\t(el, { first, useElement }) => {\n\t\tconst input = useElement<HTMLInputElement | HTMLTextAreaElement>(\n\t\t\t'input, textarea',\n\t\t\t'Native input or textarea needed.',\n\t\t)\n\n\t\t// Initialize description with existing content or set up computed signal for remaining characters\n\t\tconst description = el.querySelector<HTMLElement>('.description')\n\t\tif (description?.dataset.remaining && input.maxLength) {\n\t\t\tel.setSignal(\n\t\t\t\t'description',\n\t\t\t\tcomputed(() =>\n\t\t\t\t\tdescription.dataset.remaining!.replace(\n\t\t\t\t\t\t'${n}',\n\t\t\t\t\t\tString(input.maxLength - el.length),\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t)\n\t\t} else if (description?.textContent) {\n\t\t\tel.description = description.textContent.trim()\n\t\t}\n\t\tconst errorId = el.querySelector('.error')?.id\n\t\tconst descriptionId = description?.id\n\n\t\treturn [\n\t\t\tsetAttribute('value'),\n\n\t\t\t// Effects on input / textarea\n\t\t\tfirst('input, textarea', [\n\t\t\t\tsetProperty('ariaInvalid', () => String(!!el.error)),\n\t\t\t\tsetAttribute('aria-errormessage', () =>\n\t\t\t\t\tel.error && errorId ? errorId : null,\n\t\t\t\t),\n\t\t\t\tsetAttribute('aria-describedby', () =>\n\t\t\t\t\tel.description && descriptionId ? descriptionId : null,\n\t\t\t\t),\n\t\t\t\ton('change', () => {\n\t\t\t\t\tinput.checkValidity()\n\t\t\t\t\tbatch(() => {\n\t\t\t\t\t\tel.value = input.value\n\t\t\t\t\t\tel.error = input.validationMessage ?? ''\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\ton('input', () => {\n\t\t\t\t\tel.length = input.value.length\n\t\t\t\t}),\n\t\t\t]),\n\n\t\t\t// Effects and event listeners on clear button\n\t\t\tfirst('.clear', clearEffects(el)),\n\n\t\t\t// Effects on error and description\n\t\t\tfirst('.error', setText('error')),\n\t\t\tfirst('.description', setText('description')),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'form-textbox': Component<FormTextboxProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tfromSelector,\n\ton,\n\tsetProperty,\n} from '../../..'\n\nexport type ModuleCarouselProps = {\n\treadonly slides: HTMLElement[]\n\tindex: number\n}\n\nconst wrapAround = (index: number, total: number) => (index + total) % total\n\nexport default component(\n\t'module-carousel',\n\t{\n\t\tslides: fromSelector('[role=\"tabpanel\"]'),\n\t\tindex: asInteger((host: HTMLElement & { slides: HTMLElement[] }) =>\n\t\t\tMath.max(\n\t\t\t\thost.slides.findIndex(slide => slide.ariaCurrent === 'true'),\n\t\t\t\t0,\n\t\t\t),\n\t\t),\n\t},\n\t(el, { all }) => {\n\t\tconst isCurrentDot = (target: HTMLElement) =>\n\t\t\ttarget.dataset.index === String(el.index)\n\t\tconst scrollToCurrentSlide = () => {\n\t\t\tel.slides[el.index].scrollIntoView({\n\t\t\t\tbehavior: 'smooth',\n\t\t\t\tblock: 'nearest',\n\t\t\t})\n\t\t}\n\n\t\treturn [\n\t\t\t// Register IntersectionObserver to update index based on scroll position\n\t\t\t() => {\n\t\t\t\tconst observer = new IntersectionObserver(\n\t\t\t\t\tentries => {\n\t\t\t\t\t\tfor (const entry of entries) {\n\t\t\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\t\t\tel.index = el.slides.findIndex(\n\t\t\t\t\t\t\t\t\tslide => slide === entry.target,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\troot: el,\n\t\t\t\t\t\tthreshold: 0.5,\n\t\t\t\t\t},\n\t\t\t\t)\n\t\t\t\tel.slides.forEach(slide => {\n\t\t\t\t\tobserver.observe(slide)\n\t\t\t\t})\n\t\t\t\treturn () => {\n\t\t\t\t\tobserver.disconnect()\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Handle navigation button click and keyup events\n\t\t\tall('nav button', [\n\t\t\t\ton('click', ({ host, target }) => {\n\t\t\t\t\tconst total = host.slides.length\n\t\t\t\t\tconst nextIndex = target.classList.contains('prev')\n\t\t\t\t\t\t? el.index - 1\n\t\t\t\t\t\t: target.classList.contains('next')\n\t\t\t\t\t\t\t? el.index + 1\n\t\t\t\t\t\t\t: parseInt(target.dataset.index || '0')\n\t\t\t\t\tel.index = Number.isInteger(nextIndex)\n\t\t\t\t\t\t? wrapAround(nextIndex, total)\n\t\t\t\t\t\t: 0\n\t\t\t\t\tscrollToCurrentSlide()\n\t\t\t\t}),\n\t\t\t\ton('keyup', ({ event, host }) => {\n\t\t\t\t\tconst key = event.key\n\t\t\t\t\tif (\n\t\t\t\t\t\t['ArrowLeft', 'ArrowRight', 'Home', 'End'].includes(key)\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\tconst total = host.slides.length\n\t\t\t\t\t\tconst nextIndex =\n\t\t\t\t\t\t\tkey === 'Home'\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: key === 'End'\n\t\t\t\t\t\t\t\t\t? total - 1\n\t\t\t\t\t\t\t\t\t: wrapAround(\n\t\t\t\t\t\t\t\t\t\t\tel.index +\n\t\t\t\t\t\t\t\t\t\t\t\t(key === 'ArrowLeft' ? -1 : 1),\n\t\t\t\t\t\t\t\t\t\t\ttotal,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\thost.slides[nextIndex].focus()\n\t\t\t\t\t\tel.index = nextIndex\n\t\t\t\t\t\tscrollToCurrentSlide()\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]),\n\n\t\t\t// Set the active slide in the navigation\n\t\t\tall('[role=\"tab\"]', [\n\t\t\t\tsetProperty('ariaSelected', target =>\n\t\t\t\t\tString(isCurrentDot(target)),\n\t\t\t\t),\n\t\t\t\tsetProperty('tabIndex', target =>\n\t\t\t\t\tisCurrentDot(target) ? 0 : -1,\n\t\t\t\t),\n\t\t\t]),\n\n\t\t\t// Set the active slide in the slides\n\t\t\tall('[role=\"tabpanel\"]', [\n\t\t\t\tsetProperty('ariaCurrent', target =>\n\t\t\t\t\tString(target.id === el.slides[el.index].id),\n\t\t\t\t),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-carousel': Component<ModuleCarouselProps>\n\t}\n}\n",
    "import { component, computed, pass } from '../../..'\n\n// import '../form-spinbutton/form-spinbutton'\n\nexport default component('module-catalog', {}, (_, { first, useElements }) => {\n\tconst total = computed(() =>\n\t\tuseElements(\n\t\t\t'form-spinbutton',\n\t\t\t'Add <form-spinbutton> components to calculate sum from.',\n\t\t).reduce((sum, item) => sum + item.value, 0),\n\t)\n\treturn [\n\t\tfirst('basic-button', [\n\t\t\tpass({\n\t\t\t\tdisabled: () => !total.get(),\n\t\t\t\tbadge: () => (total.get() > 0 ? String(total.get()) : ''),\n\t\t\t}),\n\t\t]),\n\t]\n})\n",
    "import { type Component, type ComponentProps, type Effect, on } from '../../..'\n\nimport type { BasicButtonProps } from './basic-button'\n\ntype CopyStatus = 'success' | 'error'\n\nconst COPY_SUCCESS = 'success'\nconst COPY_ERROR = 'error'\n\nexport const copyToClipboard =\n\t(\n\t\tcontainer: HTMLElement,\n\t\tmessages: { [COPY_ERROR]?: string; [COPY_SUCCESS]?: string },\n\t): Effect<ComponentProps, Component<BasicButtonProps>> =>\n\t(_, button) =>\n\t\ton('click', () => {\n\t\t\tconst label = button.label\n\t\t\tlet status: CopyStatus = COPY_SUCCESS\n\t\t\t;(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait navigator.clipboard.writeText(\n\t\t\t\t\t\tcontainer.textContent?.trim() ?? '',\n\t\t\t\t\t)\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Error while trying to use navigator.clipboard.writeText()',\n\t\t\t\t\t\terr,\n\t\t\t\t\t)\n\t\t\t\t\tstatus = COPY_ERROR\n\t\t\t\t}\n\t\t\t\tbutton.disabled = true\n\t\t\t\tbutton.label = messages[status] ?? label\n\t\t\t\tsetTimeout(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tbutton.disabled = false\n\t\t\t\t\t\tbutton.label = label\n\t\t\t\t\t},\n\t\t\t\t\tstatus === COPY_SUCCESS ? 1000 : 3000,\n\t\t\t\t)\n\t\t\t})()\n\t\t})(_, button)\n",
    "import {\n\tasBoolean,\n\ttype Component,\n\tcomponent,\n\ton,\n\ttoggleAttribute,\n} from '../../..'\nimport { copyToClipboard } from '../basic-button/copyToClipboard'\n\nexport type ModuleCodeblockProps = {\n\tcollapsed: boolean\n}\n\nexport default component(\n\t'module-codeblock',\n\t{ collapsed: asBoolean() },\n\t(el, { first, useElement }) => {\n\t\tconst code = useElement(\n\t\t\t'code',\n\t\t\t'Needed as source container to copy from.',\n\t\t)\n\n\t\treturn [\n\t\t\ttoggleAttribute('collapsed'),\n\t\t\tfirst(\n\t\t\t\t'.overlay',\n\t\t\t\ton('click', () => {\n\t\t\t\t\tel.collapsed = false\n\t\t\t\t}),\n\t\t\t),\n\t\t\tfirst(\n\t\t\t\t'.copy',\n\t\t\t\tcopyToClipboard(code, {\n\t\t\t\t\tsuccess: el.getAttribute('copy-success') || 'Copied!',\n\t\t\t\t\terror:\n\t\t\t\t\t\tel.getAttribute('copy-success') ||\n\t\t\t\t\t\t'Error trying to copy to clipboard!',\n\t\t\t\t}),\n\t\t\t),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-codeblock': Component<ModuleCodeblockProps>\n\t}\n}\n",
    "import {\n\tcolorsNamed,\n\tdifferenceCiede2000,\n\tnearest,\n\ttype Oklch,\n} from 'culori/fn'\nimport { asString, type Component, component, on, pass } from '../../..'\nimport { asOklch } from '../../functions/parser/asOklch'\nimport { getStepColor } from '../../functions/shared/getStepColor'\n\nexport type ModuleColoreditorProps = {\n\tcolor: Oklch\n\tname: string\n\treadonly nearest: string\n\treadonly lightness: number\n\treadonly chroma: number\n\treadonly hue: number\n}\n\nconst nearestNamedColor = nearest(\n\tObject.keys(colorsNamed),\n\tdifferenceCiede2000(),\n)\n\nexport default component(\n\t'module-coloreditor',\n\t{\n\t\tcolor: asOklch(),\n\t\tname: asString('Blue'),\n\t\tnearest: (el: HTMLElement & { color: Oklch }) => () =>\n\t\t\tnearestNamedColor(el.color)[0],\n\t\tlightness: (el: HTMLElement & { color: Oklch }) => () => el.color.l,\n\t\tchroma: (el: HTMLElement & { color: Oklch }) => () => el.color.c,\n\t\thue: (el: HTMLElement & { color: Oklch }) => () => el.color.h,\n\t},\n\t(el, { all, first }) => {\n\t\tconst effects = [\n\t\t\ton('change', ({ event }) => {\n\t\t\t\tconst { target } = event\n\t\t\t\tif (\n\t\t\t\t\ttarget instanceof HTMLInputElement &&\n\t\t\t\t\ttarget.name === 'name'\n\t\t\t\t)\n\t\t\t\t\tel.name = target.value\n\t\t\t}),\n\t\t\ton('color-change', ({ event }) => ({\n\t\t\t\tcolor: (event as CustomEvent).detail,\n\t\t\t})),\n\t\t\tfirst('form-textbox', [\n\t\t\t\tpass({\n\t\t\t\t\tvalue: 'name',\n\t\t\t\t\tdescription: () => `Nearest named CSS color: ${el.nearest}`,\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst('form-colorgraph', [pass({ color: 'color' })]),\n\t\t\tall('form-colorslider', [pass({ color: 'color' })]),\n\t\t\tfirst('card-colorscale', [pass({ color: 'color', name: 'name' })]),\n\t\t\tfirst('module-colorinfo.base', [\n\t\t\t\tpass({\n\t\t\t\t\tcolor: 'color',\n\t\t\t\t\tname: () => el.name + ' 500',\n\t\t\t\t}),\n\t\t\t]),\n\t\t]\n\t\tfor (let i = 1; i < 5; i++)\n\t\t\teffects.push(\n\t\t\t\tfirst(`module-colorinfo.lighten${(5 - i) * 20}`, [\n\t\t\t\t\tpass({\n\t\t\t\t\t\tcolor: () => getStepColor(el.color, 1 - i / 10),\n\t\t\t\t\t\tname: () => `${el.name} ${i * 100}`,\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t)\n\t\tfor (let i = 1; i < 5; i++)\n\t\t\teffects.push(\n\t\t\t\tfirst(`module-colorinfo.darken${i * 20}`, [\n\t\t\t\t\tpass({\n\t\t\t\t\t\tcolor: () => getStepColor(el.color, 1 - (i + 5) / 10),\n\t\t\t\t\t\tname: () => `${el.name} ${(i + 5) * 100}`,\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t)\n\t\treturn effects\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-coloreditor': Component<ModuleColoreditorProps>\n\t}\n}\n",
    "import {\n\tasString,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tgetText,\n\tpass,\n\tsetStyle,\n\tsetText,\n} from '../../..'\nimport 'culori/css'\nimport {\n\tformatCss,\n\tformatHex,\n\tformatHsl,\n\tformatRgb,\n\ttype Oklch,\n} from 'culori/fn'\nimport { asOklch } from '../../functions/parser/asOklch'\n\nexport type ModuleColorinfoProps = {\n\tname: string\n\tcolor: Oklch\n\treadonly css: string\n\treadonly hex: string\n\treadonly rgb: string\n\treadonly hsl: string\n\treadonly lightness: number\n\treadonly chroma: number\n\treadonly hue: number\n}\n\nexport default component(\n\t'module-colorinfo',\n\t{\n\t\tname: asString(fromDOM({ '.label strong': getText() }, '')),\n\t\tcolor: asOklch(),\n\t\tcss: (el: HTMLElement & { color: Oklch }) => () => formatCss(el.color),\n\t\thex: (el: HTMLElement & { color: Oklch }) => () => formatHex(el.color),\n\t\trgb: (el: HTMLElement & { color: Oklch }) => () => formatRgb(el.color),\n\t\thsl: (el: HTMLElement & { color: Oklch }) => () => formatHsl(el.color),\n\t\tlightness: (el: HTMLElement & { color: Oklch }) => () => el.color.l,\n\t\tchroma: (el: HTMLElement & { color: Oklch }) => () => el.color.c,\n\t\thue: (el: HTMLElement & { color: Oklch }) => () => el.color.h ?? 0,\n\t},\n\t(_, { all, first }) => [\n\t\tsetStyle('--color-swatch', 'css'),\n\t\tsetStyle('--color-fallback', 'hex'),\n\t\tfirst('.label strong', setText('name')),\n\t\tfirst('.hex', setText('hex')),\n\t\tfirst('.rgb', setText('rgb')),\n\t\tfirst('.hsl', setText('hsl')),\n\t\tall('.lightness', pass({ value: 'lightness' })),\n\t\tall('.chroma', pass({ value: 'chroma' })),\n\t\tall('.hue', pass({ value: 'hue' })),\n\t],\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-colorinfo': Component<ModuleColorinfoProps>\n\t}\n}\n",
    "import { type Component, component, effect, on } from '../../..'\n\nexport type ModuleDialogProps = {\n\topen: boolean\n}\n\nconst SCROLL_LOCK_CLASS = 'scroll-lock'\n\nexport default component(\n\t'module-dialog',\n\t{\n\t\topen: false,\n\t},\n\t(el, { first, useElement }) => {\n\t\tconst dialog = useElement(\n\t\t\t'dialog',\n\t\t\t'Native dialog needed as container for modal content.',\n\t\t)\n\t\tlet scrollTop = 0\n\n\t\treturn [\n\t\t\tfirst(\n\t\t\t\t'button.open',\n\t\t\t\ton('click', () => {\n\t\t\t\t\tel.open = true\n\t\t\t\t}),\n\t\t\t\t'Native button to open dialog needed.',\n\t\t\t),\n\t\t\tfirst('dialog', [\n\t\t\t\ton('click', ({ event }) => {\n\t\t\t\t\tif (event.target === dialog) el.open = false\n\t\t\t\t}),\n\t\t\t\ton('keydown', ({ event }) => {\n\t\t\t\t\tif (event.key === 'Escape') el.open = false\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tfirst('dialog .close', [\n\t\t\t\ton('click', () => {\n\t\t\t\t\tel.open = false\n\t\t\t\t}),\n\t\t\t]),\n\t\t\t() =>\n\t\t\t\teffect(() => {\n\t\t\t\t\tif (el.open) {\n\t\t\t\t\t\tdialog.showModal()\n\t\t\t\t\t\tscrollTop = document.documentElement.scrollTop\n\t\t\t\t\t\tdocument.body.classList.add(SCROLL_LOCK_CLASS)\n\t\t\t\t\t\tdocument.body.style.top = `-${scrollTop}px`\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.body.classList.remove(SCROLL_LOCK_CLASS)\n\t\t\t\t\t\twindow.scrollTo({\n\t\t\t\t\t\t\ttop: scrollTop,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\tbehavior: 'instant',\n\t\t\t\t\t\t})\n\t\t\t\t\t\tdocument.body.style.removeProperty('top')\n\t\t\t\t\t\tdialog.close()\n\t\t\t\t\t}\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tel.open = false\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-dialog': Component<ModuleDialogProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tfromSelector,\n\tMissingElementError,\n\ton,\n\tpass,\n} from '../../..'\n\ntype ModuleInsertProps = {\n\titems: HTMLElement[]\n\tadd: (process?: (item: HTMLElement) => void) => void\n\tdelete: (key: string) => void\n}\n\nconst MAX_ITEMS = 1000\n\nexport default component<ModuleInsertProps>(\n\t'module-insert',\n\t{\n\t\titems: fromSelector('[data-container] > *'),\n\t\tadd: (\n\t\t\tel: HTMLElement & {\n\t\t\t\tadd: (process?: (item: HTMLElement) => void) => void\n\t\t\t},\n\t\t) => {\n\t\t\tconst templateId = el.getAttribute('template')\n\t\t\tconst template = templateId\n\t\t\t\t? document.getElementById(templateId)\n\t\t\t\t: el.querySelector('template')\n\t\t\tif (!template || !(template instanceof HTMLTemplateElement))\n\t\t\t\tthrow new MissingElementError(\n\t\t\t\t\tel,\n\t\t\t\t\t'template',\n\t\t\t\t\t'Needed to generate items.',\n\t\t\t\t)\n\t\t\tconst container = el.querySelector('[data-container]')\n\t\t\tif (!container)\n\t\t\t\tthrow new MissingElementError(\n\t\t\t\t\tel,\n\t\t\t\t\t'[data-container]',\n\t\t\t\t\t'Needed as container for items.',\n\t\t\t\t)\n\n\t\t\tlet key = 0\n\t\t\tel.add = (process?: (item: HTMLElement) => void) => {\n\t\t\t\tconst item = (\n\t\t\t\t\ttemplate.content.cloneNode(true) as DocumentFragment\n\t\t\t\t).firstElementChild\n\t\t\t\tif (item && item instanceof HTMLElement) {\n\t\t\t\t\titem.dataset.key = String(key++)\n\t\t\t\t\tif (process) process(item)\n\t\t\t\t\tcontainer.append(item)\n\t\t\t\t} else {\n\t\t\t\t\tthrow new MissingElementError(\n\t\t\t\t\t\tel,\n\t\t\t\t\t\t'*',\n\t\t\t\t\t\t'Template does not contain an item element.',\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdelete: (\n\t\t\tel: HTMLElement & {\n\t\t\t\tdelete: (key: string) => void\n\t\t\t},\n\t\t) => {\n\t\t\tel.delete = (key: string) => {\n\t\t\t\tconst item = el.querySelector(`[data-key=\"${key}\"]`)\n\t\t\t\tif (item) item.remove()\n\t\t\t}\n\t\t},\n\t},\n\t(el, { first }) => {\n\t\tconst max = asInteger(MAX_ITEMS)(el, el.getAttribute('max'))\n\n\t\treturn [\n\t\t\tfirst('basic-button.add', [\n\t\t\t\ton('click', () => {\n\t\t\t\t\tel.add()\n\t\t\t\t}),\n\t\t\t\tpass({\n\t\t\t\t\tdisabled: () => el.items.length >= max,\n\t\t\t\t}),\n\t\t\t]),\n\t\t\ton('click', ({ event }) => {\n\t\t\t\tconst target = event.target\n\t\t\t\tif (\n\t\t\t\t\ttarget instanceof HTMLElement &&\n\t\t\t\t\ttarget?.closest('basic-button.delete')\n\t\t\t\t) {\n\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\ttarget.closest('[data-key]')?.remove()\n\t\t\t\t}\n\t\t\t}),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-insert': Component<ModuleInsertProps>\n\t}\n}\n",
    "import {\n\ttype Component,\n\tcomponent,\n\tcomputed,\n\tdangerouslySetInnerHTML,\n\tsetText,\n\tshow,\n\tstate,\n\ttoggleClass,\n\tUNSET,\n} from '../../..'\nimport { asURL } from '../../functions/parser/asURL'\nimport { fetchWithCache } from '../../functions/shared/fetchWithCache'\n\nexport type ModuleLazyProps = {\n\tsrc: { value: string; error: string }\n}\n\nexport default component('module-lazy', { src: asURL }, (el, { first }) => {\n\tconst error = state('')\n\tconst content = computed(async abort => {\n\t\tconst url = el.src.value\n\t\tif (el.src.error || !url) {\n\t\t\terror.set(el.src.error ?? 'No URL provided')\n\t\t\treturn ''\n\t\t}\n\n\t\ttry {\n\t\t\terror.set('')\n\t\t\tel.querySelector('.loading')?.remove()\n\t\t\tconst { content } = await fetchWithCache(url, abort)\n\t\t\treturn content\n\t\t} catch (err) {\n\t\t\terror.set(err instanceof Error ? err.message : String(err))\n\t\t\treturn ''\n\t\t}\n\t})\n\n\treturn [\n\t\tdangerouslySetInnerHTML(content),\n\t\tfirst(\n\t\t\t'card-callout',\n\t\t\t[\n\t\t\t\tshow(() => !!error.get() || content.get() === UNSET),\n\t\t\t\ttoggleClass('danger', () => !error.get()),\n\t\t\t],\n\t\t\t'Needed to display loading state and error messages.',\n\t\t),\n\t\tfirst('.error', setText(error), 'Needed to display error messages.'),\n\t]\n})\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-lazy': Component<ModuleLazyProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tfromDOM,\n\tgetProperty,\n\ton,\n\tsetAttribute,\n\tsetProperty,\n\tsetText,\n\tshow,\n} from '../../..'\n\nexport type ModulePaginationProps = {\n\tvalue: number\n\tmax: number\n}\n\nexport default component(\n\t'module-pagination',\n\t{\n\t\tvalue: asInteger(fromDOM({ input: getProperty('value') }, 1)),\n\t\tmax: asInteger(fromDOM({ input: getProperty('max') }, 1)),\n\t},\n\t(el, { first }) => [\n\t\t// Reflect attributes of module-pagination component\n\t\tshow(() => el.max > 1),\n\t\tsetAttribute('value', () => String(el.value)),\n\t\tsetAttribute('max', () => String(el.max)),\n\n\t\t// Text content\tfor current and max page numbers\n\t\tfirst('.value', [setText(() => String(el.value))]),\n\t\tfirst('.max', [setText(() => String(el.max))]),\n\n\t\t// Event handler on input and its value and max properties\n\t\tfirst(\n\t\t\t'input',\n\t\t\t[\n\t\t\t\ton('change', ({ target }) => {\n\t\t\t\t\tel.value = Math.max(\n\t\t\t\t\t\t1,\n\t\t\t\t\t\tMath.min(target.valueAsNumber, el.max),\n\t\t\t\t\t)\n\t\t\t\t}),\n\t\t\t\tsetProperty('value', () => String(el.value)),\n\t\t\t\tsetProperty('max', () => String(el.max)),\n\t\t\t],\n\t\t\t'Add an <input[type=\"number\"]> to enter the page number to go to.',\n\t\t),\n\n\t\t// Event handlers on buttons and their disabled state\n\t\tfirst(\n\t\t\t'button.prev',\n\t\t\t[\n\t\t\t\ton('click', () => {\n\t\t\t\t\tel.value--\n\t\t\t\t}),\n\t\t\t\tsetProperty('disabled', () => el.value <= 1),\n\t\t\t],\n\t\t\t'Add a <button.prev> to go to the previous page.',\n\t\t),\n\t\tfirst(\n\t\t\t'button.next',\n\t\t\t[\n\t\t\t\ton('click', () => {\n\t\t\t\t\tel.value++\n\t\t\t\t}),\n\t\t\t\tsetProperty('disabled', () => el.value >= el.max),\n\t\t\t],\n\t\t\t'Add a <button.next> to go to the next page.',\n\t\t),\n\t\ton('keyup', ({ event }) => {\n\t\t\tif ((event.target as HTMLElement)?.localName === 'input') return\n\t\t\tconst key = event.key\n\t\t\tif ((key === 'ArrowLeft' || key === '-') && el.value > 1) el.value--\n\t\t\telse if ((key === 'ArrowRight' || key === '+') && el.value < el.max)\n\t\t\t\tel.value++\n\t\t}),\n\t],\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-pagination': Component<ModulePaginationProps>\n\t}\n}\n",
    "import { batch, type Component, component, on, toggleClass } from '../../..'\n\nexport type ModuleScrollareaProps = {\n\treadonly overflowStart: boolean\n\treadonly overflowEnd: boolean\n}\n\nexport default component(\n\t'module-scrollarea',\n\t{\n\t\toverflowStart: false,\n\t\toverflowEnd: false,\n\t},\n\tel => {\n\t\tconst isHorizontal = el.getAttribute('orientation') === 'horizontal'\n\t\tconst hasOverflow = () => el.overflowStart || el.overflowEnd\n\t\tlet scrolling: number | null = null\n\n\t\treturn [\n\t\t\t() => {\n\t\t\t\tconst child = el.firstElementChild\n\t\t\t\tif (!child) return\n\t\t\t\tconst observer = new IntersectionObserver(\n\t\t\t\t\t([entry]) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tentry.intersectionRatio > 0 &&\n\t\t\t\t\t\t\tentry.intersectionRatio < 0.999 // ignore rounding errors of fraction pixels\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tel.overflowEnd = true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbatch(() => {\n\t\t\t\t\t\t\t\tel.overflowStart = false\n\t\t\t\t\t\t\t\tel.overflowEnd = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\troot: el,\n\t\t\t\t\t\tthreshold: [0, 0.999],\n\t\t\t\t\t},\n\t\t\t\t)\n\t\t\t\tobserver.observe(child)\n\t\t\t\treturn () => {\n\t\t\t\t\tobserver.disconnect()\n\t\t\t\t}\n\t\t\t},\n\t\t\ttoggleClass('overflow', hasOverflow),\n\t\t\ttoggleClass('overflow-start', 'overflowStart'),\n\t\t\ttoggleClass('overflow-end', 'overflowEnd'),\n\t\t\ton('scroll', () => {\n\t\t\t\tif (!hasOverflow()) return\n\t\t\t\tif (scrolling) cancelAnimationFrame(scrolling)\n\t\t\t\tscrolling = requestAnimationFrame(() => {\n\t\t\t\t\tscrolling = null\n\t\t\t\t\tel.overflowStart = isHorizontal\n\t\t\t\t\t\t? el.scrollLeft > 0\n\t\t\t\t\t\t: el.scrollTop > 0\n\t\t\t\t\tel.overflowEnd = isHorizontal\n\t\t\t\t\t\t? el.scrollLeft < el.scrollWidth - el.offsetWidth\n\t\t\t\t\t\t: el.scrollTop < el.scrollHeight - el.offsetHeight\n\t\t\t\t})\n\t\t\t}),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-scrollarea': Component<ModuleScrollareaProps>\n\t}\n}\n",
    "import {\n\ttype Component,\n\tcomponent,\n\tfromEvents,\n\tfromSelector,\n\tsetProperty,\n\tshow,\n} from '../../..'\n\nexport type ModuleTabgroupProps = {\n\treadonly tabs: HTMLButtonElement[]\n\treadonly selected: string\n}\n\nconst getAriaControls = (element: HTMLElement) =>\n\telement.getAttribute('aria-controls') ?? ''\n\nconst getSelected = (\n\telements: HTMLElement[],\n\tisCurrent: (element: HTMLElement) => boolean,\n\toffset = 0,\n) =>\n\tgetAriaControls(\n\t\telements[\n\t\t\tMath.min(\n\t\t\t\tMath.max(elements.findIndex(isCurrent) + offset, 0),\n\t\t\t\telements.length - 1,\n\t\t\t)\n\t\t],\n\t)\n\nexport default component(\n\t'module-tabgroup',\n\t{\n\t\ttabs: fromSelector('button[role=\"tab\"]'),\n\t\tselected: fromEvents(\n\t\t\t'button[role=\"tab\"]',\n\t\t\t{\n\t\t\t\tclick: ({ target }) => getAriaControls(target),\n\t\t\t\tkeyup: ({ event, host, target }) => {\n\t\t\t\t\tconst key = event.key\n\t\t\t\t\tif (\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'ArrowLeft',\n\t\t\t\t\t\t\t'ArrowRight',\n\t\t\t\t\t\t\t'ArrowUp',\n\t\t\t\t\t\t\t'ArrowDown',\n\t\t\t\t\t\t\t'Home',\n\t\t\t\t\t\t\t'End',\n\t\t\t\t\t\t].includes(key)\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\tconst current = getSelected(\n\t\t\t\t\t\t\thost.tabs,\n\t\t\t\t\t\t\ttab => tab === target,\n\t\t\t\t\t\t\tkey === 'Home'\n\t\t\t\t\t\t\t\t? -host.tabs.length\n\t\t\t\t\t\t\t\t: key === 'End'\n\t\t\t\t\t\t\t\t\t? host.tabs.length\n\t\t\t\t\t\t\t\t\t: key === 'ArrowLeft' || key === 'ArrowUp'\n\t\t\t\t\t\t\t\t\t\t? -1\n\t\t\t\t\t\t\t\t\t\t: 1,\n\t\t\t\t\t\t)\n\t\t\t\t\t\thost.tabs\n\t\t\t\t\t\t\t.filter(tab => getAriaControls(tab) === current)[0]\n\t\t\t\t\t\t\t.focus()\n\t\t\t\t\t\treturn current\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t(el: HTMLElement & { tabs: HTMLButtonElement[] }) =>\n\t\t\t\tgetSelected(el.tabs, tab => tab.ariaSelected === 'true'),\n\t\t),\n\t},\n\t(el, { all }) => {\n\t\tconst isCurrentTab = (tab: HTMLButtonElement) =>\n\t\t\tel.selected === getAriaControls(tab)\n\n\t\treturn [\n\t\t\tall(\n\t\t\t\t'button[role=\"tab\"]',\n\t\t\t\t[\n\t\t\t\t\tsetProperty('ariaSelected', target =>\n\t\t\t\t\t\tString(isCurrentTab(target)),\n\t\t\t\t\t),\n\t\t\t\t\tsetProperty('tabIndex', target =>\n\t\t\t\t\t\tisCurrentTab(target) ? 0 : -1,\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\t'At least 2 tabs as children of a <[role=\"tablist\"]> element are needed. Each tab must reference a unique id of a <[role=\"tabpanel\"]> element.',\n\t\t\t),\n\t\t\tall(\n\t\t\t\t'[role=\"tabpanel\"]',\n\t\t\t\tshow(target => el.selected === target.id),\n\t\t\t\t'At least 2 tabpanels are needed. Each tabpanel must have a unique id.',\n\t\t\t),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-tabgroup': Component<ModuleTabgroupProps>\n\t}\n}\n",
    "import {\n\ttype Component,\n\tcomponent,\n\tfromSelector,\n\ton,\n\tpass,\n\tsetAttribute,\n} from '../../..'\n\nexport type ModuleTodoProps = {\n\treadonly active: HTMLElement[]\n\treadonly completed: HTMLElement[]\n}\n\nimport '../form-textbox/form-textbox'\n\nexport default component(\n\t'module-todo',\n\t{\n\t\tactive: fromSelector('form-checkbox:not([checked])'),\n\t\tcompleted: fromSelector('form-checkbox[checked]'),\n\t},\n\t(el, { first, useElement }) => {\n\t\tconst textbox = useElement(\n\t\t\t'form-textbox',\n\t\t\t'Add <form-textbox> component to enter a new todo item.',\n\t\t)\n\t\tconst insert = useElement(\n\t\t\t'module-insert',\n\t\t\t'Add <module-insert> component to insert new todo items.',\n\t\t)\n\t\tconst filter = useElement('form-radiogroup')\n\n\t\treturn [\n\t\t\t// Control todo input form\n\t\t\tfirst('basic-button.submit', [\n\t\t\t\tpass({ disabled: () => !textbox.length }),\n\t\t\t]),\n\t\t\tfirst('form', [\n\t\t\t\ton('submit', ({ event }) => {\n\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\tconst value = textbox.value.trim()\n\t\t\t\t\tif (!value) return\n\t\t\t\t\tinsert.add(item => {\n\t\t\t\t\t\titem.querySelector('slot')?.replaceWith(value)\n\t\t\t\t\t})\n\t\t\t\t\ttextbox.clear()\n\t\t\t\t}),\n\t\t\t]),\n\n\t\t\t// Control todo list\n\t\t\tfirst(\n\t\t\t\t'ol',\n\t\t\t\tsetAttribute('filter', () => filter?.value || 'all'),\n\t\t\t\t'Needed to display the list of todos.',\n\t\t\t),\n\n\t\t\t// Update count elements\n\t\t\tfirst('basic-pluralize', [pass({ count: () => el.active.length })]),\n\n\t\t\t// Control clear-completed button\n\t\t\tfirst('basic-button.clear-completed', [\n\t\t\t\tpass({\n\t\t\t\t\tdisabled: () => !el.completed.length,\n\t\t\t\t\tbadge: () =>\n\t\t\t\t\t\tel.completed.length > 0\n\t\t\t\t\t\t\t? String(el.completed.length)\n\t\t\t\t\t\t\t: '',\n\t\t\t\t}),\n\t\t\t\ton('click', () => {\n\t\t\t\t\tconst items = Array.from(el.querySelectorAll('ol li'))\n\t\t\t\t\tfor (let i = items.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tconst task = items[i].querySelector('form-checkbox')\n\t\t\t\t\t\tif (task?.checked) items[i].remove()\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'module-todo': Component<ModuleTodoProps>\n\t}\n}\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\temitEvent,\n\ton,\n\tsetProperty,\n\tsetText,\n} from '../../../'\n\nexport type RatingStarsProps = {\n\tvalue: number\n}\n\nexport default component(\n\t'rating-stars',\n\t{\n\t\tvalue: asInteger(),\n\t},\n\t(el, { all }) => {\n\t\tconst getKey = (element: HTMLElement): number =>\n\t\t\tparseInt(element.dataset['key'] || '0')\n\n\t\treturn [\n\t\t\temitEvent('change-rating', 'value'),\n\t\t\tall('input', [\n\t\t\t\tsetProperty('checked', target => el.value === getKey(target)),\n\t\t\t\ton('change', ({ event, target }) => {\n\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\tconst value = parseInt(target.value)\n\t\t\t\t\tel.value = value + 1\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tall('.label', [\n\t\t\t\tsetText(target => (getKey(target) <= el.value ? '' : '')),\n\t\t\t]),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'rating-stars': Component<RatingStarsProps>\n\t}\n\tinterface HTMLElementEventMap {\n\t\t'change-rating': CustomEvent<number>\n\t}\n}\n",
    "import { component, on, pass, show, state } from '../../..'\n\nexport default component(\n\t'rating-feedback',\n\t{},\n\t(_, { all, first, useElement }) => {\n\t\tconst rating = state(0)\n\t\tconst empty = state(true)\n\t\tconst submitted = state(false)\n\t\tconst feedback = useElement('.feedback')\n\t\tuseElement('rating-stars', 'Needed for  stars rating.')\n\n\t\treturn [\n\t\t\t// Event listeners for rating changes and form submission\n\t\t\ton('change-rating', ({ event }) => {\n\t\t\t\trating.set(event.detail)\n\t\t\t}),\n\t\t\ton('submit', ({ event }) => {\n\t\t\t\tevent.preventDefault()\n\t\t\t\tsubmitted.set(true)\n\t\t\t\tconsole.log('Feedback submitted')\n\t\t\t}),\n\n\t\t\t// Event listener for hide button\n\t\t\tfirst('.hide', [\n\t\t\t\ton('click', () => {\n\t\t\t\t\tif (feedback) feedback.hidden = true\n\t\t\t\t}),\n\t\t\t]),\n\n\t\t\t// Event listener for textarea\n\t\t\tfirst('textarea', [\n\t\t\t\ton('input', ({ target }) => {\n\t\t\t\t\tempty.set(target.value.trim() === '')\n\t\t\t\t}),\n\t\t\t]),\n\n\t\t\t// Effects on rating changes\n\t\t\tfirst('.feedback', [\n\t\t\t\tshow(() => !submitted.get() && !!rating.get()),\n\t\t\t]),\n\t\t\tall('.feedback p', [\n\t\t\t\tshow(\n\t\t\t\t\ttarget =>\n\t\t\t\t\t\trating.get() === parseInt(target.dataset['key'] || '0'),\n\t\t\t\t),\n\t\t\t]),\n\n\t\t\t// Effect on empty state\n\t\t\tfirst('basic-button', [pass({ disabled: empty })]),\n\t\t]\n\t},\n)\n",
    "import {\n\tasInteger,\n\ttype Component,\n\tcomponent,\n\tinsertOrRemoveElement,\n\ton,\n\ttype State,\n\tsetProperty,\n\tsetText,\n\tstate,\n} from '../../../'\n\nimport type { FormSpinbuttonProps } from '../form-spinbutton/form-spinbutton'\n\nexport type CalcTableProps = {\n\tcolumns: number\n\trows: number\n}\n\nexport default component(\n\t'calc-table',\n\t{\n\t\tcolumns: asInteger(),\n\t\trows: asInteger(),\n\t},\n\t(el, { all, first }) => {\n\t\tconst colHeads = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\t\tconst rowTemplate =\n\t\t\tel.querySelector<HTMLTemplateElement>('.calc-table-row')\n\t\tconst colheadTemplate = el.querySelector<HTMLTemplateElement>(\n\t\t\t'.calc-table-colhead',\n\t\t)\n\t\tconst cellTemplate =\n\t\t\tel.querySelector<HTMLTemplateElement>('.calc-table-cell')\n\t\tif (!rowTemplate || !colheadTemplate || !cellTemplate)\n\t\t\tthrow new Error('Missing template elements')\n\n\t\tconst colSums = new Map<string, State<number>>()\n\t\tfor (let i = 0; i < el.columns; i++) {\n\t\t\tcolSums.set(colHeads[i], state(0))\n\t\t}\n\n\t\tconst calcColumnSum = (rowKey: string): number => {\n\t\t\treturn Array.from(\n\t\t\t\tel.querySelectorAll<HTMLInputElement>(\n\t\t\t\t\t`tbody input[data-key=\"${rowKey}\"]`,\n\t\t\t\t),\n\t\t\t)\n\t\t\t\t.map(input =>\n\t\t\t\t\tNumber.isFinite(input.valueAsNumber)\n\t\t\t\t\t\t? input.valueAsNumber\n\t\t\t\t\t\t: 0,\n\t\t\t\t)\n\t\t\t\t.reduce((acc, val) => acc + val, 0)\n\t\t}\n\n\t\treturn [\n\t\t\t/* Control number of rows / columns */\n\t\t\tsetProperty(\n\t\t\t\t'rows',\n\t\t\t\t() =>\n\t\t\t\t\tel.querySelector<Component<FormSpinbuttonProps>>(\n\t\t\t\t\t\t'.rows form-spinbutton',\n\t\t\t\t\t)?.value,\n\t\t\t),\n\t\t\tsetProperty(\n\t\t\t\t'columns',\n\t\t\t\t() =>\n\t\t\t\t\tel.querySelector<Component<FormSpinbuttonProps>>(\n\t\t\t\t\t\t'.columns form-spinbutton',\n\t\t\t\t\t)?.value,\n\t\t\t),\n\n\t\t\t/* Create rows */\n\t\t\tfirst(\n\t\t\t\t'tbody',\n\t\t\t\tinsertOrRemoveElement(\n\t\t\t\t\ttarget => el.rows - target.querySelectorAll('tr').length,\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: 'beforeend',\n\t\t\t\t\t\tcreate: parent => {\n\t\t\t\t\t\t\tconst row = document.importNode(\n\t\t\t\t\t\t\t\trowTemplate.content,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t).firstElementChild\n\t\t\t\t\t\t\tif (!(row instanceof HTMLTableRowElement))\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t`Expected <tr> as root in table row template, got ${row}`,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst rowKey = String(\n\t\t\t\t\t\t\t\tparent.querySelectorAll('tr').length + 1,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\trow.dataset['key'] = rowKey\n\t\t\t\t\t\t\trow.querySelector('slot')?.replaceWith(\n\t\t\t\t\t\t\t\tdocument.createTextNode(rowKey),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn row\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: () => {\n\t\t\t\t\t\t\tfor (const [colKey, colSum] of colSums) {\n\t\t\t\t\t\t\t\tcolSum.set(calcColumnSum(colKey))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t),\n\n\t\t\t/* Create column headers */\n\t\t\tfirst(\n\t\t\t\t'thead tr',\n\t\t\t\tinsertOrRemoveElement(\n\t\t\t\t\ttarget =>\n\t\t\t\t\t\tel.columns - (target.querySelectorAll('th').length - 1),\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: 'beforeend',\n\t\t\t\t\t\tcreate: parent => {\n\t\t\t\t\t\t\tconst cell = document.importNode(\n\t\t\t\t\t\t\t\tcolheadTemplate.content,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t).firstElementChild\n\t\t\t\t\t\t\tif (!(cell instanceof HTMLTableCellElement))\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t`Expected <th> as root in column header template, got ${cell}`,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst colKey =\n\t\t\t\t\t\t\t\tcolHeads[\n\t\t\t\t\t\t\t\t\tparent.querySelectorAll('th').length - 1\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\tcolSums.set(colKey, state(0))\n\t\t\t\t\t\t\tcell.querySelector('slot')?.replaceWith(\n\t\t\t\t\t\t\t\tdocument.createTextNode(colKey),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t),\n\n\t\t\t/* Create input cells for each row */\n\t\t\tall(\n\t\t\t\t'tbody tr',\n\t\t\t\tinsertOrRemoveElement(\n\t\t\t\t\ttarget => el.columns - target.querySelectorAll('td').length,\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: 'beforeend',\n\t\t\t\t\t\tcreate: (parent: HTMLElement) => {\n\t\t\t\t\t\t\tconst cell = document.importNode(\n\t\t\t\t\t\t\t\tcellTemplate.content,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t).firstElementChild\n\t\t\t\t\t\t\tif (!(cell instanceof HTMLTableCellElement))\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t`Expected <td> as root in cell template, got ${cell}`,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst rowKey = parent.dataset['key']\n\t\t\t\t\t\t\tconst colKey =\n\t\t\t\t\t\t\t\tcolHeads[parent.querySelectorAll('td').length]\n\t\t\t\t\t\t\tconst input = cell.querySelector('input')\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'No input found in cell template',\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tinput.dataset['key'] = colKey\n\t\t\t\t\t\t\tcell.querySelector('slot')?.replaceWith(\n\t\t\t\t\t\t\t\tdocument.createTextNode(`${colKey}${rowKey}`),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t),\n\n\t\t\t/* Create empty cells for column sums */\n\t\t\tfirst(\n\t\t\t\t'tfoot tr',\n\t\t\t\tinsertOrRemoveElement(\n\t\t\t\t\ttarget => el.columns - target.querySelectorAll('td').length,\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: 'beforeend',\n\t\t\t\t\t\tcreate: parent => {\n\t\t\t\t\t\t\tconst cell = document.createElement('td')\n\t\t\t\t\t\t\tconst colKey =\n\t\t\t\t\t\t\t\tcolHeads[parent.querySelectorAll('td').length]\n\t\t\t\t\t\t\tcell.dataset['key'] = colKey\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t),\n\n\t\t\t/* Update column values when cells change */\n\t\t\tall(\n\t\t\t\t'tbody input',\n\t\t\t\ton('change', e => {\n\t\t\t\t\tconst colKey = (e.target as HTMLInputElement)?.dataset[\n\t\t\t\t\t\t'key'\n\t\t\t\t\t]\n\t\t\t\t\tcolSums.get(colKey!)?.set(calcColumnSum(colKey!))\n\t\t\t\t}),\n\t\t\t),\n\n\t\t\t/* Update sums for each column */\n\t\t\tall(\n\t\t\t\t'tfoot td',\n\t\t\t\tsetText(target =>\n\t\t\t\t\tString(colSums.get(target.dataset['key']!)!.get()),\n\t\t\t\t),\n\t\t\t),\n\t\t]\n\t},\n)\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'calc-table': Component<CalcTableProps>\n\t}\n}\n"
  ],
  "mappings": "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",
  "debugId": "9DE2FCF30221C84164756E2164756E21",
  "names": []
}