var R=(t)=>typeof t==="function",Kt=(t)=>R(t)&&/^async\s+/.test(t.toString()),V=(t)=>(s)=>s instanceof t,rt=V(Error),Lt=V(Promise),nt="Computed",D=(t,s)=>{s=s??Kt(t);let e=[],i,r=null,a=!0,c=()=>{if(a=!0,s)ut(e)},h={[Symbol.toStringTag]:nt,get:()=>{if(s)ct(e);if(!s||a)lt(()=>{let f=(o)=>{i=o,a=!1,r=null},z=(o)=>{r=rt(o)?o:new Error(`Computed function failed: ${o}`)};try{let o=t(i);Lt(o)?o.then(f).catch(z):f(o)}catch(o){z(o)}},c);if(rt(r))throw r;return i},map:(f)=>D(()=>f(h.get()))};return h},zt=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===nt,F,Bt=!1,Nt=[],N=(t)=>E(t)||zt(t),at=(t,s=!1)=>N(t)?t:R(t)?D(t,s):$t(t),ct=(t)=>{if(F&&!t.includes(F))t.push(F)},ut=(t)=>t.forEach((s)=>Bt?Nt.push(s):s()),lt=(t,s)=>{let e=F;F=s,t(),F=e};var $=Symbol();class O{$;watchers=[];constructor(t){this.value=t}get(){return ct(this.watchers),this.value}set(t){if($!==t){let s=R(t)?t(this.value):t;if(Object.is(this.value,s))return;this.value=s}if(ut(this.watchers),$===t)this.watchers=[]}map(t){return D(()=>t(this.get()))}}var $t=(t)=>new O(t),E=V(O),S=(t)=>{let s=()=>lt(()=>{try{t()}catch(e){console.error(e)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var Q=new Map,q=[],Y,ht=()=>{Y=null,q.forEach((t)=>t()),q=[],Q.clear()},Et=()=>{if(Y)cancelAnimationFrame(Y);Y=requestAnimationFrame(ht)};queueMicrotask(ht);var y=(t,s)=>new Promise((e,i)=>{let r=()=>{try{e(t())}catch(a){i(a)}};if(s){let[a,c]=s;if(!Q.has(a))Q.set(a,new Map);let h=Q.get(a);if(h.has(c)){let f=q.indexOf(t);if(f>-1)q.splice(f,1)}h.set(c,r)}q.push(r),Et()});var Pt=(t)=>t.nodeType===Node.COMMENT_NODE,Rt=(t)=>!/^on/i.test(t),Vt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let s=new URL(t,window.location.origin);return!["http:","https:","ftp:"].includes(s.protocol)}catch(s){return!0}return!0},Dt=(t,s,e)=>{if(!Rt(s))throw new Error(`Unsafe attribute: ${s}`);if(e=String(e).trim(),!Vt(e))throw new Error(`Unsafe URL for ${s}: ${e}`);t.setAttribute(s,e)};var Ot=(t)=>y(()=>{return t.remove(),null},[t,"r"]),_t=(t,s)=>y(()=>{return Array.from(t.childNodes).filter((e)=>!Pt(e)).forEach((e)=>e.remove()),t.append(document.createTextNode(s)),t},[t,"t"]),At=(t,s,e)=>y(()=>{return Dt(t,s,e),t},[t,`a:${s}`]),Mt=(t,s)=>y(()=>{return t.removeAttribute(s),t},[t,`a:${s}`]),Tt=(t,s,e)=>y(()=>{return t.toggleAttribute(s,e),t},[t,`a:${s}`]),It=(t,s,e)=>y(()=>{return t.classList.toggle(s,e),t},[t,`c:${s}`]);var p=(t)=>typeof t==="function",ft=(t)=>!!t&&typeof t==="object",ts=(t)=>typeof t==="number",X=(t)=>typeof t==="string",ss=(t)=>typeof t==="symbol",es=(t)=>X(t)||ss(t)||ts(t),b=!1,is="debug";var rs="warn",x="error",ns=(t)=>t?`#${t}`:"",as=(t)=>t.length?`.${Array.from(t).join(".")}`:"",k=(t)=>`<${t.localName}${ns(t.id)}${as(t.classList)}>`,w=(t)=>X(t)?`"${t}"`:ft(t)?JSON.stringify(t):String(t),g=(t,s,e=is)=>{if(b||[x,rs].includes(e))console[e](s,t);return t},cs=(t)=>p(t)&&t.length===2,B=(t,s,e=0)=>cs(t)?t(s,e):t;class H{$;A;constructor(t,s=[t]){this.host=t,this.targets=s}on(t,s){return this.targets.forEach((e,i)=>e.addEventListener(t,B(s,e,i))),this}off(t,s){return this.targets.forEach((e,i)=>e.removeEventListener(t,B(s,e,i))),this}pass(t){return this.targets.forEach(async(s,e)=>{if(await n.registry.whenDefined(s.localName),s instanceof n)Object.entries(t).forEach(([i,r])=>{let a=B(r,s,e),c=es(a)?this.host.signals.get(a):at(a,!0);if(c)s.set(i,c);else g(r,`Invalid source for state ${w(i)}`,x)});else g(s,"Target is not a UIElement",x)}),this}sync(...t){return this.targets.forEach((s,e)=>t.forEach((i)=>i(this.host,s,e))),this}}var us=(t,s)=>{if(s==null)return;let e=t(s);return Number.isFinite(e)?e:void 0},P=(t,s,e,i=void 0)=>{let r=t.constructor.states[s];return p(r)&&!!r.length?r(e,t,i):e},m=(t)=>t!=null,W=(t)=>us(parseInt,t);var ot="context-request";class dt extends Event{$;A;B;constructor(t,s,e=!1){super(ot,{bubbles:!0,composed:!0});this.context=t,this.callback=s,this.subscribe=e}}var ls=(t)=>{let s=t.constructor,e=s.consumedContexts||[];setTimeout(()=>{for(let r of e)t.dispatchEvent(new dt(r,(a)=>t.set(String(r),a)))});let i=s.providedContexts||[];if(!i.length)return!1;return t.addEventListener(ot,(r)=>{let{context:a,callback:c}=r;if(!i.includes(a)||!p(c))return;r.stopPropagation(),c(t.signals.get(String(a)))}),!0};class n extends HTMLElement{static registry=customElements;static states={};static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(n.registry.define(t,this),b)g(t,"Registered custom element")}catch(s){g(s,`Failed to register custom element ${t}`,x)}}signals=new Map;self=new H(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,e){if(e===s)return;if(b&&this.debug)g(`${w(s)} => ${w(e)}`,`Attribute "${t}" of ${k(this)} changed`);this.set(t,P(this,t,e,s))}connectedCallback(){if(b){if(this.debug=this.hasAttribute("debug"),this.debug)g(this,"Connected")}Object.entries(this.constructor.states).forEach(([t,s])=>{let e=p(s)?P(this,t,this.getAttribute(t)??void 0,void 0):s;this.set(t,e,!1)}),ls(this)}disconnectedCallback(){if(b&&this.debug)g(this,"Disconnected")}adoptedCallback(){if(b&&this.debug)g(this,"Adopted")}has(t){return this.signals.has(t)}get(t){let s=(i)=>!ft(i)?i:p(i)?s(i()):N(i)?s(i.get()):i,e=s(this.signals.get(t));if(b&&this.debug)g(e,`Get current value of state ${w(t)} in ${k(this)}`);return e}set(t,s,e=!0){let i;if(!this.signals.has(t)){if(b&&this.debug)i="Create";this.signals.set(t,at(s,!0))}else if(e){let r=this.signals.get(t);if(N(s)){if(b&&this.debug)i="Replace";if(this.signals.set(t,s),E(r))r.set($)}else if(E(r)){if(b&&this.debug)i="Update";r.set(s)}else{g(s,`Computed state ${w(t)} in ${k(this)} cannot be set`,x);return}}else return;if(b&&this.debug)g(s,`${i} state ${w(t)} in ${k(this)}`)}delete(t){if(b&&this.debug)g(t,`Delete state ${w(t)} from ${k(this)}`);return this.signals.delete(t)}first(t){let s=this.root.querySelector(t);return new H(this,s?[s]:[])}all(t){return new H(this,Array.from(this.root.querySelectorAll(t)))}}var j=(t,s)=>(e,i)=>{let{read:r,update:a}=s,c=r(i);if(!p(t)){let h=X(t)&&X(c)?P(e,t,c):c;e.set(t,h,!1)}S(()=>{let h=r(i),f=p(t)?t(h):e.get(t);if(!Object.is(f,h)){if(f===null&&s.delete)s.delete(i);else if(f==null&&c)a(i,c);else if(f!=null)a(i,f)}})};var bt=(t)=>j(t,{read:(s)=>s!=null,update:(s,e)=>e?Ot(s):Promise.resolve(null)}),l=(t)=>j(t,{read:(s)=>s.textContent,update:(s,e)=>_t(s,e)}),u=(t,s=t)=>j(s,{read:(e)=>e[t],update:(e,i)=>e[t]=i}),v=(t,s=t)=>j(s,{read:(e)=>e.getAttribute(t),update:(e,i)=>At(e,t,i),delete:(e)=>Mt(e,t)}),d=(t,s=t)=>j(s,{read:(e)=>e.hasAttribute(t),update:(e,i)=>Tt(e,t,i)}),C=(t,s=t)=>j(s,{read:(e)=>e.classList.contains(t),update:(e,i)=>It(e,t,i)});class gt extends n{connectedCallback(){this.first("span").sync(l("name")),this.first("input").on("input",(t)=>{this.set("name",t.target?.value||void 0)})}}gt.define("hello-world");class yt extends n{static observedAttributes=["count"];static states={count:W};connectedCallback(){this.set("parity",()=>(this.get("count")??0)%2?"odd":"even"),this.first(".increment").on("click",()=>{this.set("count",(t)=>t!=null?++t:1)}),this.first(".decrement").on("click",()=>{this.set("count",(t)=>t!=null?--t:0)}),this.first(".count").sync(l("count")),this.first(".parity").sync(l("parity"))}}yt.define("my-counter");var mt=(t=0,s,e)=>(t+s+e)%e;class wt extends n{connectedCallback(){this.set("active",0);let t=this.querySelectorAll(".slide").length;this.first(".prev").on("click",()=>{this.set("active",(s)=>mt(s,-1,t))}),this.first(".next").on("click",()=>{this.set("active",(s)=>mt(s,1,t))}),this.all(".slide").sync((s,e,i)=>C("active",()=>i===this.get("active"))(s,e)),this.all(".dots span").sync((s,e,i)=>C("active",()=>i===this.get("active"))(s,e))}}wt.define("my-slider");class pt extends n{static observedAttributes=["disabled"];static states={disabled:m};connectedCallback(){this.first("button").sync(l("label"),u("disabled"))}}pt.define("input-button");class vt extends n{static observedAttributes=["checked"];static states={checked:m};connectedCallback(){this.first("input").on("change",(t)=>{this.set("checked",Boolean(t.target?.checked))}).sync(u("checked")),this.self.sync(d("checked"))}}vt.define("input-checkbox");class Ct extends n{static observedAttributes=["value"];connectedCallback(){this.self.sync(v("value")),this.all("input").on("change",(t)=>{this.set("value",t.target?.value)}),this.all("label").sync((t,s)=>C("selected",()=>t.get("value")===s.querySelector("input")?.value)(t,s))}}Ct.define("input-radiogroup");var _=(t)=>typeof t==="number",G=(t,s=!1,e=0)=>{let i=s?parseInt(t,10):parseFloat(t);return Number.isFinite(i)?i:e},Ft=(t,s,e,i,r=!1)=>{let a=Math.round((e-s)/i),c=Math.round((t-s)*a/(e-s))/a;c=Math.min(Math.max(c,0),1);let h=c*(e-s)+s;return r?Math.round(h):h};class jt extends n{static observedAttributes=["value","description"];static states={value:(t,s)=>s.isNumber?G(t,s.isInteger,0):t};isNumber;isInteger;input=null;step=1;min;max;connectedCallback(){if(this.input=this.querySelector("input"),this.isNumber=(this.input&&this.input.type==="number")??!1,this.isInteger=this.hasAttribute("integer"),this.input&&this.isNumber)this.step=G(this.input.step,this.isInteger,1),this.min=G(this.input.min,this.isInteger,0),this.max=G(this.input.max,this.isInteger,0);if(this.set("value",this.isNumber?this.input?.valueAsNumber:this.input?.value,!1),this.set("length",this.input?.value.length),this.set("empty",()=>!this.get("length")),this.first("input").on("change",()=>{this.#t(this.isNumber?this.input?.valueAsNumber:this.input?.value)}).on("input",()=>{this.set("length",this.input?.value.length)}),this.isNumber)this.first("input").on("keydown",(e)=>{let i=e;if(["ArrowUp","ArrowDown"].includes(i.key)){if(e.stopPropagation(),e.preventDefault(),i.key==="ArrowDown")this.stepDown(i.shiftKey?this.step*10:this.step);if(i.key==="ArrowUp")this.stepUp(i.shiftKey?this.step*10:this.step)}});this.set("ariaInvalid",()=>String(Boolean(this.get("error")))),this.set("aria-errormessage",()=>this.get("error")?this.querySelector(".error")?.id:void 0),this.first(".error").sync(l("error")),this.first("input").sync(u("ariaInvalid"),v("aria-errormessage"));let t=this.querySelector(".description");if(t){let e=this.input?.maxLength,i=e&&t.dataset.remaining,r=t.textContent;this.set("description",i?()=>{let a=this.get("length")??0;return a>0?i.replace("${x}",String(e-a)):r}:r),this.set("aria-describedby",()=>this.get("description")?t.id:void 0),this.first(".description").sync(l("description")),this.first("input").sync(v("aria-describedby"))}let s=this.querySelector(".spinbutton");if(!this.isNumber||!s)this.first(".decrement").on("click",(e)=>{this.stepDown(e.shiftKey?this.step*10:this.step)}).sync(u("disabled",()=>_(this.min)&&(this.get("value")??0-this.step<this.min))),this.first(".increment").on("click",(e)=>{this.stepUp(e.shiftKey?this.step*10:this.step)}).sync(u("disabled",()=>_(this.max)&&(this.get("value")??0+this.step>this.max)));this.first(".clear").on("click",()=>{this.clear(),this.input?.focus()}).sync(C("hidden","empty")),S(()=>{let e=this.get("value"),i=this.getAttribute("validate");if(e&&i)fetch(`${i}?name=${this.input?.name}value=${this.input?.value}`).then(async(r)=>{let a=await r.text();this.input?.setCustomValidity(a),this.set("error",a)}).catch((r)=>this.set("error",r.message));if(this.isNumber&&!_(e))return this.set("value",G(e,this.isInteger,0));if(this.input&&this.isNumber&&Number.isFinite(e))this.input.value=String(e)})}clear(){if(this.set("value",""),this.set("length",0),this.input)this.input.value="",this.input.focus()}stepUp(t=this.step){if(this.isNumber)this.#t((s)=>Ft(s+t,this.min??0,this.max??100,this.step,this.isInteger))}stepDown(t=this.step){if(this.isNumber)this.#t((s)=>Ft(s-t,this.min??0,this.max??100,this.step,this.isInteger))}#t=(t)=>{if(this.set("value",t),this.set("error",this.input?.validationMessage),typeof t==="function")t=this.get("value");if(this.input?.value!==String(t))this.dispatchEvent(new CustomEvent("value-change",{detail:t,bubbles:!0}))}}jt.define("input-field");class Jt extends n{static observedAttributes=["collapsed"];static states={collapsed:m};connectedCallback(){let t=this.querySelector("code");if(t)this.first(".copy").on("click",async(s)=>{let e=s.currentTarget,i=e.textContent,r="success";try{await navigator.clipboard.writeText(t.textContent??"")}catch(a){console.error("Error when trying to use navigator.clipboard.writeText()",a),r="error"}e.set("disabled",!0),e.set("label",this.getAttribute(`copy-${r}`)),setTimeout(()=>{e.set("disabled",!1),e.set("label",i)},r==="success"?1000:3000)}),this.first(".overlay").on("click",()=>this.set("collapsed",!1)),this.self.sync(d("collapsed"))}}Jt.define("code-block");class Zt extends n{connectedCallback(){this.set("open",this.hasAttribute("open"),!1),this.set("collapsible",this.hasAttribute("collapsible"),!1),this.self.sync(d("open"),d("collapsible"),u("ariaHidden",()=>!this.get("open")&&!this.get("collapsible"))),this.first("details").sync(u("open"),u("ariaDisabled",()=>!this.get("collapsible")))}}Zt.define("accordion-panel");class Ut extends n{static observedAttributes=["accordion"];static states={accordion:m};static consumedContexts=["media-viewport"];connectedCallback(){super.connectedCallback(),this.set("active",0,!1),setTimeout(()=>{if(this.get("media-viewport"))this.set("accordion",()=>["xs","sm"].includes(String(this.get("media-viewport"))))},0),this.self.sync(d("accordion")),this.first("menu").sync(u("ariaHidden","accordion")),this.all("menu button").on("click",(t,s)=>()=>this.set("active",s)).sync((t,s,e)=>u("ariaPressed",()=>this.get("active")===e)(t,s)),this.all("accordion-panel").pass({open:(t,s)=>()=>this.get("active")===s,collapsible:"accordion"})}}Ut.define("tab-list");class kt extends n{static states={content:"",error:"",loaded:!1};connectedCallback(){super.connectedCallback();let t=this.getAttribute("src");if(t)this.loadContent(t).then(([s,e])=>{this.set("content",e),this.set("error",s),this.set("loaded",!0)});this.first(".loading").sync(bt("loaded")),this.first(".error").sync(l("error")),S(()=>{let s=this.get("content");if(s)y(()=>{this.root.innerHTML=s,this.root.querySelectorAll("script").forEach((e)=>{let i=document.createElement("script");i.appendChild(document.createTextNode(e.textContent??"")),this.root.appendChild(i),e.remove()})},[this.root,"h"])})}async loadContent(t){try{let s=await fetch(t);if(!s.ok)return[s.statusText,""];return["",await s.text()]}catch(s){return[s.message,""]}}}kt.define("lazy-load");var K=(t,s)=>{let e=t?.trim();if(!e)return s;let i=e.match(/em$/)?"em":"px",r=parseFloat(e);return Number.isFinite(r)?r+i:s},A="media-motion",L="media-theme",J="media-viewport",qt="media-orientation";class xt extends n{static providedContexts=[A,L,J,qt];connectedCallback(){super.connectedCallback();let t="light",s="dark",e="xs",i="sm",r="md",a="lg",c="xl",h="landscape",f="portrait",o=(()=>({sm:K(this.getAttribute(i),"32em"),md:K(this.getAttribute(r),"48em"),lg:K(this.getAttribute(a),"72em"),xl:K(this.getAttribute(c),"108em")}))(),M=matchMedia("(prefers-reduced-motion: reduce)"),T=matchMedia("(prefers-color-scheme: dark)"),I=matchMedia(`(min-width: ${o.sm})`),tt=matchMedia(`(min-width: ${o.md})`),st=matchMedia(`(min-width: ${o.lg})`),et=matchMedia(`(min-width: ${o.xl})`),it=matchMedia("(orientation: landscape)"),Z=()=>{if(et.matches)return c;if(st.matches)return a;if(tt.matches)return r;if(I.matches)return i;return e};this.set(A,M.matches),this.set(L,T.matches?s:t),this.set(J,Z()),this.set(qt,it.matches?h:f),M.addEventListener("change",(U)=>this.set(A,U.matches)),T.addEventListener("change",(U)=>this.set(L,U.matches?s:t)),I.addEventListener("change",()=>this.set(J,Z())),tt.addEventListener("change",()=>this.set(J,Z())),st.addEventListener("change",()=>this.set(J,Z())),et.addEventListener("change",()=>this.set(J,Z())),it.addEventListener("change",(U)=>{this.set(L,U.matches?h:f)})}}xt.define("media-context");class St extends n{connectedCallback(){let t=this.querySelector("input-field");this.first("form").on("submit",(s)=>{s.preventDefault(),setTimeout(()=>{this.dispatchEvent(new CustomEvent("add-todo",{bubbles:!0,detail:t?.get("value")??""})),t?.clear()},0)}),this.first("input-button").pass({disabled:()=>t?.get("empty")})}}St.define("todo-form");class Gt extends n{static states={tasks:[],filter:"all"};connectedCallback(){this.#t(),this.self.on("click",(t)=>{let s=t.target;if(s.localName==="button")this.removeItem(s)}).sync(v("filter")),this.set("count",()=>{let t=this.get("tasks").map((i)=>i.signals.get("checked")),s=t.filter((i)=>i?.get()).length,e=t.length;return{active:e-s,completed:s,total:e}})}addItem=(t)=>{let s=this.querySelector("ol"),e=this.querySelector("template")?.content.cloneNode(!0),i=e.querySelector("span");if(s&&e&&i)i.textContent=t,s.appendChild(e),this.#t()};removeItem=(t)=>{t.closest("li")?.remove(),this.#t()};clearCompleted=()=>{this.get("tasks").filter((t)=>t.get("checked")).forEach((t)=>t.parentElement?.remove()),this.#t()};#t(){this.set("tasks",Array.from(this.querySelectorAll("input-checkbox")))}}Gt.define("todo-list");class Qt extends n{static states={active:0};connectedCallback(){this.first(".count").sync(l("active")),this.first(".singular").sync(u("ariaHidden",()=>this.get("active")>1)),this.first(".plural").sync(u("ariaHidden",()=>this.get("active")===1)),this.first(".remaining").sync(u("ariaHidden",()=>!this.get("active"))),this.first(".all-done").sync(u("ariaHidden",()=>!!this.get("active")))}}Qt.define("todo-count");class Yt extends n{connectedCallback(){let t=this.querySelector("todo-list");this.self.on("add-todo",(s)=>{t?.addItem(s.detail)}),this.first("todo-count").pass({active:()=>(t?.get("count")).active}),this.first("todo-list").pass({filter:()=>this.querySelector("input-radiogroup")?.get("value")}),this.first(".clear-completed").on("click",()=>t?.clearCompleted()).pass({disabled:()=>!(t?.get("count")).completed})}}Yt.define("todo-app");class Ht extends n{connectedCallback(){this.set("total",()=>Array.from(this.querySelectorAll("spin-button")).reduce((t,s)=>t+(s.get("count")??0),0)),this.first("badge-button").pass({badge:()=>{let t=this.get("total");return typeof t==="number"&&t>0?String(t):""}})}}Ht.define("product-catalog");class Xt extends n{connectedCallback(){this.first(".badge").sync(l("badge"))}}Xt.define("badge-button");class Wt extends n{static observedAttributes=["count"];static states={count:W};connectedCallback(){let t=this.getAttribute("zero-label")||"Add to Cart",s=this.getAttribute("increment-label")||"Increment",e=this.getAttribute("max")?parseInt(this.getAttribute("max")):9;this.set("isZero",()=>this.get("count")===0),this.first(".count").sync(l("count"),d("hidden","isZero")),this.first(".decrement").on("click",()=>{this.set("count",(i)=>i!=null&&i>0?--i:0)}).sync(d("hidden","isZero")),this.first(".increment").on("click",()=>{this.set("count",(i)=>i!=null?++i:1)}).sync(l(()=>this.get("isZero")?t:"+"),u("ariaLabel",()=>this.get("isZero")?t:s),d("disabled",()=>this.get("count")>=e))}}Wt.define("spin-button");
