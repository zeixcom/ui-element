var J=(t)=>typeof t==="function",Ht=(t)=>J(t)&&t.constructor.name==="AsyncFunction",gt=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`,Mt=(t)=>t instanceof Error,it=(t)=>t instanceof DOMException&&t.name==="AbortError",xt=(t)=>t instanceof Promise,K=(t)=>Mt(t)?t:Error(String(t));class ut extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var $,V=new Set,kt=0,ct=new Map,Z,bt=()=>{Z=void 0;let t=Array.from(ct.values());ct.clear();for(let e of t)e()},$t=()=>{if(Z)cancelAnimationFrame(Z);Z=requestAnimationFrame(bt)};queueMicrotask(bt);var lt=(t)=>{if($&&!t.has($)){let e=$;t.add(e),$.cleanups.add(()=>{t.delete(e)})}},U=(t)=>{for(let e of t)if(kt)V.add(e);else e()},Jt=()=>{while(V.size){let t=Array.from(V);V.clear();for(let e of t)e()}};var ht=(t,e)=>{let r=$;$=e;try{t()}finally{$=r}},tt=(t,e=[])=>new Promise((r,o)=>{ct.set(e,()=>{try{r(t())}catch(n){o(n)}}),$t()});function _(t){let{signals:e,ok:r,err:o=console.error,nil:n=()=>{}}=J(t)?{signals:[],ok:t}:t,s=!1,i=()=>ht(()=>{if(s)throw new ut("effect");s=!0;let a=void 0;try{a=St({signals:e,ok:r,err:o,nil:n})}catch(c){o(K(c))}if(J(a))i.cleanups.add(a);s=!1},i);return i.cleanups=new Set,i(),()=>{i.cleanups.forEach((a)=>a()),i.cleanups.clear()}}var mt="Computed",Ot=(t,e)=>{if(!e)return!1;return t.name===e.name&&t.message===e.message},N=(t)=>{let e=new Set,r=J(t)?void 0:{nil:()=>A,err:(...b)=>{if(b.length>1)throw new AggregateError(b);else throw b[0]},...t},o=r?r.ok:t,n=A,s,i=!0,a=!1,c=!1,u,d=(b)=>{if(!Object.is(b,n))n=b,i=!1,s=void 0,a=!0},y=()=>{a=A!==n,n=A,s=void 0},h=(b)=>{let G=K(b);a=!Ot(G,s),n=A,s=G},w=(b)=>{if(c=!1,u=void 0,d(b),a)U(e)},v=(b)=>{if(c=!1,u=void 0,h(b),a)U(e)},H=()=>{c=!1,u=void 0,z()},C=()=>{if(i=!0,u?.abort("Aborted because source signal changed"),e.size){if(a)U(e)}else C.cleanups.forEach((b)=>b()),C.cleanups.clear()};C.cleanups=new Set;let z=()=>ht(()=>{if(c)throw new ut("computed");if(a=!1,Ht(o)){if(u)return n;if(u=new AbortController,r)r.abort=r.abort instanceof AbortSignal?AbortSignal.any([r.abort,u.signal]):u.signal;u.signal.addEventListener("abort",H,{once:!0})}let b;c=!0;try{b=r&&r.signals.length?St(r):o(u?.signal)}catch(G){it(G)?y():h(G),c=!1;return}if(xt(b))b.then(w,v);else if(b==null||A===b)y();else d(b);c=!1},C),I={[Symbol.toStringTag]:mt,get:()=>{if(lt(e),Jt(),i)z();if(s)throw s;return n},map:(b)=>N({signals:[I],ok:b}),tap:(b)=>_({signals:[I],...J(b)?{ok:b}:b})};return I},yt=(t)=>gt(t,mt),Et="State",T=(t)=>{let e=new Set,r=t,o={[Symbol.toStringTag]:Et,get:()=>{return lt(e),r},set:(n)=>{if(Object.is(r,n))return;if(r=n,U(e),A===r)e.clear()},update:(n)=>{o.set(n(r))},map:(n)=>N({signals:[o],ok:n}),tap:(n)=>_({signals:[o],...J(n)?{ok:n}:n})};return o},et=(t)=>gt(t,Et),A=Symbol(),rt=(t)=>et(t)||yt(t),Rt=(t)=>J(t)&&t.length<2,It=(t)=>rt(t)?t:Rt(t)?N(t):T(t),St=(t)=>{let{signals:e,abort:r,ok:o,err:n,nil:s}=t,i=[],a=!1,c=e.map((u)=>{try{let d=u.get();if(d===A)a=!0;return d}catch(d){if(it(d))throw d;i.push(K(d))}});try{return a?s(r):i.length?n(...i):o(...c)}catch(u){if(it(u))throw u;let d=K(u);return n(d)}},P=(t)=>typeof t==="function",Nt=(t)=>!!t&&typeof t==="object",Y=(t)=>typeof t==="string",k=!1,jt="debug";var Ft="warn",q="error",zt=(t)=>t?`#${t}`:"",Gt=(t)=>t.length?`.${Array.from(t).join(".")}`:"",S=(t)=>`<${t.localName}${zt(t.id)}${Gt(t.classList)}>`,B=(t)=>Y(t)?`"${t}"`:Nt(t)?JSON.stringify(t):String(t),at=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},M=(t,e,r=jt)=>{if(k||[q,Ft].includes(r))console[r](e,t);return t},Ut=(t)=>t.nodeType===Node.ELEMENT_NODE;var dt=(t,e,r)=>{let o=t.filter(P).map((n)=>n(e,r));return()=>{o.filter(P).forEach((n)=>n()),o.length=0}},l=(t,...e)=>(r)=>{let o=(r.shadowRoot||r).querySelector(t);if(o)dt(e,r,o)},E=(t,...e)=>(r)=>{let o=new Map,n=r.shadowRoot||r,s=(u)=>{if(!o.has(u))o.set(u,dt(e,r,u))},i=(u)=>{let d=o.get(u);if(P(d))d();o.delete(u)},a=(u)=>(d)=>{if(Ut(d)){if(d.matches(t))u(d);d.querySelectorAll(t).forEach(u)}},c=new MutationObserver((u)=>{for(let d of u)d.addedNodes.forEach(a(s)),d.removedNodes.forEach(a(i))});return c.observe(n,{childList:!0,subtree:!0}),n.querySelectorAll(t).forEach(s),()=>{c.disconnect(),o.forEach((u)=>u()),o.clear()}},p=(t,e)=>(r,o=r)=>{if(!P(e))throw new TypeError(`Invalid event listener provided for "${t} event on element ${S(o)}`);return o.addEventListener(t,e),()=>o.removeEventListener(t,e)},ot=(t,e)=>(r,o=r)=>{o.dispatchEvent(new CustomEvent(t,{detail:P(e)?e(o):e,bubbles:!0}))};var L=Symbol(),Bt=new Set(Object.getOwnPropertyNames(HTMLElement.prototype)),Yt=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"]),st=(t)=>P(t)&&t.length>=2,qt=(t)=>!(Bt.has(t)||Yt.has(t)),g=(t,e={},r)=>{class o extends HTMLElement{debug;#t={};#e;static observedAttributes=Object.entries(e)?.filter(([,n])=>st(n)).map(([n])=>n)??[];constructor(){super();for(let[n,s]of Object.entries(e)){if(s==null)continue;let i=st(s)?s(this,null):P(s)?s(this):s;if(i!=null)this.setSignal(n,It(i))}}connectedCallback(){if(k){if(this.debug=this.hasAttribute("debug"),this.debug)M(this,"Connected")}let n=r(this);if(!Array.isArray(n))throw new TypeError(`Expected array of functions as return value of setup function in ${S(this)}`);this.#e=dt(n,this,this)}disconnectedCallback(){if(P(this.#e))this.#e();if(k&&this.debug)M(this,"Disconnected")}attributeChangedCallback(n,s,i){if(i===s||yt(this.#t[n]))return;let a=e[n];if(!st(a))return;let c=a(this,i,s);if(k&&this.debug)M(i,`Attribute "${n}" of ${S(this)} changed from ${B(s)} to ${B(i)}, parsed as <${at(c)}> ${B(c)}`);this[n]=c}getSignal(n){let s=this.#t[n];if(k&&this.debug)M(s,`Get ${at(s)} "${String(n)}" in ${S(this)}`);return s}setSignal(n,s){if(!qt(String(n)))throw new TypeError(`Invalid property name "${String(n)}". Property names must be valid JavaScript identifiers and not conflict with inherited HTMLElement properties.`);if(!rt(s))throw new TypeError(`Expected signal as value for property "${String(n)}" on ${S(this)}.`);let i=this.#t[n],a=et(s);if(this.#t[n]=s,Object.defineProperty(this,n,{get:s.get,set:a?s.set:void 0,enumerable:!0,configurable:a}),i&&et(i))i.set(A);if(k&&this.debug)M(s,`Set ${at(s)} "${String(n)} in ${S(this)}`)}}return customElements.define(t,o),o},ft="context-request";var wt=(t)=>(e)=>{let r=(o)=>{let{context:n,callback:s}=o;if(t.includes(n)&&P(s))o.stopPropagation(),s(e.getSignal(String(n)))};return e.addEventListener(ft,r),()=>e.removeEventListener(ft,r)};var _t=(t,e)=>{if(e==null)return;let r=t(e);return Number.isFinite(r)?r:void 0},j=(t,e)=>e!=="false"&&e!=null,x=(t=0)=>(e,r)=>_t(parseInt,r)??t;var O=(t="")=>(e,r)=>r??t;var Tt=(t,e,r)=>Y(t)?e.getSignal(t).get():rt(t)?t.get():P(t)?t(r):L,Dt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let e=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(e.protocol)}catch(e){return!1}return!0},Qt=(t,e,r)=>{if(/^on/i.test(e))throw new Error(`Unsafe attribute: ${e}`);if(r=String(r).trim(),!Dt(r))throw new Error(`Unsafe URL for ${e}: ${r}`);t.setAttribute(e,r)},F=(t,e)=>(r,o)=>{let{op:n,read:s,update:i}=e,a=s(o),c={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"},u="";if(Y(t)&&Y(a)&&r[t]===L)r.attributeChangedCallback(t,null,a);let d=(h)=>()=>{if(k&&r.debug)M(o,`${h} ${c[n]+u} of ${S(o)} in ${S(r)}`);e.resolve?.(o)},y=(h)=>(w)=>{M(w,`Failed to ${h} ${c[n]+u} of ${S(o)} in ${S(r)}`,q),e.reject?.(w)};return _(()=>{let h=L;try{h=Tt(t,r,o)}catch(w){M(w,`Failed to resolve value of ${B(t)} for ${c[n]+u} of ${S(o)} in ${S(r)}`,q);return}if(h===L)h=a;else if(h===A)h=e.delete?null:a;if(e.delete&&h===null)tt(()=>{return u=e.delete(o),!0},[o,n]).then(d("Deleted")).catch(y("delete"));else if(h!=null){let w=s(o);if(Object.is(h,w))return;tt(()=>{return u=i(o,h),!0},[o,n]).then(d("Updated")).catch(y("update"))}})},D=(t,e)=>(r,o)=>{let n=(i)=>()=>{if(k&&r.debug)M(o,`${i} element in ${S(o)} in ${S(r)}`);if(P(e?.resolve))e.resolve(o);else{let a=rt(t)?t:Y(t)?r.getSignal(t):void 0;if(et(a))a.set(0)}},s=(i)=>(a)=>{M(a,`Failed to ${i} element in ${S(o)} in ${S(r)}`,q),e?.reject?.(a)};return _(()=>{let i=0;try{i=Tt(t,r,o)}catch(a){M(a,`Failed to resolve value of ${B(t)} for insertion or deletion in ${S(o)} in ${S(r)}`,q);return}if(i===L)i=0;if(i>0){if(!e)throw new TypeError("No inserter provided");tt(()=>{for(let a=0;a<i;a++){let c=e.create(o);if(!c)continue;o.insertAdjacentElement(e.position??"beforeend",c)}return!0},[o,"i"]).then(n("Inserted")).catch(s("insert"))}else if(i<0)tt(()=>{if(e&&(e.position==="afterbegin"||e.position==="beforeend"))for(let a=0;a>i;a--)if(e.position==="afterbegin")o.firstElementChild?.remove();else o.lastElementChild?.remove();else o.remove();return!0},[o,"r"]).then(n("Removed")).catch(s("remove"))})},m=(t)=>F(t,{op:"t",read:(e)=>e.textContent,update:(e,r)=>{return Array.from(e.childNodes).filter((o)=>o.nodeType!==Node.COMMENT_NODE).forEach((o)=>o.remove()),e.append(document.createTextNode(r)),""}}),f=(t,e=t)=>F(e,{op:"p",read:(r)=>(t in r)?r[t]:A,update:(r,o)=>{return r[t]=o,String(t)}}),R=(t,e=t)=>F(e,{op:"a",read:(r)=>r.getAttribute(t),update:(r,o)=>{return Qt(r,t,o),t},delete:(r)=>{return r.removeAttribute(t),t}}),nt=(t,e=t)=>F(e,{op:"a",read:(r)=>r.hasAttribute(t),update:(r,o)=>{return r.toggleAttribute(t,o),t}}),Q=(t,e=t)=>F(e,{op:"c",read:(r)=>r.classList.contains(t),update:(r,o)=>{return r.classList.toggle(t,o),t}});var vt=(t,e,r)=>F(t,{op:"h",read:(o)=>(o.shadowRoot||!e?o:null)?.innerHTML??"",update:(o,n)=>{if(!n){if(o.shadowRoot)o.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!o.shadowRoot)o.attachShadow({mode:e});let s=o.shadowRoot||o;if(s.innerHTML=n,!r)return"";return s.querySelectorAll("script").forEach((i)=>{let a=document.createElement("script");a.appendChild(document.createTextNode(i.textContent??"")),s.appendChild(a),i.remove()})," with scripts"}}),Wt=(t)=>{let e=/\[\s*([a-zA-Z0-9_-]+)(?:[~|^$*]?=(?:"[^"]*"|'[^']*'|[^\]]*))?\s*\]/g,r=new Set,o;while((o=e.exec(t))!==null)if(o[1])r.add(o[1]);return Array.from(r)},W=(t,e)=>{let r=new Set,o=Array.from(t.querySelectorAll(e)),n=!1,s=Wt(e),i=new MutationObserver(()=>{if(o=Array.from(t.querySelectorAll(e)),r.size)U(r);else i.disconnect(),n=!1}),a={[Symbol.toStringTag]:"Computed",get:()=>{if(!n){n=!0;let c={childList:!0,subtree:!0};if(s.length>0)c.attributes=!0,c.attributeFilter=s;i.observe(t,c)}return lt(r),o},map:(c)=>N(()=>c(a.get())),tap:(c)=>_({signals:[a],...P(c)?{ok:c}:c})};return a};var oe=g("hello-world",{name:L},(t)=>[l("span",m("name")),l("input",p("input",(e)=>{t.name=e.target?.value||L}))]);var se=g("my-counter",{count:x()},(t)=>[l(".count",m("count")),l(".parity",m(()=>t.count%2?"odd":"even")),l(".increment",p("click",()=>{t.count++})),l(".decrement",p("click",()=>{t.count--}))]);var ue=g("my-slider",{},(t)=>{let e=T(0),r=t.querySelectorAll(".slide").length,o=(n)=>String(e.get())===n.dataset.index;return[l(".prev",p("click",()=>{e.update((n)=>(n-1+r)%r)})),l(".next",p("click",()=>{e.update((n)=>(n+1+r)%r)})),E(".slide",Q("active",o)),E(".dots span",Q("active",o))]});var pe=g("input-button",{disabled:j,label:O(L),badge:O(L)},()=>[l("button",f("disabled")),l(".label",m("label")),l(".badge",m("badge"))]);var be=g("input-checkbox",{checked:j,label:O(L)},(t)=>[nt("checked"),l("input",f("checked"),p("change",(e)=>{t.checked=e.target?.checked})),l(".label",m("label"))]);var ye=g("input-radiogroup",{value:O()},(t)=>[R("value"),E("input",p("change",(e)=>{t.value=e.target?.value})),E("label",Q("selected",(e)=>t.value===e.querySelector("input")?.value))]);var pt=(t)=>typeof t==="number",X=(t,e=!1,r=0)=>{if(!t)return r;let o=e?parseInt(t,10):parseFloat(t);return Number.isFinite(o)?o:r},Xt=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},Vt=(t,e)=>{let r=t.querySelector("input");return r&&r.type==="number"?X(e,t.hasAttribute("integer"),0):e??""},we=g("input-field",{value:Vt,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let e=t.querySelector("input");if(e)e.value="",e.checkValidity(),e.focus()}}},(t)=>{let e=[],r=t.querySelector("input");if(!r)throw new Error("No input element found");let o=r.type==="number",n=t.hasAttribute("integer"),s=t.getAttribute("validate"),i=(u)=>{let d=typeof u==="function"?u(t.value):o&&!pt(u)?X(u,n,0):u;if(Object.is(t.value,d))return;if(d!==null&&s)fetch(`${s}?name=${r.name}value=${d}`).then(async(y)=>{let h=await y.text();r.setCustomValidity(h),t.error=h}).catch((y)=>{t.error=y.message});if(r.checkValidity(),t.value=d,t.error=r.validationMessage??"",r?.value!==String(u))ot("value-change",u)(t)};if(e.push(l("input",f("value",()=>String(t.value)),p("change",()=>{i(o?r.valueAsNumber??0:r.value??"")}),p("input",()=>{t.length=r.value.length??0}))),o){let u=t.querySelector(".spinbutton"),d=X(u?.dataset.step||r.step,n,1),y=X(r.min,n,0),h=X(r.max,n,100),w=(v)=>{if(!Number.isFinite(v)||v<y)return y;if(v>h)return h;let H=y+Math.round((v-y)/d)*d;return n?Math.round(H):parseFloat(H.toFixed(Xt(d)))};if(e.push(l("input",p("keydown",(v)=>{let{key:H,shiftKey:C}=v;if(["ArrowUp","ArrowDown"].includes(H)){v.stopPropagation(),v.preventDefault();let z=C?d*10:d,I=w(r.valueAsNumber+(H==="ArrowUp"?z:-z));r.value=String(I),i(I)}}))),u)e.push(l(".decrement",p("click",(v)=>{let H=v.shiftKey?d*10:d,C=w(r.valueAsNumber-H);r.value=String(C),i(C)}),f("disabled",()=>(pt(y)?t.value:0)-d<y)),l(".increment",p("click",(v)=>{let H=v.shiftKey?d*10:d,C=w(r.valueAsNumber+H);r.value=String(C),i(C)}),f("disabled",()=>(pt(h)?t.value:0)+d>h)))}else e.push(l(".clear",p("click",()=>{t.clear(),i("")}),f("hidden",()=>!t.length)));let a=t.querySelector(".error")?.id;e.push(l(".error",m("error")),l("input",f("ariaInvalid",()=>t.error?"true":"false"),R("aria-errormessage",()=>t.error&&a?a:A)));let c=t.querySelector(".description");if(c){let u=r.maxLength,d=u&&c.dataset.remaining;if(d)t.setSignal("description",N(()=>d.replace("${x}",String(u-t.length))));e.push(l(".description",m("description")),l("input",R("aria-describedby",()=>t.description&&c.id?c.id:A)))}return e});var Ae=g("code-block",{collapsed:j},(t)=>{let e=t.querySelector("code");return[nt("collapsed"),l(".overlay",p("click",()=>{t.collapsed=!1})),l(".copy",p("click",async(r)=>{let o=r.currentTarget,n=o.textContent?.trim()??"",s="success";try{await navigator.clipboard.writeText(e?.textContent?.trim()??"")}catch(i){console.error("Error when trying to use navigator.clipboard.writeText()",i),s="error"}o.disabled=!0,o.label=t.getAttribute(`copy-${s}`)??n,setTimeout(()=>{o.disabled=!1,o.label=n},s==="success"?1000:3000)}))]});var Zt=(t,e)=>(r)=>{if(!(r instanceof KeyboardEvent))throw new TypeError("Event is not a KeyboardEvent");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(r.key)){switch(r.preventDefault(),r.key){case"ArrowLeft":case"ArrowUp":e=e<1?t.length-1:e-1;break;case"ArrowRight":case"ArrowDown":e=e>=t.length-1?0:e+1;break;case"Home":e=0;break;case"End":e=t.length-1;break}if(t[e])t[e].focus()}},Pe=g("tab-group",{selected:""},(t)=>{t.selected=t.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls")??"";let e=(n)=>t.selected===n.getAttribute("aria-controls"),r=Array.from(t.querySelectorAll('[role="tab"]')),o=0;return[l('[role="tablist"]',p("keydown",Zt(r,o))),E('[role="tab"]',p("click",(n)=>{t.selected=n.currentTarget.getAttribute("aria-controls")??"",o=r.findIndex((s)=>e(s))}),f("ariaSelected",(n)=>String(e(n))),f("tabIndex",(n)=>e(n)?0:-1)),E('[role="tabpanel"]',f("hidden",(n)=>t.selected!==n.id))]});var Kt=(t,e)=>{let r="",o="";if(!e)o="No URL provided in src attribute";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${e}"]`))o="Recursive loading detected";else{let n=new URL(e,location.href);if(n.origin===location.origin)r=String(n);else o="Invalid URL origin"}return t.error=o,r},te=(t)=>async(e)=>{let r=t.src;if(!r)return"";try{let o=await fetch(r,{signal:e});if(t.querySelector(".loading")?.remove(),o.ok)return o.text();else t.error=o.statusText}catch(o){t.error=o.message}return""},xe=g("lazy-load",{error:"",src:Kt,content:te},(t)=>[vt("content"),l(".error",m("error"),f("hidden",()=>!t.error))]);var At="media-motion",Lt="media-theme",Ct="media-viewport",Pt="media-orientation",Je=g("media-context",{[At]:()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),e=T(t.matches);return t.addEventListener("change",(r)=>{e.set(r.matches)}),e},[Lt]:()=>{let t=matchMedia("(prefers-color-scheme: dark)"),e=T(t.matches?"dark":"light");return t.addEventListener("change",(r)=>{e.set(r.matches?"dark":"light")}),e},[Ct]:(t)=>{let e=(c,u)=>{let y=t.getAttribute(c)?.trim();if(!y)return u;let h=y.match(/em$/)?"em":"px",w=parseFloat(y);return Number.isFinite(w)?w+h:u},r=matchMedia(`(min-width: ${e("sm","32em")})`),o=matchMedia(`(min-width: ${e("md","48em")})`),n=matchMedia(`(min-width: ${e("lg","72em")})`),s=matchMedia(`(min-width: ${e("xl","104em")})`),i=()=>{if(s.matches)return"xl";if(n.matches)return"lg";if(o.matches)return"md";if(r.matches)return"sm";return"xs"},a=T(i());return r.addEventListener("change",()=>{a.set(i())}),o.addEventListener("change",()=>{a.set(i())}),n.addEventListener("change",()=>{a.set(i())}),s.addEventListener("change",()=>{a.set(i())}),a},[Pt]:()=>{let t=matchMedia("(orientation: landscape)"),e=T(t.matches?"landscape":"portrait");return t.addEventListener("change",(r)=>{e.set(r.matches?"landscape":"portrait")}),e}},()=>[wt([At,Lt,Ct,Pt])]);var Ie=g("todo-app",{active:(t)=>W(t,"input-checkbox:not([checked])"),completed:(t)=>W(t,"input-checkbox[checked]")},(t)=>{let e=t.querySelector("input-field");if(!e)throw new Error("No input field found");let r=t.querySelector("template");if(!r)throw new Error("No template found");let o=t.querySelector("ol");if(!o)throw new Error("No list found");return[l(".submit",f("disabled",()=>!e.length)),l("form",p("submit",(n)=>{n.preventDefault(),queueMicrotask(()=>{if(!e.value.toString().trim())return;let i=document.importNode(r.content,!0).firstElementChild;if(!(i instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");i.querySelector("slot")?.replaceWith(String(e.value)),o.append(i),e.clear()})})),l("ol",R("filter",()=>t.querySelector("input-radiogroup")?.value??"all"),p("click",(n)=>{let s=n.target;if(s.localName==="button")s.closest("li").remove()})),l(".count",m(()=>String(t.active.length))),l(".singular",f("hidden",()=>t.active.length>1)),l(".plural",f("hidden",()=>t.active.length===1)),l(".remaining",f("hidden",()=>!t.active.length)),l(".all-done",f("hidden",()=>!!t.active.length)),l(".clear-completed",f("disabled",()=>!t.completed.length),f("badge",()=>t.completed.length>0?String(t.completed.length):""),p("click",()=>{let n=Array.from(t.querySelectorAll("ol li"));for(let s=n.length-1;s>=0;s--)if(n[s].querySelector("input-checkbox")?.checked)n[s].remove()}))]});var Fe=g("product-catalog",{quantities:(t)=>W(t,"spin-button")},(t)=>[l("input-button",f("badge",()=>{let e=t.quantities.reduce((r,o)=>r+o.value,0);return e>0?String(e):""}))]);var Ue=g("spin-button",{value:x()},(t)=>{let e=t.getAttribute("zero-label")||"Add to Cart",r=t.getAttribute("increment-label")||"Increment",o=x(9)(t,t.getAttribute("max")),n=()=>t.value===0;return[l(".value",m("value"),f("hidden",n)),l(".decrement",f("hidden",n),p("click",()=>{t.value--})),l(".increment",m(()=>n()?e:"+"),f("ariaLabel",()=>n()?e:r),f("disabled",()=>t.value>=o),p("click",()=>{t.value++})),E("button",p("keydown",(s)=>{let{key:i}=s;if(["ArrowUp","ArrowDown","-","+"].includes(i)){if(s.stopPropagation(),s.preventDefault(),i==="ArrowDown"||i==="-")t.value--;if(i==="ArrowUp"||i==="+")t.value++}}))]});var qe=g("rating-stars",{value:x()},(t)=>{let e=(r)=>parseInt(r.dataset.key||"0");return[E("input",f("checked",(r)=>t.value===e(r)),p("change",(r)=>{r.stopPropagation();let o=parseInt(r.currentTarget?.value)+1;t.value=o,ot("change-rating",o)(t)})),E(".label",m((r)=>e(r)<=t.value?"\u2605":"\u2606"))]});var Qe=g("rating-feedback",{},(t)=>{let e=T(0),r=T(!0),o=T(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let s=(i)=>e.get()!==parseInt(i.dataset.key||"0");return[p("change-rating",(i)=>{e.set(i.detail)}),p("submit",(i)=>{i.preventDefault(),o.set(!0),console.log("Feedback submitted")}),l(".hide",p("click",()=>{let i=t.querySelector(".feedback");if(i)i.hidden=!0})),l("textarea",p("input",(i)=>{r.set(i.target?.value.trim()==="")})),l(".feedback",f("hidden",()=>o.get()||!e.get())),E(".feedback p",f("hidden",s)),l("input-button",f("disabled",r))]});var Ve=g("calc-table",{columns:x(),rows:x()},(t)=>{let r=t.querySelector(".calc-table-row"),o=t.querySelector(".calc-table-colhead"),n=t.querySelector(".calc-table-cell");if(!r||!o||!n)throw new Error("Missing template elements");let s=new Map;for(let a=0;a<t.columns;a++)s.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a],T(0));let i=(a)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${a}"]`)).map((c)=>Number.isFinite(c.valueAsNumber)?c.valueAsNumber:0).reduce((c,u)=>c+u,0)};return[f("rows",()=>t.querySelector(".rows spin-button")?.value),f("columns",()=>t.querySelector(".columns spin-button")?.value),l("tbody",D((a)=>t.rows-a.querySelectorAll("tr").length,{position:"beforeend",create:(a)=>{let c=document.importNode(r.content,!0).firstElementChild;if(!(c instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${c}`);let u=String(a.querySelectorAll("tr").length+1);return c.dataset.key=u,c.querySelector("slot")?.replaceWith(document.createTextNode(u)),c},resolve:()=>{for(let[a,c]of s)c.set(i(a))}})),l("thead tr",D((a)=>t.columns-(a.querySelectorAll("th").length-1),{position:"beforeend",create:(a)=>{let c=document.importNode(o.content,!0).firstElementChild;if(!(c instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${c}`);let u="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a.querySelectorAll("th").length-1];return s.set(u,T(0)),c.querySelector("slot")?.replaceWith(document.createTextNode(u)),c}})),E("tbody tr",D((a)=>t.columns-a.querySelectorAll("td").length,{position:"beforeend",create:(a)=>{let c=document.importNode(n.content,!0).firstElementChild;if(!(c instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${c}`);let u=a.dataset.key,d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a.querySelectorAll("td").length],y=c.querySelector("input");if(!y)throw new Error("No input found in cell template");return y.dataset.key=d,c.querySelector("slot")?.replaceWith(document.createTextNode(`${d}${u}`)),c}})),l("tfoot tr",D((a)=>t.columns-a.querySelectorAll("td").length,{position:"beforeend",create:(a)=>{let c=document.createElement("td"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a.querySelectorAll("td").length];return c.dataset.key=u,c}})),E("tbody input",p("change",(a)=>{let c=a.target?.dataset.key;s.get(c)?.set(i(c))})),E("tfoot td",m((a)=>String(s.get(a.dataset.key).get())))]});
