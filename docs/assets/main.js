var $=(t)=>typeof t==="function",Wt=(t)=>$(t)&&/^async\s+/.test(t.toString()),O=(t)=>(s)=>s instanceof t,rt=O(Error),Lt=O(Promise),at="Computed",D=(t,s)=>{s=s??Wt(t);let e=[],r,i=null,n=!0,c=()=>{if(n=!0,s)ht(e)},l={[Symbol.toStringTag]:at,get:()=>{if(s)ct(e);if(!s||n)ut(()=>{let f=(o)=>{r=o,n=!1,i=null},z=(o)=>{i=rt(o)?o:new Error(`Computed function failed: ${o}`)};try{let o=t(r);Lt(o)?o.then(f).catch(z):f(o)}catch(o){z(o)}},c);if(rt(i))throw i;return r},map:(f)=>D(()=>f(l.get()))};return l},Kt=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===at,J,zt=!1,Nt=[],N=(t)=>R(t)||Kt(t),nt=(t,s=!1)=>N(t)?t:$(t)?D(t,s):Bt(t),ct=(t)=>{if(J&&!t.includes(J))t.push(J)},ht=(t)=>t.forEach((s)=>zt?Nt.push(s):s()),ut=(t,s)=>{let e=J;J=s,t(),J=e};var B=Symbol();class E{$;watchers=[];constructor(t){this.value=t}get(){return ct(this.watchers),this.value}set(t){if(B!==t){let s=$(t)?t(this.value):t;if(Object.is(this.value,s))return;this.value=s}if(ht(this.watchers),B===t)this.watchers=[]}map(t){return D(()=>t(this.get()))}}var Bt=(t)=>new E(t),R=O(E),v=(t)=>{let s=()=>ut(()=>{try{t()}catch(e){console.error(e)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var X=new Map,x=[],H,lt=()=>{H=null,x.forEach((t)=>t()),x=[],X.clear()},Rt=()=>{if(H)cancelAnimationFrame(H);H=requestAnimationFrame(lt)};queueMicrotask(lt);var m=(t,s)=>new Promise((e,r)=>{let i=()=>{try{e(t())}catch(n){r(n)}};if(s){let[n,c]=s;if(!X.has(n))X.set(n,new Map);let l=X.get(n);if(l.has(c)){let f=x.indexOf(t);if(f>-1)x.splice(f,1)}l.set(c,i)}x.push(i),Rt()});var Vt=(t)=>t.nodeType===Node.COMMENT_NODE,$t=(t)=>!/^on/i.test(t),Ot=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let s=new URL(t,window.location.origin);return!["http:","https:","ftp:"].includes(s.protocol)}catch(s){return!0}return!0},Dt=(t,s,e)=>{if(!$t(s))throw new Error(`Unsafe attribute: ${s}`);if(e=String(e).trim(),!Ot(e))throw new Error(`Unsafe URL for ${s}: ${e}`);t.setAttribute(s,e)};var Et=(t)=>m(()=>{return t.remove(),null},[t,"r"]),Pt=(t,s)=>m(()=>{return Array.from(t.childNodes).filter((e)=>!Vt(e)).forEach((e)=>e.remove()),t.append(document.createTextNode(s)),t},[t,"t"]),_t=(t,s,e)=>m(()=>{return Dt(t,s,e),t},[t,`a:${s}`]),At=(t,s)=>m(()=>{return t.removeAttribute(s),t},[t,`a:${s}`]),Mt=(t,s,e)=>m(()=>{return t.toggleAttribute(s,e),t},[t,`a:${s}`]),Tt=(t,s,e)=>m(()=>{return t.classList.toggle(s,e),t},[t,`c:${s}`]);var Z=(t)=>typeof t==="function",ft=(t)=>!!t&&typeof t==="object",It=(t)=>typeof t==="number",G=(t)=>typeof t==="string",ts=(t)=>typeof t==="symbol",ss=(t)=>G(t)||ts(t)||It(t),d=!1,es="debug";var rs="warn",Q="error",is=(t)=>t?`#${t}`:"",as=(t)=>t.length?`.${Array.from(t).join(".")}`:"",k=(t)=>`<${t.localName}${is(t.id)}${as(t.classList)}>`,w=(t)=>G(t)?`"${t}"`:ft(t)?JSON.stringify(t):String(t),g=(t,s,e=es)=>{if(d||[Q,rs].includes(e))console[e](s,t);return t},ns=(t)=>Z(t)&&t.length===2,it=(t,s,e=0)=>ns(t)?t(s,e):t;class p{$;A;constructor(t,s=[t]){this.host=t,this.targets=s}on(t,s){return this.targets.forEach((e,r)=>{let i=it(s,e,r);e.addEventListener(t,i),this.host.listeners.push(()=>e.removeEventListener(t,i))}),this}emit(t,s){return this.targets.forEach((e)=>{e.dispatchEvent(new CustomEvent(t,{detail:s,bubbles:!0}))}),this}pass(t){return this.targets.forEach(async(s,e)=>{if(await a.registry.whenDefined(s.localName),s instanceof a)Object.entries(t).forEach(([r,i])=>{let n=it(i,s,e),c=ss(n)?this.host.signals.get(n):nt(n,!0);if(c)s.set(r,c);else g(i,`Invalid source for state ${w(r)}`,Q)});else g(s,"Target is not a UIElement",Q)}),this}sync(...t){return this.targets.forEach((s,e)=>t.forEach((r)=>r(this.host,s,e))),this}}var cs=(t,s)=>{if(s==null)return;let e=t(s);return Number.isFinite(e)?e:void 0},V=(t,s,e,r)=>{return(((i)=>Z(i)&&!!i.length)(s)?s(e,t,r):e)??s},y=(t)=>t!=="false"&&t!=null,W=(t)=>cs(parseInt,t);var ot="context-request";class bt extends Event{$;A;B;constructor(t,s,e=!1){super(ot,{bubbles:!0,composed:!0});this.context=t,this.callback=s,this.subscribe=e}}var hs=(t)=>{let s=t.constructor,e=s.consumedContexts||[];setTimeout(()=>{for(let i of e)t.dispatchEvent(new bt(i,(n)=>t.set(String(i),n)))});let r=s.providedContexts||[];if(!r.length)return!1;return t.addEventListener(ot,(i)=>{let{context:n,callback:c}=i;if(!r.includes(n)||!Z(c))return;i.stopPropagation(),c(t.signals.get(String(n)))}),!0};class a extends HTMLElement{get ctor(){return this.constructor}static registry=customElements;static states={};static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(a.registry.define(t,this),d)g(t,"Registered custom element")}catch(s){g(s,`Failed to register custom element ${t}`,Q)}}signals=new Map;listeners=[];self=new p(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,e){if(e===s)return;if(d&&this.debug)g(`${w(s)} => ${w(e)}`,`Attribute "${t}" of ${k(this)} changed`);this.set(t,V(this,this.ctor.states[t],e,s))}connectedCallback(){if(d){if(this.debug=this.hasAttribute("debug"),this.debug)g(this,"Connected")}Object.entries(this.ctor.states).forEach(([t,s])=>{let e=Z(s)?V(this,this.ctor.states[t],this.getAttribute(t)??void 0):s;this.set(t,e,!1)}),hs(this)}disconnectedCallback(){if(this.listeners.forEach((t)=>t()),d&&this.debug)g(this,"Disconnected")}adoptedCallback(){if(d&&this.debug)g(this,"Adopted")}has(t){return this.signals.has(t)}get(t){let s=(r)=>!ft(r)?r:Z(r)?s(r()):N(r)?s(r.get()):r,e=s(this.signals.get(t));if(d&&this.debug)g(e,`Get current value of state ${w(t)} in ${k(this)}`);return e}set(t,s,e=!0){let r;if(!this.signals.has(t)){if(d&&this.debug)r="Create";this.signals.set(t,nt(s,!0))}else if(e){let i=this.signals.get(t);if(N(s)){if(d&&this.debug)r="Replace";if(this.signals.set(t,s),R(i))i.set(B)}else if(R(i)){if(d&&this.debug)r="Update";i.set(s)}else{g(s,`Computed state ${w(t)} in ${k(this)} cannot be set`,Q);return}}else return;if(d&&this.debug)g(s,`${r} state ${w(t)} in ${k(this)}`)}delete(t){if(d&&this.debug)g(t,`Delete state ${w(t)} from ${k(this)}`);return this.signals.delete(t)}first(t){let s=this.root.querySelector(t);return new p(this,s?[s]:[])}all(t){return new p(this,Array.from(this.root.querySelectorAll(t)))}}var j=(t,s)=>(e,r)=>{let{read:i,update:n}=s,c=i(r);if(G(t)){let l=G(c)?V(e,e.constructor.states[t],c):c;e.set(t,l,!1)}v(()=>{let l=i(r),f=G(t)?e.get(t):Z(t)?t(l):void 0;if(!Object.is(f,l)){if(f===null&&s.delete)s.delete(r);else if(f==null&&c)n(r,c);else if(f!=null)n(r,f)}})};var dt=(t)=>j(t,{read:(s)=>s!=null,update:(s,e)=>e?Et(s):Promise.resolve(null)}),h=(t)=>j(t,{read:(s)=>s.textContent,update:(s,e)=>Pt(s,e)}),u=(t,s=t)=>j(s,{read:(e)=>(t in e)?e[t]:void 0,update:(e,r)=>e[t]=r}),C=(t,s=t)=>j(s,{read:(e)=>e.getAttribute(t),update:(e,r)=>_t(e,t,r),delete:(e)=>At(e,t)}),b=(t,s=t)=>j(s,{read:(e)=>e.hasAttribute(t),update:(e,r)=>Mt(e,t,r)}),F=(t,s=t)=>j(s,{read:(e)=>e.classList.contains(t),update:(e,r)=>Tt(e,t,r)});class gt extends a{connectedCallback(){this.first("span").sync(h("name")),this.first("input").on("input",(t)=>{this.set("name",t.target?.value||void 0)})}}gt.define("hello-world");class yt extends a{static observedAttributes=["count"];static states={count:W};connectedCallback(){this.set("parity",()=>(this.get("count")??0)%2?"odd":"even");let t=(s,e=0)=>()=>{this.set("count",(r)=>r!=null?r+s:e)};this.first(".increment").on("click",t(1,1)),this.first(".decrement").on("click",t(-1)),this.first(".count").sync(h("count")),this.first(".parity").sync(h("parity"))}}yt.define("my-counter");class mt extends a{static states={active:0};connectedCallback(){super.connectedCallback();let t=this.querySelectorAll(".slide").length,s=(r)=>()=>{this.set("active",(i=0)=>(i+r+t)%t)};this.first(".prev").on("click",s(-1)),this.first(".next").on("click",s(1));let e=(r,i,n)=>F("active",()=>this.get("active")===n)(r,i);this.all(".slide").sync(e),this.all(".dots span").sync(e)}}mt.define("my-slider");class wt extends a{static observedAttributes=["disabled"];static states={disabled:y};connectedCallback(){this.first("button").sync(h("label"),u("disabled"))}}wt.define("input-button");class Ct extends a{static observedAttributes=["checked"];static states={checked:y};connectedCallback(){this.first("input").on("change",(t)=>{this.set("checked",Boolean(t.target?.checked))}).sync(u("checked")),this.self.sync(b("checked"))}}Ct.define("input-checkbox");class Jt extends a{static observedAttributes=["value"];connectedCallback(){this.self.sync(C("value")),this.all("input").on("change",(t)=>{this.set("value",t.target?.value)}),this.all("label").sync((t,s)=>F("selected",()=>t.get("value")===s.querySelector("input")?.value)(t,s))}}Jt.define("input-radiogroup");var P=(t)=>typeof t==="number",Y=(t,s=!1,e=0)=>{let r=s?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:e},Zt=(t,s,e,r,i=!1)=>{let n=Math.round((e-s)/r),c=Math.round((t-s)*n/(e-s))/n;c=Math.min(Math.max(c,0),1);let l=c*(e-s)+s;return i?Math.round(l):l};class jt extends a{static observedAttributes=["value","description"];static states={value:(t,s)=>s.isNumber?Y(t,s.isInteger,0):t};isNumber;isInteger;input=null;step=1;min;max;connectedCallback(){if(this.input=this.querySelector("input"),this.isNumber=(this.input&&this.input.type==="number")??!1,this.isInteger=this.hasAttribute("integer"),this.input&&this.isNumber)this.step=Y(this.input.step,this.isInteger,1),this.min=Y(this.input.min,this.isInteger,0),this.max=Y(this.input.max,this.isInteger,0);if(this.set("value",this.isNumber?this.input?.valueAsNumber:this.input?.value,!1),this.set("length",this.input?.value.length),this.set("empty",()=>!this.get("length")),this.first("input").on("change",()=>{this.#t(this.isNumber?this.input?.valueAsNumber:this.input?.value)}).on("input",()=>{this.set("length",this.input?.value.length)}),this.isNumber)this.first("input").on("keydown",(e)=>{let r=e;if(["ArrowUp","ArrowDown"].includes(r.key)){if(e.stopPropagation(),e.preventDefault(),r.key==="ArrowDown")this.stepDown(r.shiftKey?this.step*10:this.step);if(r.key==="ArrowUp")this.stepUp(r.shiftKey?this.step*10:this.step)}});this.set("ariaInvalid",()=>String(Boolean(this.get("error")))),this.set("aria-errormessage",()=>this.get("error")?this.querySelector(".error")?.id:void 0),this.first(".error").sync(h("error")),this.first("input").sync(u("ariaInvalid"),C("aria-errormessage"));let t=this.querySelector(".description");if(t){let e=this.input?.maxLength,r=e&&t.dataset.remaining,i=t.textContent;this.set("description",r?()=>{let n=this.get("length")??0;return n>0?r.replace("${x}",String(e-n)):i}:i),this.set("aria-describedby",()=>this.get("description")?t.id:void 0),this.first(".description").sync(h("description")),this.first("input").sync(C("aria-describedby"))}let s=this.querySelector(".spinbutton");if(!this.isNumber||!s)this.first(".decrement").on("click",(e)=>{this.stepDown(e.shiftKey?this.step*10:this.step)}).sync(u("disabled",()=>P(this.min)&&(this.get("value")??0-this.step<this.min))),this.first(".increment").on("click",(e)=>{this.stepUp(e.shiftKey?this.step*10:this.step)}).sync(u("disabled",()=>P(this.max)&&(this.get("value")??0+this.step>this.max)));this.first(".clear").on("click",()=>{this.clear(),this.input?.focus()}).sync(F("hidden","empty")),v(()=>{let e=this.get("value"),r=this.getAttribute("validate");if(e&&r)fetch(`${r}?name=${this.input?.name}value=${this.input?.value}`).then(async(i)=>{let n=await i.text();this.input?.setCustomValidity(n),this.set("error",n)}).catch((i)=>this.set("error",i.message));if(this.isNumber&&!P(e))return this.set("value",Y(e,this.isInteger,0));if(this.input&&this.isNumber&&Number.isFinite(e))this.input.value=String(e)})}clear(){if(this.set("value",""),this.set("length",0),this.input)this.input.value="",this.input.focus()}stepUp(t=this.step){if(this.isNumber)this.#t((s)=>Zt(s+t,this.min??0,this.max??100,this.step,this.isInteger))}stepDown(t=this.step){if(this.isNumber)this.#t((s)=>Zt(s-t,this.min??0,this.max??100,this.step,this.isInteger))}#t=(t)=>{if(this.set("value",t),this.set("error",this.input?.validationMessage),typeof t==="function")t=this.get("value");if(this.input?.value!==String(t))this.self.emit("value-change",t)}}jt.define("input-field");class Ft extends a{static observedAttributes=["collapsed"];static states={collapsed:y};connectedCallback(){let t=this.querySelector("code");if(t)this.first(".copy").on("click",async(s)=>{let e=s.currentTarget,r=e.textContent,i="success";try{await navigator.clipboard.writeText(t.textContent??"")}catch(n){console.error("Error when trying to use navigator.clipboard.writeText()",n),i="error"}e.set("disabled",!0),e.set("label",this.getAttribute(`copy-${i}`)),setTimeout(()=>{e.set("disabled",!1),e.set("label",r)},i==="success"?1000:3000)}),this.first(".overlay").on("click",()=>this.set("collapsed",!1)),this.self.sync(b("collapsed"))}}Ft.define("code-block");class Ut extends a{static states={open:y,collapsible:y};connectedCallback(){super.connectedCallback(),this.self.sync(b("open"),b("collapsible"),u("ariaHidden",()=>!this.get("open")&&!this.get("collapsible"))),this.first("details").sync(u("open"),u("ariaDisabled",()=>!this.get("collapsible")))}}Ut.define("accordion-panel");class qt extends a{static observedAttributes=["accordion"];static states={active:0,accordion:y};static consumedContexts=["media-viewport"];connectedCallback(){super.connectedCallback(),setTimeout(()=>{if(this.get("media-viewport"))this.set("accordion",()=>["xs","sm"].includes(String(this.get("media-viewport"))))},0),this.self.sync(b("accordion")),this.first("menu").sync(u("ariaHidden","accordion")),this.all("menu button").on("click",(t,s)=>()=>this.set("active",s)).sync((t,s,e)=>u("ariaPressed",()=>this.get("active")===e)(t,s)),this.all("accordion-panel").pass({open:(t,s)=>()=>this.get("active")===s,collapsible:"accordion"})}}qt.define("tab-list");class St extends a{static states={content:"",error:"",loaded:!1};connectedCallback(){super.connectedCallback();let t=this.getAttribute("src");if(t)this.loadContent(t).then(([s,e])=>{this.set("content",e),this.set("error",s),this.set("loaded",!0)});this.first(".loading").sync(dt("loaded")),this.first(".error").sync(h("error")),v(()=>{let s=this.get("content");if(s)m(()=>{this.root.innerHTML=s,this.root.querySelectorAll("script").forEach((e)=>{let r=document.createElement("script");r.appendChild(document.createTextNode(e.textContent??"")),this.root.appendChild(r),e.remove()})},[this.root,"h"])})}async loadContent(t){try{let s=await fetch(t);if(!s.ok)return[s.statusText,""];return["",await s.text()]}catch(s){return[s.message,""]}}}St.define("lazy-load");var L=(t,s)=>{let e=t?.trim();if(!e)return s;let r=e.match(/em$/)?"em":"px",i=parseFloat(e);return Number.isFinite(i)?i+r:s},_="media-motion",K="media-theme",U="media-viewport",kt="media-orientation";class xt extends a{static providedContexts=[_,K,U,kt];connectedCallback(){super.connectedCallback();let t="light",s="dark",e="xs",r="sm",i="md",n="lg",c="xl",l="landscape",f="portrait",o=(()=>({sm:L(this.getAttribute(r),"32em"),md:L(this.getAttribute(i),"48em"),lg:L(this.getAttribute(n),"72em"),xl:L(this.getAttribute(c),"108em")}))(),A=matchMedia("(prefers-reduced-motion: reduce)"),M=matchMedia("(prefers-color-scheme: dark)"),T=matchMedia(`(min-width: ${o.sm})`),I=matchMedia(`(min-width: ${o.md})`),tt=matchMedia(`(min-width: ${o.lg})`),st=matchMedia(`(min-width: ${o.xl})`),et=matchMedia("(orientation: landscape)"),q=()=>{if(st.matches)return c;if(tt.matches)return n;if(I.matches)return i;if(T.matches)return r;return e};this.set(_,A.matches),this.set(K,M.matches?s:t),this.set(U,q()),this.set(kt,et.matches?l:f),A.addEventListener("change",(S)=>this.set(_,S.matches)),M.addEventListener("change",(S)=>this.set(K,S.matches?s:t)),T.addEventListener("change",()=>this.set(U,q())),I.addEventListener("change",()=>this.set(U,q())),tt.addEventListener("change",()=>this.set(U,q())),st.addEventListener("change",()=>this.set(U,q())),et.addEventListener("change",(S)=>this.set(K,S.matches?l:f))}}xt.define("media-context");class Gt extends a{connectedCallback(){let t=this.querySelector("input-field");this.first("form").on("submit",(s)=>{s.preventDefault(),queueMicrotask(()=>{let e=t?.get("value")?.trim();if(e)this.self.emit("add-todo",e),t?.clear()})}),this.first("input-button").pass({disabled:()=>t?.get("empty")})}}Gt.define("todo-form");class Qt extends a{static states={tasks:[],filter:"all"};connectedCallback(){super.connectedCallback(),this.#t(),this.self.on("click",(t)=>{let s=t.target;if(s.localName==="button")this.removeItem(s)}).sync(C("filter")),this.set("count",()=>{let t=this.get("tasks").map((r)=>r.signals.get("checked")),s=t.filter((r)=>r?.get()).length,e=t.length;return{active:e-s,completed:s,total:e}})}addItem=(t)=>{let s=this.querySelector("ol"),e=this.querySelector("template")?.content.cloneNode(!0),r=e.querySelector("span");if(s&&e&&r)r.textContent=t,s.appendChild(e),this.#t()};removeItem=(t)=>{t.closest("li")?.remove(),this.#t()};clearCompleted=()=>{this.get("tasks").filter((t)=>t.get("checked")).forEach((t)=>t.parentElement?.remove()),this.#t()};#t(){this.set("tasks",Array.from(this.querySelectorAll("input-checkbox")))}}Qt.define("todo-list");class vt extends a{static states={active:0};connectedCallback(){super.connectedCallback(),this.first(".count").sync(h("active"));let t=(s)=>u("ariaHidden",()=>s(this.get("active")));this.first(".singular").sync(t((s)=>s>1)),this.first(".plural").sync(t((s)=>s===1)),this.first(".remaining").sync(t((s)=>!s)),this.first(".all-done").sync(t((s)=>!!s))}}vt.define("todo-count");class Yt extends a{connectedCallback(){let t=this.querySelector("todo-list");this.self.on("add-todo",(s)=>{t?.addItem(s.detail)}),this.first("todo-count").pass({active:()=>(t?.get("count")).active}),this.first("todo-list").pass({filter:()=>this.querySelector("input-radiogroup")?.get("value")}),this.first(".clear-completed").on("click",()=>t?.clearCompleted()).pass({disabled:()=>!(t?.get("count")).completed})}}Yt.define("todo-app");class Xt extends a{connectedCallback(){this.set("total",()=>Array.from(this.querySelectorAll("spin-button")).reduce((t,s)=>t+(s.get("count")??0),0)),this.first("badge-button").pass({badge:()=>{let t=this.get("total");return typeof t==="number"&&t>0?String(t):""}})}}Xt.define("product-catalog");class Ht extends a{connectedCallback(){this.first(".badge").sync(h("badge"))}}Ht.define("badge-button");class pt extends a{static observedAttributes=["count"];static states={count:W};connectedCallback(){let t=this.getAttribute("zero-label")||"Add to Cart",s=this.getAttribute("increment-label")||"Increment",e=this.getAttribute("max")?parseInt(this.getAttribute("max")):9;this.set("isZero",()=>this.get("count")===0),this.first(".count").sync(h("count"),b("hidden","isZero")),this.first(".decrement").on("click",()=>{this.set("count",(r)=>r!=null&&r>0?--r:0)}).sync(b("hidden","isZero")),this.first(".increment").on("click",()=>{this.set("count",(r)=>r!=null?++r:1)}).sync(h(()=>this.get("isZero")?t:"+"),u("ariaLabel",()=>this.get("isZero")?t:s),b("disabled",()=>this.get("count")>=e))}}pt.define("spin-button");
