var $=(t)=>typeof t==="function",Pt=(t)=>$(t)&&t.constructor.name==="AsyncFunction",mt=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`,Ht=(t)=>t instanceof Error,it=(t)=>t instanceof DOMException&&t.name==="AbortError",It=(t)=>t instanceof Promise,Z=(t)=>Ht(t)?t:Error(String(t));class lt extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var O,V=new Set,st=0,ct=new Map,Y,gt=()=>{Y=void 0;let t=Array.from(ct.values());ct.clear();for(let e of t)e()},Ot=()=>{if(Y)cancelAnimationFrame(Y);Y=requestAnimationFrame(gt)};queueMicrotask(gt);var ft=(t)=>{if(O&&!t.has(O)){let e=O;t.add(e),O.cleanups.add(()=>{t.delete(e)})}},K=(t)=>{for(let e of t)if(st)V.add(e);else e()},ht=()=>{while(V.size){let t=Array.from(V);V.clear();for(let e of t)e()}},bt=(t)=>{st++;try{t()}finally{ht(),st--}},Et=(t,e)=>{let o=O;O=e;try{t()}finally{O=o}},J=(t,e=[])=>new Promise((o,r)=>{ct.set(e,()=>{try{o(t())}catch(n){r(n)}}),Ot()});function et(t){let{signals:e,ok:o,err:r=console.error,nil:n=()=>{}}=$(t)?{signals:[],ok:t}:t,s=!1,i=()=>Et(()=>{if(s)throw new lt("effect");s=!0;let a=void 0;try{a=Tt({signals:e,ok:o,err:r,nil:n})}catch(l){r(Z(l))}if($(a))i.cleanups.add(a);s=!1},i);return i.cleanups=new Set,i(),()=>{i.cleanups.forEach((a)=>a()),i.cleanups.clear()}}var yt="Computed",$t=(t,e)=>{if(!e)return!1;return t.name===e.name&&t.message===e.message},N=(t)=>{let e=new Set,o=$(t)?void 0:{nil:()=>v,err:(...h)=>{if(h.length>1)throw new AggregateError(h);else throw h[0]},...t},r=o?o.ok:t,n=v,s,i=!0,a=!1,l=!1,c,d=(h)=>{if(!Object.is(h,n))n=h,i=!1,s=void 0,a=!0},f=()=>{a=v!==n,n=v,s=void 0},b=(h)=>{let U=Z(h);a=!$t(U,s),n=v,s=U},M=(h)=>{if(l=!1,c=void 0,d(h),a)K(e)},T=(h)=>{if(l=!1,c=void 0,b(h),a)K(e)},C=()=>{l=!1,c=void 0,z()},A=()=>{if(i=!0,c?.abort("Aborted because source signal changed"),e.size){if(a)K(e)}else A.cleanups.forEach((h)=>h()),A.cleanups.clear()};A.cleanups=new Set;let z=()=>Et(()=>{if(l)throw new lt("computed");if(a=!1,Pt(r)){if(c)return n;if(c=new AbortController,o)o.abort=o.abort instanceof AbortSignal?AbortSignal.any([o.abort,c.signal]):c.signal;c.signal.addEventListener("abort",C,{once:!0})}let h;l=!0;try{h=o&&o.signals.length?Tt(o):r(c?.signal)}catch(U){it(U)?f():b(U),l=!1;return}if(It(h))h.then(M,T);else if(h==null||v===h)f();else d(h);l=!1},A),q={[Symbol.toStringTag]:yt,get:()=>{if(ft(e),ht(),i)z();if(s)throw s;return n},map:(h)=>N({signals:[q],ok:h}),tap:(h)=>et({signals:[q],...$(h)?{ok:h}:h})};return q},St=(t)=>mt(t,yt),wt="State",w=(t)=>{let e=new Set,o=t,r={[Symbol.toStringTag]:wt,get:()=>{return ft(e),o},set:(n)=>{if(Object.is(o,n))return;if(o=n,K(e),v===o)e.clear()},update:(n)=>{r.set(n(o))},map:(n)=>N({signals:[r],ok:n}),tap:(n)=>et({signals:[r],...$(n)?{ok:n}:n})};return r},tt=(t)=>mt(t,wt),v=Symbol(),ot=(t)=>tt(t)||St(t),Nt=(t)=>$(t)&&t.length<2,Mt=(t)=>ot(t)?t:Nt(t)?N(t):w(t),Tt=(t)=>{let{signals:e,abort:o,ok:r,err:n,nil:s}=t,i=[],a=!1,l=e.map((c)=>{try{let d=c.get();if(d===v)a=!0;return d}catch(d){if(it(d))throw d;i.push(Z(d))}});try{return a?s(o):i.length?n(...i):r(...l)}catch(c){if(it(c))throw c;let d=Z(c);return n(d)}},x=(t)=>typeof t==="function",vt=(t)=>!!t&&typeof t==="object",D=(t)=>typeof t==="string",I=!1,kt="debug";var jt="warn",W="error",Rt=(t)=>t?`#${t}`:"",qt=(t)=>t.length?`.${Array.from(t).join(".")}`:"",S=(t)=>`<${t.localName}${Rt(t.id)}${qt(t.classList)}>`,B=(t)=>D(t)?`"${t}"`:vt(t)?JSON.stringify(t):String(t),nt=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},P=(t,e,o=kt)=>{if(I||[W,jt].includes(o))console[o](e,t);return t},Jt=(t)=>t.nodeType===Node.ELEMENT_NODE,Dt=(t)=>t instanceof HTMLElement&&t.localName.includes("-"),dt=(t,e,o)=>{let r=t.filter(x).map((n)=>n(e,o));return()=>{r.filter(x).forEach((n)=>n()),r.length=0}},u=(t,...e)=>(o)=>{let r=(o.shadowRoot||o).querySelector(t);if(r)dt(e,o,r)},y=(t,...e)=>(o)=>{let r=new Map,n=o.shadowRoot||o,s=(c)=>{if(!r.has(c))r.set(c,dt(e,o,c))},i=(c)=>{let d=r.get(c);if(x(d))d();r.delete(c)},a=(c)=>(d)=>{if(Jt(d)){if(d.matches(t))c(d);d.querySelectorAll(t).forEach(c)}},l=new MutationObserver((c)=>{for(let d of c)d.addedNodes.forEach(a(s)),d.removedNodes.forEach(a(i))});return l.observe(n,{childList:!0,subtree:!0}),n.querySelectorAll(t).forEach(s),()=>{l.disconnect(),r.forEach((c)=>c()),r.clear()}},p=(t,e)=>(o,r=o)=>{if(!x(e))throw new TypeError(`Invalid event listener provided for "${t} event on element ${S(r)}`);return r.addEventListener(t,e),()=>r.removeEventListener(t,e)},rt=(t,e)=>(o,r=o)=>{r.dispatchEvent(new CustomEvent(t,{detail:x(e)?e(r):e,bubbles:!0}))},Lt=(t)=>(e,o)=>{let r=o.localName;if(!Dt(o))throw new TypeError("Target element must be a custom element");let n=x(t)?t(o):t;if(!vt(n))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(r).then(()=>{for(let[s,i]of Object.entries(n)){let a=D(i)?e.getSignal(s):Mt(i);o.setSignal(s,a)}}).catch((s)=>{throw new Error(`Failed to pass signals to ${S(o)}}`,{cause:s})})},L=Symbol(),Ft=new Set(Object.getOwnPropertyNames(HTMLElement.prototype)),_t=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"]),at=(t)=>x(t)&&t.length>=2,Gt=(t)=>!(Ft.has(t)||_t.has(t)),m=(t,e={},o)=>{class r extends HTMLElement{debug;#t={};#e;static observedAttributes=Object.entries(e)?.filter(([,n])=>at(n)).map(([n])=>n)??[];constructor(){super();for(let[n,s]of Object.entries(e)){if(s==null)continue;let i=at(s)?s(this,null):x(s)?s(this):s;if(i!=null)this.setSignal(n,Mt(i))}}connectedCallback(){if(I){if(this.debug=this.hasAttribute("debug"),this.debug)P(this,"Connected")}let n=o(this);if(!Array.isArray(n))throw new TypeError(`Expected array of functions as return value of setup function in ${S(this)}`);this.#e=dt(n,this,this)}disconnectedCallback(){if(x(this.#e))this.#e();if(I&&this.debug)P(this,"Disconnected")}attributeChangedCallback(n,s,i){if(i===s||St(this.#t[n]))return;let a=e[n];if(!at(a))return;let l=a(this,i,s);if(I&&this.debug)P(i,`Attribute "${n}" of ${S(this)} changed from ${B(s)} to ${B(i)}, parsed as <${nt(l)}> ${B(l)}`);this[n]=l}getSignal(n){let s=this.#t[n];if(I&&this.debug)P(s,`Get ${nt(s)} "${String(n)}" in ${S(this)}`);return s}setSignal(n,s){if(!Gt(String(n)))throw new TypeError(`Invalid property name "${String(n)}". Property names must be valid JavaScript identifiers and not conflict with inherited HTMLElement properties.`);if(!ot(s))throw new TypeError(`Expected signal as value for property "${String(n)}" on ${S(this)}.`);let i=this.#t[n],a=tt(s);if(this.#t[n]=s,Object.defineProperty(this,n,{get:s.get,set:a?s.set:void 0,enumerable:!0,configurable:a}),i&&tt(i))i.set(v);if(I&&this.debug)P(s,`Set ${nt(s)} "${String(n)} in ${S(this)}`)}}return customElements.define(t,r),r},pt="context-request";var At=(t)=>(e)=>{let o=(r)=>{let{context:n,callback:s}=r;if(t.includes(n)&&x(s))r.stopPropagation(),s(e.getSignal(String(n)))};return e.addEventListener(pt,o),()=>e.removeEventListener(pt,o)};var zt=(t,e)=>{if(e==null)return;let o=t(e);return Number.isFinite(o)?o:void 0},F=(t,e)=>e!=="false"&&e!=null,H=(t=0)=>(e,o)=>zt(parseInt,o)??t;var k=(t="")=>(e,o)=>o??t;var xt=(t,e,o)=>D(t)?e.getSignal(t).get():ot(t)?t.get():x(t)?t(o):L,Ut=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let e=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(e.protocol)}catch(e){return!1}return!0},Bt=(t,e,o)=>{if(/^on/i.test(e))throw new Error(`Unsafe attribute: ${e}`);if(o=String(o).trim(),!Ut(o))throw new Error(`Unsafe URL for ${e}: ${o}`);t.setAttribute(e,o)},_=(t,e)=>(o,r)=>{let{op:n,read:s,update:i}=e,a=s(r),l={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"},c="";if(D(t)&&D(a)&&o[t]===L)o.attributeChangedCallback(t,null,a);let d=(b)=>()=>{if(I&&o.debug)P(r,`${b} ${l[n]+c} of ${S(r)} in ${S(o)}`);e.resolve?.(r)},f=(b)=>(M)=>{P(M,`Failed to ${b} ${l[n]+c} of ${S(r)} in ${S(o)}`,W),e.reject?.(M)};return et(()=>{let b=L;try{b=xt(t,o,r)}catch(M){P(M,`Failed to resolve value of ${B(t)} for ${l[n]+c} of ${S(r)} in ${S(o)}`,W);return}if(b===L)b=a;else if(b===v)b=e.delete?null:a;if(e.delete&&b===null)J(()=>{return c=e.delete(r),!0},[r,n]).then(d("Deleted")).catch(f("delete"));else if(b!=null){let M=s(r);if(Object.is(b,M))return;J(()=>{return c=i(r,b),!0},[r,n]).then(d("Updated")).catch(f("update"))}})},j=(t,e)=>(o,r)=>{let n=(i)=>()=>{if(I&&o.debug)P(r,`${i} element in ${S(r)} in ${S(o)}`);if(x(e?.resolve))e.resolve(r);else{let a=ot(t)?t:D(t)?o.getSignal(t):void 0;if(tt(a))a.set(0)}},s=(i)=>(a)=>{P(a,`Failed to ${i} element in ${S(r)} in ${S(o)}`,W),e?.reject?.(a)};return et(()=>{let i=0;try{i=xt(t,o,r)}catch(a){P(a,`Failed to resolve value of ${B(t)} for insertion or deletion in ${S(r)} in ${S(o)}`,W);return}if(i===L)i=0;if(i>0){if(!e)throw new TypeError("No inserter provided");J(()=>{for(let a=0;a<i;a++){let l=e.create(r);if(!l)continue;r.insertAdjacentElement(e.position??"beforeend",l)}return!0},[r,"i"]).then(n("Inserted")).catch(s("insert"))}else if(i<0)J(()=>{if(e&&(e.position==="afterbegin"||e.position==="beforeend"))for(let a=0;a>i;a--)if(e.position==="afterbegin")r.firstElementChild?.remove();else r.lastElementChild?.remove();else r.remove();return!0},[r,"r"]).then(n("Removed")).catch(s("remove"))})},E=(t)=>_(t,{op:"t",read:(e)=>e.textContent,update:(e,o)=>{return Array.from(e.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),e.append(document.createTextNode(o)),""}}),g=(t,e=t)=>_(e,{op:"p",read:(o)=>(t in o)?o[t]:v,update:(o,r)=>{return o[t]=r,String(t)}}),R=(t,e=t)=>_(e,{op:"a",read:(o)=>o.getAttribute(t),update:(o,r)=>{return Bt(o,t,r),t},delete:(o)=>{return o.removeAttribute(t),t}}),G=(t,e=t)=>_(e,{op:"a",read:(o)=>o.hasAttribute(t),update:(o,r)=>{return o.toggleAttribute(t,r),t}}),Q=(t,e=t)=>_(e,{op:"c",read:(o)=>o.classList.contains(t),update:(o,r)=>{return o.classList.toggle(t,r),t}});var Ct=(t,e,o)=>_(t,{op:"h",read:(r)=>(r.shadowRoot||!e?r:null)?.innerHTML??"",update:(r,n)=>{if(!n){if(r.shadowRoot)r.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!r.shadowRoot)r.attachShadow({mode:e});let s=r.shadowRoot||r;if(s.innerHTML=n,!o)return"";return s.querySelectorAll("script").forEach((i)=>{let a=document.createElement("script");a.appendChild(document.createTextNode(i.textContent??"")),s.appendChild(a),i.remove()})," with scripts"}});var le=m("hello-world",{name:L},(t)=>[u("span",E("name")),u("input",p("input",(e)=>{t.name=e.target?.value||L}))]);var pe=m("my-counter",{count:H()},(t)=>[u(".count",E("count")),u(".parity",E(()=>t.count%2?"odd":"even")),u(".increment",p("click",()=>{t.count++})),u(".decrement",p("click",()=>{t.count--}))]);var fe=m("my-slider",{},(t)=>{let e=w(0),o=t.querySelectorAll(".slide").length,r=(n)=>String(e.get())===n.dataset.index;return[u(".prev",p("click",()=>{e.update((n)=>(n-1+o)%o)})),u(".next",p("click",()=>{e.update((n)=>(n+1+o)%o)})),y(".slide",Q("active",r)),y(".dots span",Q("active",r))]});var Ee=m("input-button",{disabled:F,label:k(L),badge:k(L)},()=>[u("button",g("disabled")),u(".label",E("label")),u(".badge",E("badge"))]);var we=m("input-checkbox",{checked:F,label:k(L)},(t)=>[G("checked"),u("input",g("checked"),p("change",(e)=>{t.checked=e.target?.checked})),u(".label",E("label"))]);var ve=m("input-radiogroup",{value:k()},(t)=>[R("value"),y("input",p("change",(e)=>{t.value=e.target?.value})),y("label",Q("selected",(e)=>t.value===e.querySelector("input")?.value))]);var ut=(t)=>typeof t==="number",X=(t,e=!1,o=0)=>{if(!t)return o;let r=e?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:o},Wt=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},Qt=(t,e)=>{let o=t.querySelector("input");return o&&o.type==="number"?X(e,t.hasAttribute("integer"),0):e??""},xe=m("input-field",{value:Qt,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let e=t.querySelector("input");if(e)e.value="",e.checkValidity(),e.focus()}}},(t)=>{let e=[],o=t.querySelector("input");if(!o)throw new Error("No input element found");let r=o.type==="number",n=t.hasAttribute("integer"),s=t.getAttribute("validate"),i=(c)=>{let d=typeof c==="function"?c(t.value):r&&!ut(c)?X(c,n,0):c;if(Object.is(t.value,d))return;if(d!==null&&s)fetch(`${s}?name=${o.name}value=${d}`).then(async(f)=>{let b=await f.text();o.setCustomValidity(b),t.error=b}).catch((f)=>{t.error=f.message});if(o.checkValidity(),t.value=d,t.error=o.validationMessage??"",o?.value!==String(c))rt("value-change",c)(t)};if(e.push(u("input",g("value",()=>String(t.value)),p("change",()=>{i(r?o.valueAsNumber??0:o.value??"")}),p("input",()=>{t.length=o.value.length??0}))),r){let c=t.querySelector(".spinbutton"),d=X(c?.dataset.step||o.step,n,1),f=X(o.min,n,0),b=X(o.max,n,100),M=(T)=>{if(!Number.isFinite(T)||T<f)return f;if(T>b)return b;let C=f+Math.round((T-f)/d)*d;return n?Math.round(C):parseFloat(C.toFixed(Wt(d)))};if(e.push(u("input",p("keydown",(T)=>{let{key:C,shiftKey:A}=T;if(["ArrowUp","ArrowDown"].includes(C)){T.stopPropagation(),T.preventDefault();let z=A?d*10:d,q=M(o.valueAsNumber+(C==="ArrowUp"?z:-z));o.value=String(q),i(q)}}))),c)e.push(u(".decrement",p("click",(T)=>{let C=T.shiftKey?d*10:d,A=M(o.valueAsNumber-C);o.value=String(A),i(A)}),g("disabled",()=>(ut(f)?t.value:0)-d<f)),u(".increment",p("click",(T)=>{let C=T.shiftKey?d*10:d,A=M(o.valueAsNumber+C);o.value=String(A),i(A)}),g("disabled",()=>(ut(b)?t.value:0)+d>b)))}else e.push(u(".clear",p("click",()=>{t.clear(),i("")}),g("hidden",()=>!t.length)));let a=t.querySelector(".error")?.id;e.push(u(".error",E("error")),u("input",g("ariaInvalid",()=>t.error?"true":"false"),R("aria-errormessage",()=>t.error&&a?a:v)));let l=t.querySelector(".description");if(l){let c=o.maxLength,d=c&&l.dataset.remaining;if(d)t.setSignal("description",N(()=>d.replace("${x}",String(c-t.length))));e.push(u(".description",E("description")),u("input",R("aria-describedby",()=>t.description&&l.id?l.id:v)))}return e});var He=m("code-block",{collapsed:F},(t)=>{let e=t.querySelector("code");return[G("collapsed"),u(".overlay",p("click",()=>{t.collapsed=!1})),u(".copy",p("click",async(o)=>{let r=o.currentTarget,n=r.textContent?.trim()??"",s="success";try{await navigator.clipboard.writeText(e?.textContent?.trim()??"")}catch(i){console.error("Error when trying to use navigator.clipboard.writeText()",i),s="error"}r.disabled=!0,r.label=t.getAttribute(`copy-${s}`)??n,setTimeout(()=>{r.disabled=!1,r.label=n},s==="success"?1000:3000)}))]});var Xt=(t,e)=>(o)=>{if(!(o instanceof KeyboardEvent))throw new TypeError("Event is not a KeyboardEvent");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)){switch(o.preventDefault(),o.key){case"ArrowLeft":case"ArrowUp":e=e<1?t.length-1:e-1;break;case"ArrowRight":case"ArrowDown":e=e>=t.length-1?0:e+1;break;case"Home":e=0;break;case"End":e=t.length-1;break}if(t[e])t[e].focus()}},$e=m("tab-group",{selected:""},(t)=>{t.selected=t.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls")??"";let e=(n)=>t.selected===n.getAttribute("aria-controls"),o=Array.from(t.querySelectorAll('[role="tab"]')),r=0;return[u('[role="tablist"]',p("keydown",Xt(o,r))),y('[role="tab"]',p("click",(n)=>{t.selected=n.currentTarget.getAttribute("aria-controls")??"",r=o.findIndex((s)=>e(s))}),g("ariaSelected",(n)=>String(e(n))),g("tabIndex",(n)=>e(n)?0:-1)),y('[role="tabpanel"]',g("hidden",(n)=>t.selected!==n.id))]});var Vt=(t,e)=>{let o="",r="";if(!e)r="No URL provided in src attribute";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${e}"]`))r="Recursive loading detected";else{let n=new URL(e,location.href);if(n.origin===location.origin)o=String(n);else r="Invalid URL origin"}return t.error=r,o},Yt=(t)=>async(e)=>{let o=t.src;if(!o)return"";try{let r=await fetch(o,{signal:e});if(t.querySelector(".loading")?.remove(),r.ok)return r.text();else t.error=r.statusText}catch(r){t.error=r.message}return""},je=m("lazy-load",{error:"",src:Vt,content:Yt},(t)=>[Ct("content"),u(".error",E("error"),g("hidden",()=>!t.error))]);var Kt="media-motion",Zt="media-theme",te="media-viewport",ee="media-orientation",oe=()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),e=w(t.matches);return t.addEventListener("change",(o)=>{e.set(o.matches)}),e},re=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),e=w(t.matches?"dark":"light");return t.addEventListener("change",(o)=>{e.set(o.matches?"dark":"light")}),e},ne=(t)=>{let e=(l,c)=>{let f=t.getAttribute(l)?.trim();if(!f)return c;let b=f.match(/em$/)?"em":"px",M=parseFloat(f);return Number.isFinite(M)?M+b:c},o=matchMedia(`(min-width: ${e("sm","32em")})`),r=matchMedia(`(min-width: ${e("md","48em")})`),n=matchMedia(`(min-width: ${e("lg","72em")})`),s=matchMedia(`(min-width: ${e("xl","104em")})`),i=()=>s.matches?"xl":n.matches?"lg":r.matches?"md":o.matches?"sm":"xs",a=w(i());return o.addEventListener("change",()=>{a.set(i())}),r.addEventListener("change",()=>{a.set(i())}),n.addEventListener("change",()=>{a.set(i())}),s.addEventListener("change",()=>{a.set(i())}),a},ae=()=>{let t=matchMedia("(orientation: landscape)"),e=w(t.matches?"landscape":"portrait");return t.addEventListener("change",(o)=>{e.set(o.matches?"landscape":"portrait")}),e},Je=m("media-context",{"media-motion":oe,"media-theme":re,"media-viewport":ne,"media-orientation":ae},()=>[At([Kt,Zt,te,ee])]);var _e=m("todo-app",{},(t)=>{let e=t.querySelector("input-field");if(!e)throw new Error("No input field found");let o=t.querySelector("template");if(!o)throw new Error("No template found");let r=Array.from(t.querySelectorAll("input-checkbox")),n=w(r.length),s=w(r.filter((d)=>d.checked).length),i=N(()=>n.get()-s.get()),a=w(!1),l=()=>{s.set(r.filter((d)=>d.checked).length)},c=()=>{r=Array.from(t.querySelectorAll("input-checkbox")),bt(()=>{n.set(r.length),l()})};return[u(".submit",g("disabled",()=>!e.length)),u("form",p("submit",(d)=>{d.preventDefault(),queueMicrotask(()=>{if(e.value.toString().trim())a.set(!0);J(()=>{c(),e.clear()},[e,"p:value"])})})),u("ol",R("filter",()=>t.querySelector("input-radiogroup")?.value??"all"),j(()=>a.get()?1:0,{create:()=>{let d=document.importNode(o.content,!0).firstElementChild;return d?.querySelector("slot")?.replaceWith(String(e.value)),d},resolve:()=>{c(),a.set(!1)}}),p("click",(d)=>{let f=d.target;if(f.localName==="button")f.closest("li")?.remove(),c()}),p("change",()=>{l()})),u(".count",E(()=>String(i.get()))),u(".singular",g("hidden",()=>i.get()>1)),u(".plural",g("hidden",()=>i.get()===1)),u(".remaining",g("hidden",()=>!i.get())),u(".all-done",g("hidden",()=>!!i.get())),u(".clear-completed",g("disabled",()=>!s.get()),g("badge",()=>s.get()>0?String(s.get()):""),p("click",()=>{r.filter((d)=>d.checked).forEach((d)=>d.parentElement?.remove()),c()}))]});var ie=(t)=>()=>Array.from(t.querySelectorAll("spin-button")).reduce((e,o)=>e+o.value,0),Ue=m("product-catalog",{total:ie},(t)=>[u("input-button",Lt({badge:()=>t.total>0?String(t.total):""}))]);var Qe=m("spin-button",{value:H()},(t)=>{let e=t.getAttribute("zero-label")||"Add to Cart",o=t.getAttribute("increment-label")||"Increment",r=H(9)(t,t.getAttribute("max")),n=()=>t.value===0;return[u(".value",E("value"),g("hidden",n)),u(".decrement",g("hidden",n),p("click",()=>{t.value--})),y("button",p("keydown",(s)=>{let{key:i}=s;if(["ArrowUp","ArrowDown","-","+"].includes(i)){if(s.stopPropagation(),s.preventDefault(),i==="ArrowDown"||i==="-")t.value--;if(i==="ArrowUp"||i==="+")t.value++}})),u(".increment",E(()=>n()?e:"+"),g("ariaLabel",()=>n()?e:o),G("disabled",()=>t.value>=r),p("click",()=>{t.value++}))]});var Ye=m("rating-stars",{value:H()},(t)=>{let e=(o)=>parseInt(o.dataset.key||"0");return[y("input",g("checked",(o)=>t.value===e(o)),p("change",(o)=>{o.stopPropagation();let r=parseInt(o.currentTarget?.value)+1;t.value=r,rt("change-rating",r)(t)})),y(".label",E((o)=>e(o)<=t.value?"\u2605":"\u2606"))]});var to=m("rating-feedback",{},(t)=>{let e=w(0),o=w(!0),r=w(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let s=(i)=>e.get()!==parseInt(i.dataset.key||"0");return[p("change-rating",(i)=>{e.set(i.detail)}),p("submit",(i)=>{i.preventDefault(),r.set(!0),console.log("Feedback submitted")}),u(".hide",p("click",()=>{let i=t.querySelector(".feedback");if(i)i.hidden=!0})),u("textarea",p("input",(i)=>{o.set(i.target?.value.trim()==="")})),u(".feedback",g("hidden",()=>r.get()||!e.get())),y(".feedback p",g("hidden",s)),u("input-button",g("disabled",o))]});var no=m("calc-table",{columns:H(),rows:H()},(t)=>{let o=t.querySelector(".calc-table-row"),r=t.querySelector(".calc-table-colhead"),n=t.querySelector(".calc-table-cell");if(!o||!r||!n)throw new Error("Missing template elements");let s=new Map;for(let a=0;a<t.columns;a++)s.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a],w(Array.from({length:t.rows}).map(()=>0)));let i=(a)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${a}"]`)).map((l)=>Number.isFinite(l.valueAsNumber)?l.valueAsNumber:0)};return[u("tbody",j((a)=>t.rows-a.querySelectorAll("tr").length,{create:(a)=>{let l=document.importNode(o.content,!0).firstElementChild;if(!(l instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${l}`);let c=String(a.querySelectorAll("tr").length+1);return l.dataset.key=c,l.querySelector("slot")?.replaceWith(document.createTextNode(c)),l},resolve:()=>{for(let[a,l]of s)l.set(i(a))}})),u("thead tr",j((a)=>t.columns-(a.querySelectorAll("th").length-1),{create:(a)=>{let l=document.importNode(r.content,!0).firstElementChild;if(!(l instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${l}`);let c="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a.querySelectorAll("th").length-1];return s.set(c,w(Array.from({length:t.rows}).map(()=>0))),l.querySelector("slot")?.replaceWith(document.createTextNode(c)),l}})),y("tbody tr",j((a)=>t.columns-a.querySelectorAll("td").length,{create:(a)=>{let l=document.importNode(n.content,!0).firstElementChild;if(!(l instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${l}`);let c=a.dataset.key,d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a.querySelectorAll("td").length],f=l.querySelector("input");if(!f)throw new Error("No input found in cell template");return f.dataset.key=d,l.querySelector("slot")?.replaceWith(document.createTextNode(`${d}${c}`)),l}})),u("tfoot tr",j((a)=>t.columns-a.querySelectorAll("td").length,{create:(a)=>{let l=document.createElement("td"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a.querySelectorAll("td").length];return l.dataset.key=c,l}})),y("tbody input",p("change",(a)=>{let l=a.target?.dataset.key;s.get(l)?.set(i(l))})),y("tfoot td",E((a)=>String(s.get(a.dataset.key)?.get().reduce((l,c)=>l+c,0)??0)))]});
