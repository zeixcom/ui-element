var $=(t)=>typeof t==="function",Lt=(t)=>$(t)&&/^async\s+/.test(t.toString()),E=(t)=>(s)=>s instanceof t,rt=E(Error),Xt=E(Promise),at="Computed",O=(t,s)=>{s=s??Lt(t);let e=[],r,i=null,a=!0,c=()=>{if(a=!0,s)ht(e)},l={[Symbol.toStringTag]:at,get:()=>{if(s)ct(e);if(!s||a)ut(()=>{let f=(o)=>{r=o,a=!1,i=null},K=(o)=>{i=rt(o)?o:new Error(`Computed function failed: ${o}`)};try{let o=t(r);Xt(o)?o.then(f).catch(K):f(o)}catch(o){K(o)}},c);if(rt(i))throw i;return r},map:(f)=>O(()=>f(l.get()))};return l},pt=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===at,F,Wt=!1,zt=[],N=(t)=>R(t)||pt(t),nt=(t,s=!1)=>N(t)?t:$(t)?O(t,s):Ht(t),ct=(t)=>{if(F&&!t.includes(F))t.push(F)},ht=(t)=>t.forEach((s)=>Wt?zt.push(s):s()),ut=(t,s)=>{let e=F;F=s,t(),F=e};var B=Symbol();class D{$;watchers=[];constructor(t){this.value=t}get(){return ct(this.watchers),this.value}set(t){if(B!==t){let s=$(t)?t(this.value):t;if(Object.is(this.value,s))return;this.value=s}if(ht(this.watchers),B===t)this.watchers=[]}map(t){return O(()=>t(this.get()))}}var Ht=(t)=>new D(t),R=E(D),x=(t)=>{let s=()=>ut(()=>{try{t()}catch(e){console.error(e)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var L=new Map,Q=[],X,lt=()=>{X=null,Q.forEach((t)=>t()),Q=[],L.clear()},Kt=()=>{if(X)cancelAnimationFrame(X);X=requestAnimationFrame(lt)};queueMicrotask(lt);var m=(t,s)=>new Promise((e,r)=>{let i=()=>{try{e(t())}catch(a){r(a)}};if(s){let[a,c]=s;if(!L.has(a))L.set(a,new Map);let l=L.get(a);if(l.has(c)){let f=Q.indexOf(t);if(f>-1)Q.splice(f,1)}l.set(c,i)}Q.push(i),Kt()});var Nt=(t)=>t.nodeType===Node.COMMENT_NODE,Bt=(t)=>!/^on/i.test(t),Rt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let s=new URL(t,window.location.origin);return!["http:","https:","ftp:"].includes(s.protocol)}catch(s){return!0}return!0},Vt=(t,s,e)=>{if(!Bt(s))throw new Error(`Unsafe attribute: ${s}`);if(e=String(e).trim(),!Rt(e))throw new Error(`Unsafe URL for ${s}: ${e}`);t.setAttribute(s,e)};var $t=(t)=>m(()=>{return t.remove(),null},[t,"r"]),Et=(t,s)=>m(()=>{return Array.from(t.childNodes).filter((e)=>!Nt(e)).forEach((e)=>e.remove()),t.append(document.createTextNode(s)),t},[t,"t"]),Ot=(t,s,e)=>m(()=>{return Vt(t,s,e),t},[t,`a:${s}`]),Dt=(t,s)=>m(()=>{return t.removeAttribute(s),t},[t,`a:${s}`]),Pt=(t,s,e)=>m(()=>{return t.toggleAttribute(s,e),t},[t,`a:${s}`]),_t=(t,s,e)=>m(()=>{return t.classList.toggle(s,e),t},[t,`c:${s}`]);var J=(t)=>typeof t==="function",ft=(t)=>!!t&&typeof t==="object",Mt=(t)=>typeof t==="number",k=(t)=>typeof t==="string",At=(t)=>typeof t==="symbol",Tt=(t)=>k(t)||At(t)||Mt(t),d=!1,It="debug";var ts="warn",v="error",ss=(t)=>t?`#${t}`:"",es=(t)=>t.length?`.${Array.from(t).join(".")}`:"",G=(t)=>`<${t.localName}${ss(t.id)}${es(t.classList)}>`,w=(t)=>k(t)?`"${t}"`:ft(t)?JSON.stringify(t):String(t),g=(t,s,e=It)=>{if(d||[v,ts].includes(e))console[e](s,t);return t},rs=(t)=>J(t)&&t.length===2,it=(t,s,e=0)=>rs(t)?t(s,e):t;class p{$;A;constructor(t,s=[t]){this.host=t,this.targets=s}on(t,s){return this.targets.forEach((e,r)=>{let i=it(s,e,r);e.addEventListener(t,i),this.host.listeners.push(()=>e.removeEventListener(t,i))}),this}emit(t,s){return this.targets.forEach((e)=>{e.dispatchEvent(new CustomEvent(t,{detail:s,bubbles:!0}))}),this}pass(t){return this.targets.forEach(async(s,e)=>{if(await n.registry.whenDefined(s.localName),s instanceof n)Object.entries(t).forEach(([r,i])=>{let a=it(i,s,e),c=Tt(a)?this.host.signals.get(a):nt(a,!0);if(c)s.set(r,c);else g(i,`Invalid source for state ${w(r)}`,v)});else g(s,"Target is not a UIElement",v)}),this}sync(...t){return this.targets.forEach((s,e)=>t.forEach((r)=>r(this.host,s,e))),this}}var is=(t,s)=>{if(s==null)return;let e=t(s);return Number.isFinite(e)?e:void 0},V=(t,s,e,r)=>{return(((i)=>J(i)&&!!i.length)(s)?s(e,t,r):e)??s},y=(t)=>t!=="false"&&t!=null,W=(t)=>is(parseInt,t);var ot="context-request";class bt extends Event{$;A;B;constructor(t,s,e=!1){super(ot,{bubbles:!0,composed:!0});this.context=t,this.callback=s,this.subscribe=e}}var as=(t)=>{let s=t.constructor,e=s.consumedContexts||[];setTimeout(()=>{for(let i of e)t.dispatchEvent(new bt(i,(a)=>t.set(String(i),a)))});let r=s.providedContexts||[];if(!r.length)return!1;return t.addEventListener(ot,(i)=>{let{context:a,callback:c}=i;if(!r.includes(a)||!J(c))return;i.stopPropagation(),c(t.signals.get(String(a)))}),!0};class n extends HTMLElement{get ctor(){return this.constructor}static registry=customElements;static states={};static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(n.registry.define(t,this),d)g(t,"Registered custom element")}catch(s){g(s,`Failed to register custom element ${t}`,v)}}signals=new Map;listeners=[];self=new p(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,e){if(e===s)return;if(d&&this.debug)g(`${w(s)} => ${w(e)}`,`Attribute "${t}" of ${G(this)} changed`);this.set(t,V(this,this.ctor.states[t],e,s))}connectedCallback(){if(d){if(this.debug=this.hasAttribute("debug"),this.debug)g(this,"Connected")}Object.entries(this.ctor.states).forEach(([t,s])=>{let e=J(s)?V(this,this.ctor.states[t],this.getAttribute(t)??void 0):s;this.set(t,e,!1)}),as(this)}disconnectedCallback(){if(this.listeners.forEach((t)=>t()),d&&this.debug)g(this,"Disconnected")}adoptedCallback(){if(d&&this.debug)g(this,"Adopted")}has(t){return this.signals.has(t)}get(t){let s=(r)=>!ft(r)?r:J(r)?s(r()):N(r)?s(r.get()):r,e=s(this.signals.get(t));if(d&&this.debug)g(e,`Get current value of state ${w(t)} in ${G(this)}`);return e}set(t,s,e=!0){let r;if(!this.signals.has(t)){if(d&&this.debug)r="Create";this.signals.set(t,nt(s,!0))}else if(e){let i=this.signals.get(t);if(N(s)){if(d&&this.debug)r="Replace";if(this.signals.set(t,s),R(i))i.set(B)}else if(R(i)){if(d&&this.debug)r="Update";i.set(s)}else{g(s,`Computed state ${w(t)} in ${G(this)} cannot be set`,v);return}}else return;if(d&&this.debug)g(s,`${r} state ${w(t)} in ${G(this)}`)}delete(t){if(d&&this.debug)g(t,`Delete state ${w(t)} from ${G(this)}`);return this.signals.delete(t)}first(t){let s=this.root.querySelector(t);return new p(this,s?[s]:[])}all(t){return new p(this,Array.from(this.root.querySelectorAll(t)))}}var Z=(t,s)=>(e,r)=>{let{read:i,update:a}=s,c=i(r);if(k(t)){let l=k(c)?V(e,e.constructor.states[t],c):c;e.set(t,l,!1)}x(()=>{let l=i(r),f=k(t)?e.get(t):J(t)?t(l):void 0;if(!Object.is(f,l)){if(f===null&&s.delete)s.delete(r);else if(f==null&&c)a(r,c);else if(f!=null)a(r,f)}})};var dt=(t)=>Z(t,{read:(s)=>s!=null,update:(s,e)=>e?$t(s):Promise.resolve(null)}),h=(t)=>Z(t,{read:(s)=>s.textContent,update:(s,e)=>Et(s,e)}),u=(t,s=t)=>Z(s,{read:(e)=>(t in e)?e[t]:void 0,update:(e,r)=>e[t]=r}),C=(t,s=t)=>Z(s,{read:(e)=>e.getAttribute(t),update:(e,r)=>Ot(e,t,r),delete:(e)=>Dt(e,t)}),b=(t,s=t)=>Z(s,{read:(e)=>e.hasAttribute(t),update:(e,r)=>Pt(e,t,r)}),j=(t,s=t)=>Z(s,{read:(e)=>e.classList.contains(t),update:(e,r)=>_t(e,t,r)});class gt extends n{connectedCallback(){this.first("span").sync(h("name")),this.first("input").on("input",(t)=>{this.set("name",t.target?.value||void 0)})}}gt.define("hello-world");class yt extends n{static observedAttributes=["count"];static states={count:W};connectedCallback(){this.set("parity",()=>(this.get("count")??0)%2?"odd":"even");let t=(s,e=0)=>()=>{this.set("count",(r)=>r!=null?r+s:e)};this.first(".increment").on("click",t(1,1)),this.first(".decrement").on("click",t(-1)),this.first(".count").sync(h("count")),this.first(".parity").sync(h("parity"))}}yt.define("my-counter");class mt extends n{static states={active:0};connectedCallback(){super.connectedCallback();let t=this.querySelectorAll(".slide").length,s=(r)=>()=>{this.set("active",(i=0)=>(i+r+t)%t)};this.first(".prev").on("click",s(-1)),this.first(".next").on("click",s(1));let e=(r,i,a)=>j("active",()=>this.get("active")===a)(r,i);this.all(".slide").sync(e),this.all(".dots span").sync(e)}}mt.define("my-slider");class wt extends n{static observedAttributes=["disabled"];static states={disabled:y};connectedCallback(){this.first("button").sync(h("label"),u("disabled"))}}wt.define("input-button");class Ct extends n{static observedAttributes=["checked"];static states={checked:y};connectedCallback(){this.first("input").on("change",(t)=>{this.set("checked",Boolean(t.target?.checked))}).sync(u("checked")),this.self.sync(b("checked"))}}Ct.define("input-checkbox");class Ft extends n{static observedAttributes=["value"];connectedCallback(){this.self.sync(C("value")),this.all("input").on("change",(t)=>{this.set("value",t.target?.value)}),this.all("label").sync((t,s)=>j("selected",()=>t.get("value")===s.querySelector("input")?.value)(t,s))}}Ft.define("input-radiogroup");var P=(t)=>typeof t==="number",Y=(t,s=!1,e=0)=>{let r=s?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:e},Jt=(t,s,e,r,i=!1)=>{let a=Math.round((e-s)/r),c=Math.round((t-s)*a/(e-s))/a;c=Math.min(Math.max(c,0),1);let l=c*(e-s)+s;return i?Math.round(l):l};class Zt extends n{static observedAttributes=["value","description"];static states={value:(t,s)=>s.isNumber?Y(t,s.isInteger,0):t};isNumber;isInteger;input=null;step=1;min;max;connectedCallback(){if(this.input=this.querySelector("input"),this.isNumber=(this.input&&this.input.type==="number")??!1,this.isInteger=this.hasAttribute("integer"),this.input&&this.isNumber)this.step=Y(this.input.step,this.isInteger,1),this.min=Y(this.input.min,this.isInteger,0),this.max=Y(this.input.max,this.isInteger,0);if(this.set("value",this.isNumber?this.input?.valueAsNumber:this.input?.value,!1),this.set("length",this.input?.value.length),this.set("empty",()=>!this.get("length")),this.first("input").on("change",()=>{this.#t(this.isNumber?this.input?.valueAsNumber:this.input?.value)}).on("input",()=>{this.set("length",this.input?.value.length)}),this.isNumber)this.first("input").on("keydown",(e)=>{let r=e;if(["ArrowUp","ArrowDown"].includes(r.key)){if(e.stopPropagation(),e.preventDefault(),r.key==="ArrowDown")this.stepDown(r.shiftKey?this.step*10:this.step);if(r.key==="ArrowUp")this.stepUp(r.shiftKey?this.step*10:this.step)}});this.set("ariaInvalid",()=>String(Boolean(this.get("error")))),this.set("aria-errormessage",()=>this.get("error")?this.querySelector(".error")?.id:void 0),this.first(".error").sync(h("error")),this.first("input").sync(u("ariaInvalid"),C("aria-errormessage"));let t=this.querySelector(".description");if(t){let e=this.input?.maxLength,r=e&&t.dataset.remaining,i=t.textContent;this.set("description",r?()=>{let a=this.get("length")??0;return a>0?r.replace("${x}",String(e-a)):i}:i),this.set("aria-describedby",()=>this.get("description")?t.id:void 0),this.first(".description").sync(h("description")),this.first("input").sync(C("aria-describedby"))}let s=this.querySelector(".spinbutton");if(!this.isNumber||!s)this.first(".decrement").on("click",(e)=>{this.stepDown(e.shiftKey?this.step*10:this.step)}).sync(u("disabled",()=>P(this.min)&&(this.get("value")??0-this.step<this.min))),this.first(".increment").on("click",(e)=>{this.stepUp(e.shiftKey?this.step*10:this.step)}).sync(u("disabled",()=>P(this.max)&&(this.get("value")??0+this.step>this.max)));this.first(".clear").on("click",()=>{this.clear(),this.input?.focus()}).sync(j("hidden","empty")),x(()=>{let e=this.get("value"),r=this.getAttribute("validate");if(e&&r)fetch(`${r}?name=${this.input?.name}value=${this.input?.value}`).then(async(i)=>{let a=await i.text();this.input?.setCustomValidity(a),this.set("error",a)}).catch((i)=>this.set("error",i.message));if(this.isNumber&&!P(e))return this.set("value",Y(e,this.isInteger,0));if(this.input&&this.isNumber&&Number.isFinite(e))this.input.value=String(e)})}clear(){if(this.set("value",""),this.set("length",0),this.input)this.input.value="",this.input.focus()}stepUp(t=this.step){if(this.isNumber)this.#t((s)=>Jt(s+t,this.min??0,this.max??100,this.step,this.isInteger))}stepDown(t=this.step){if(this.isNumber)this.#t((s)=>Jt(s-t,this.min??0,this.max??100,this.step,this.isInteger))}#t=(t)=>{if(this.set("value",t),this.set("error",this.input?.validationMessage),typeof t==="function")t=this.get("value");if(this.input?.value!==String(t))this.self.emit("value-change",t)}}Zt.define("input-field");class jt extends n{static observedAttributes=["collapsed"];static states={collapsed:y};connectedCallback(){let t=this.querySelector("code");if(t)this.first(".copy").on("click",async(s)=>{let e=s.currentTarget,r=e.textContent,i="success";try{await navigator.clipboard.writeText(t.textContent??"")}catch(a){console.error("Error when trying to use navigator.clipboard.writeText()",a),i="error"}e.set("disabled",!0),e.set("label",this.getAttribute(`copy-${i}`)),setTimeout(()=>{e.set("disabled",!1),e.set("label",r)},i==="success"?1000:3000)}),this.first(".overlay").on("click",()=>this.set("collapsed",!1)),this.self.sync(b("collapsed"))}}jt.define("code-block");class Ut extends n{static states={open:y,collapsible:y};connectedCallback(){super.connectedCallback(),this.self.sync(b("open"),b("collapsible"),u("ariaHidden",()=>!this.get("open")&&!this.get("collapsible"))),this.first("details").sync(u("open"),u("ariaDisabled",()=>!this.get("collapsible")))}}Ut.define("accordion-panel");class qt extends n{static observedAttributes=["accordion"];static states={active:0,accordion:y};static consumedContexts=["media-viewport"];connectedCallback(){super.connectedCallback(),setTimeout(()=>{if(this.get("media-viewport"))this.set("accordion",()=>["xs","sm"].includes(String(this.get("media-viewport"))))},0),this.self.sync(b("accordion")),this.first("menu").sync(u("ariaHidden","accordion")),this.all("menu button").on("click",(t,s)=>()=>this.set("active",s)).sync((t,s,e)=>u("ariaPressed",()=>this.get("active")===e)(t,s)),this.all("accordion-panel").pass({open:(t,s)=>()=>this.get("active")===s,collapsible:"accordion"})}}qt.define("tab-list");class St extends n{static states={content:"",error:"",loaded:!1};connectedCallback(){super.connectedCallback();let t=this.getAttribute("src");if(t)this.loadContent(t).then(([s,e])=>{this.set("content",e),this.set("error",s),this.set("loaded",!0)});this.first(".loading").sync(dt("loaded")),this.first(".error").sync(h("error")),x(()=>{let s=this.get("content");if(s)m(()=>{this.root.innerHTML=s,this.root.querySelectorAll("script").forEach((e)=>{let r=document.createElement("script");r.appendChild(document.createTextNode(e.textContent??"")),this.root.appendChild(r),e.remove()})},[this.root,"h"])})}async loadContent(t){try{let s=await fetch(t);if(!s.ok)return[s.statusText,""];return["",await s.text()]}catch(s){return[s.message,""]}}}St.define("lazy-load");var z=(t,s)=>{let e=t?.trim();if(!e)return s;let r=e.match(/em$/)?"em":"px",i=parseFloat(e);return Number.isFinite(i)?i+r:s},_="media-motion",H="media-theme",U="media-viewport",Gt="media-orientation";class Qt extends n{static providedContexts=[_,H,U,Gt];connectedCallback(){super.connectedCallback();let t="light",s="dark",e="xs",r="sm",i="md",a="lg",c="xl",l="landscape",f="portrait",o=(()=>({sm:z(this.getAttribute(r),"32em"),md:z(this.getAttribute(i),"48em"),lg:z(this.getAttribute(a),"72em"),xl:z(this.getAttribute(c),"108em")}))(),M=matchMedia("(prefers-reduced-motion: reduce)"),A=matchMedia("(prefers-color-scheme: dark)"),T=matchMedia(`(min-width: ${o.sm})`),I=matchMedia(`(min-width: ${o.md})`),tt=matchMedia(`(min-width: ${o.lg})`),st=matchMedia(`(min-width: ${o.xl})`),et=matchMedia("(orientation: landscape)"),q=()=>{if(st.matches)return c;if(tt.matches)return a;if(I.matches)return i;if(T.matches)return r;return e};this.set(_,M.matches),this.set(H,A.matches?s:t),this.set(U,q()),this.set(Gt,et.matches?l:f),M.addEventListener("change",(S)=>this.set(_,S.matches)),A.addEventListener("change",(S)=>this.set(H,S.matches?s:t)),T.addEventListener("change",()=>this.set(U,q())),I.addEventListener("change",()=>this.set(U,q())),tt.addEventListener("change",()=>this.set(U,q())),st.addEventListener("change",()=>this.set(U,q())),et.addEventListener("change",(S)=>this.set(H,S.matches?l:f))}}Qt.define("media-context");class kt extends n{connectedCallback(){let t=this.querySelector("input-field");this.#t(),this.set("total",()=>this.get("tasks").length),this.set("completed",()=>this.get("tasks").filter((e)=>e.get("checked")).length),this.set("active",()=>this.get("total")-this.get("completed")),this.set("filter",()=>this.querySelector("input-radiogroup")?.get("value")??"all"),this.first("form").on("submit",(e)=>{e.preventDefault(),queueMicrotask(()=>{let r=t?.get("value")?.trim();if(r){let i=this.querySelector("ol"),a=this.querySelector("template")?.content.cloneNode(!0),c=a.querySelector("span");if(i&&a&&c)c.textContent=r,i.appendChild(a);this.#t(),t?.clear()}})}),this.first(".submit").pass({disabled:()=>t?.get("empty")}),this.first("ol").on("click",(e)=>{let r=e.target;if(r.localName==="button")r.closest("li")?.remove(),this.#t()}).sync(C("filter")),this.first(".count").sync(h("active"));let s=(e)=>u("ariaHidden",()=>e(this.get("active")));this.first(".singular").sync(s((e)=>e>1)),this.first(".plural").sync(s((e)=>e===1)),this.first(".remaining").sync(s((e)=>!e)),this.first(".all-done").sync(s((e)=>!!e)),this.first(".clear-completed").on("click",()=>{this.get("tasks").filter((e)=>e.get("checked")).forEach((e)=>e.parentElement?.remove()),this.#t()}).pass({disabled:()=>!this.get("completed")})}#t(){this.set("tasks",Array.from(this.querySelectorAll("input-checkbox")))}}kt.define("todo-app");class vt extends n{connectedCallback(){this.set("total",()=>Array.from(this.querySelectorAll("spin-button")).reduce((t,s)=>t+(s.get("count")??0),0)),this.first("badge-button").pass({badge:()=>{let t=this.get("total");return typeof t==="number"&&t>0?String(t):""}})}}vt.define("product-catalog");class xt extends n{connectedCallback(){this.first(".badge").sync(h("badge"))}}xt.define("badge-button");class Yt extends n{static observedAttributes=["count"];static states={count:W};connectedCallback(){let t=this.getAttribute("zero-label")||"Add to Cart",s=this.getAttribute("increment-label")||"Increment",e=this.getAttribute("max")?parseInt(this.getAttribute("max")):9;this.set("isZero",()=>this.get("count")===0),this.first(".count").sync(h("count"),b("hidden","isZero")),this.first(".decrement").on("click",()=>{this.set("count",(r)=>r!=null&&r>0?--r:0)}).sync(b("hidden","isZero")),this.first(".increment").on("click",()=>{this.set("count",(r)=>r!=null?++r:1)}).sync(h(()=>this.get("isZero")?t:"+"),u("ariaLabel",()=>this.get("isZero")?t:s),b("disabled",()=>this.get("count")>=e))}}Yt.define("spin-button");
