var Rf=(f)=>typeof f==="function",gf=(f)=>Rf(f)&&/^async\s+/.test(f.toString()),Df=(f)=>Rf(f)&&f.length<2,Of=(f)=>(i)=>i instanceof f,Zf=Of(Error),If=Of(Promise);var Mf="Computed",b=(f,i)=>{i=i??gf(f);let w=[],J,h=null,j=!0,r=()=>{if(j=!0,i)ff(w)},s={[Symbol.toStringTag]:Mf,get:()=>{if(i)e(w);if(!i||j)wf(()=>{let Y=(y)=>{J=y,j=!1,h=null},R=(y)=>{h=Zf(y)?y:new Error(`Computed function failed: ${y}`)};try{let y=f(J);If(y)?y.then(Y).catch(R):Y(y)}catch(y){R(y)}},r);if(Zf(h))throw h;return J},map:(Y)=>b(()=>Y(s.get()))};return s},l=(f)=>!!f&&typeof f==="object"&&f[Symbol.toStringTag]===Mf;var g,gi=!1,Di=[],D=(f)=>V(f)||l(f),O=(f,i=!1)=>D(f)?f:Df(f)?b(f,i):Jf(f),e=(f)=>{if(g&&!f.includes(g))f.push(g)},ff=(f)=>f.forEach((i)=>gi?Di.push(i):i()),wf=(f,i)=>{let w=g;g=i,f(),g=w};var C=Symbol();class hf{f;watchers=[];constructor(f){this.value=f}get(){return e(this.watchers),this.value}set(f){if(Object.is(this.value,f))return;if(this.value=f,ff(this.watchers),C===f)this.watchers=[]}update(f){this.set(f(this.value))}map(f){return b(()=>f(this.get()))}}var Jf=(f)=>new hf(f),V=(f)=>f instanceof hf;var S=(f)=>{let i=()=>wf(()=>{try{f()}catch(w){console.error(w)}},i);i()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(f)=>setTimeout(f,16);var jf=new Map,p=[],rf,Tf=()=>{rf=null,p.forEach((f)=>f()),p=[],jf.clear()},Ii=()=>{if(rf)cancelAnimationFrame(rf);rf=requestAnimationFrame(Tf)};queueMicrotask(Tf);var W=(f,i)=>new Promise((w,J)=>{let h=()=>{try{w(f())}catch(j){J(j)}};if(i){let[j,r]=i;if(!jf.has(j))jf.set(j,new Map);let s=jf.get(j);if(s.has(r)){let Y=p.indexOf(f);if(Y>-1)p.splice(Y,1)}s.set(r,h)}p.push(h),Ii()});var df=(f)=>f.nodeType===Node.COMMENT_NODE,Mi=(f)=>!/^on/i.test(f),Ti=(f)=>{if(/^(mailto|tel):/i.test(f))return!0;if(f.includes("://"))try{let i=new URL(f,window.location.origin);return!["http:","https:","ftp:"].includes(i.protocol)}catch(i){return!0}return!0},_f=(f,i,w)=>{if(!Mi(i))throw new Error(`Unsafe attribute: ${i}`);if(w=String(w).trim(),!Ti(w))throw new Error(`Unsafe URL for ${i}: ${w}`);f.setAttribute(i,w)};var kf=(f)=>W(()=>{return f.remove(),null},[f,"r"]),Ef=(f,i)=>W(()=>{return Array.from(f.childNodes).filter((w)=>!df(w)).forEach((w)=>w.remove()),f.append(document.createTextNode(i)),f},[f,"t"]),of=(f,i,w)=>W(()=>{return _f(f,i,w),f},[f,`a:${i}`]),pf=(f,i)=>W(()=>{return f.removeAttribute(i),f},[f,`a:${i}`]),tf=(f,i,w)=>W(()=>{return f.toggleAttribute(i,w),f},[f,`a:${i}`]),mf=(f,i,w)=>W(()=>{return f.classList.toggle(i,w),f},[f,`c:${i}`]);var $=(f)=>typeof f==="function",nf=(f)=>!!f&&typeof f==="object",L=(f)=>typeof f==="string";var z=!1,uf="debug";var vf="warn",U="error",_i=(f)=>f?`#${f}`:"",ki=(f)=>f.length?`.${Array.from(f).join(".")}`:"",I=(f)=>`<${f.localName}${_i(f.id)}${ki(f.classList)}>`,x=(f)=>L(f)?`"${f}"`:nf(f)?JSON.stringify(f):String(f),X=(f,i,w=uf)=>{if(z||[U,vf].includes(w))console[w](i,f);return f};var Ei=(f)=>$(f)&&f.length===2,af=(f,i,w=0)=>Ei(f)?f(i,w):f;class M{f;i;constructor(f,i=[f]){this.host=f;this.targets=i}on(f,i){return this.targets.forEach((w,J)=>{let h=af(i,w,J);w.addEventListener(f,h),this.host.cleanup.push(()=>w.removeEventListener(f,h))}),this}emit(f,i){return this.targets.forEach((w)=>{w.dispatchEvent(new CustomEvent(f,{detail:i,bubbles:!0}))}),this}pass(f){return this.targets.forEach(async(i,w)=>{if(await K.registry.whenDefined(i.localName),i instanceof K)Object.entries(f).forEach(([J,h])=>{let j=af(h,i,w),r=L(j)?this.host.signals[j]:O(j,!0);if(r)i.set(J,r);else X(h,`Invalid source for state ${x(J)}`,U)});else X(i,"Target is not a UIElement",U)}),this}sync(...f){return this.targets.forEach((i,w)=>f.forEach((J)=>J(this.host,i,w))),this}}var lf="context-request";class ef extends Event{f;i;w;constructor(f,i,w=!1){super(lf,{bubbles:!0,composed:!0});this.context=f;this.callback=i;this.subscribe=w}}var Hf=(f)=>{let i=f.constructor,w=i.consumedContexts||[];queueMicrotask(()=>{for(let h of w)f.dispatchEvent(new ef(h,(j)=>f.set(String(h),j??C)))});let J=i.providedContexts||[];if(!J.length)return!1;return f.addEventListener(lf,(h)=>{let{context:j,callback:r}=h;if(!J.includes(j)||!$(r))return;h.stopPropagation(),r(f.signals[String(j)])}),!0};var fi=(f)=>$(f)&&!!f.length,zf=(f)=>$(f)?zf(f()):D(f)?zf(f.get()):f,sf=(f,i,w,J)=>{let h=f.states[i];return fi(h)?h(w,f,J):w};class K extends HTMLElement{static registry=customElements;static tagName;static observedAttributes;static consumedContexts;static providedContexts;static define(f){try{if(this.registry.define(f,this),this.tagName=f,z)X(f,"Registered custom element")}catch(i){X(i,`Failed to register custom element ${f}`,U)}}states={};signals={};cleanup=[];self=new M(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(f,i,w){if(w===i)return;let J=sf(this,f,w,i);if(z&&this.debug)X(w,`Attribute "${f}" of ${I(this)} changed from ${x(i)} to ${x(w)}, parsed as <${typeof J}> ${x(J)}`);this.set(f,J??C)}connectedCallback(){if(z){if(this.debug=this.hasAttribute("debug"),this.debug)X(this,"Connected")}for(let[f,i]of Object.entries(this.states)){let w=fi(i)?i(this.getAttribute(f),this):i;this.set(f,w??C)}Hf(this)}disconnectedCallback(){if(this.cleanup.forEach((f)=>f()),this.cleanup=[],z&&this.debug)X(this,"Disconnected")}adoptedCallback(){if(z&&this.debug)X(this,"Adopted")}has(f){return f in this.signals}get(f){let i=zf(this.signals[f]);if(z&&this.debug)X(i,`Get current value of state <${typeof i}> ${x(f)} in ${I(this)}`);return i}set(f,i,w=!0){let J;if(!(f in this.signals)){if(z&&this.debug)J="Create";this.signals[f]=O(i,!0)}else if(w){let h=this.signals[f];if(D(i)){if(z&&this.debug)J="Replace";if(this.signals[f]=i,V(h))h.set(C)}else if(V(h)){if(z&&this.debug)J="Update";if($(i))h.update(i);else h.set(i)}else{X(i,`Computed state ${x(f)} in ${I(this)} cannot be set`,U);return}}else return;if(z&&this.debug)X(i,`${J} state <${typeof i}> ${x(f)} in ${I(this)}`)}delete(f){if(z&&this.debug)X(f,`Delete state ${x(f)} from ${I(this)}`);return delete this.signals[f]}first(f){let i=this.root.querySelector(f);return new M(this,i?[i]:[])}all(f){return new M(this,Array.from(this.root.querySelectorAll(f)))}}var ii=(f,i)=>{if(i==null)return;let w=f(i);return Number.isFinite(w)?w:void 0};var q=(f)=>f!=="false"&&f!=null,Yf=(f=0)=>(i)=>ii(parseInt,i)??f,t=Yf(),wi=(f=0)=>(i)=>ii(parseFloat,i)??f,oi=wi(),Ji=(f="")=>(i)=>i??f,pi=Ji();var hi=(f)=>(i)=>{if(i==null)return f;let w;try{w=JSON.parse(i)}catch(J){X(J,"Failed to parse JSON",U)}return w??f},ti=hi({});var N=(f,i)=>(w,J)=>{let{read:h,update:j}=i,r=h(J);if(L(f)&&!w.has(f)){let s=L(r)?sf(w,f,r):r;if(s!=null)w.set(f,s,!1)}S(()=>{let s=h(J),Y=L(f)?w.get(f):$(f)?f(s):void 0;if(!Object.is(Y,s))if(Y===C||Y==null){if(r)j(J,r);else if(i.delete)i.delete(J)}else j(J,Y)})};var Gf=(f)=>N(f,{read:(i)=>i!=null,update:(i,w)=>w?kf(i):Promise.resolve(null)}),Q=(f)=>N(f,{read:(i)=>i.textContent,update:(i,w)=>Ef(i,w)}),F=(f,i=f)=>N(i,{read:(w)=>(f in w)?w[f]:C,update:(w,J)=>w[f]=J}),P=(f,i=f)=>N(i,{read:(w)=>w.getAttribute(f),update:(w,J)=>of(w,f,J),delete:(w)=>pf(w,f)}),H=(f,i=f)=>N(i,{read:(w)=>w.hasAttribute(f),update:(w,J)=>tf(w,f,J)}),m=(f,i=f)=>N(i,{read:(w)=>w.classList.contains(f),update:(w,J)=>mf(w,f,J)});var mi=(f)=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();function Z(f,i,w){class J extends K{static get observedAttributes(){return Object.keys(i).map(mi)}constructor(){super();this.states=i}connectedCallback(){super.connectedCallback();let h=w(this,this.signals);if($(h))this.cleanup.push(h)}}return J.define(f),J}var O0=Z("hello-world",{name:"World"},(f,{name:i})=>{f.first("span").sync(Q(i)),f.first("input").on("input",(w)=>{f.set("name",w.target?.value)})});Z("my-counter",{count:t},(f,{count:i})=>{f.first(".increment").on("click",()=>{i.update((w)=>++w)}),f.first(".decrement").on("click",()=>{i.update((w)=>--w)}),f.first(".count").sync(Q(String(i))),f.first(".parity").sync(Q(()=>i.get()%2?"odd":"even"))});var si=(f)=>typeof f==="function",ni=(f)=>si(f)&&/^async\s+/.test(f.toString()),ui=(f)=>si(f)&&f.length<2,Yi=(f)=>(i)=>i instanceof f,ji=Yi(Error),vi=Yi(Promise),yi="Computed",Af=(f,i)=>{i=i??ni(f);let w=[],J,h=null,j=!0,r=()=>{if(j=!0,i)Qi(w)},s={[Symbol.toStringTag]:yi,get:()=>{if(i)Fi(w);if(!i||j)Ci(()=>{let Y=(y)=>{J=y,j=!1,h=null},R=(y)=>{h=ji(y)?y:new Error(`Computed function failed: ${y}`)};try{let y=f(J);vi(y)?y.then(Y).catch(R):Y(y)}catch(y){R(y)}},r);if(ji(h))throw h;return J},map:(Y)=>Af(()=>Y(s.get()))};return s},ai=(f)=>!!f&&typeof f==="object"&&f[Symbol.toStringTag]===yi,T,li=!1,ei=[],Wf=(f)=>$f(f)||ai(f),Ki=(f,i=!1)=>Wf(f)?f:ui(f)?Af(f,i):f1(f),Fi=(f)=>{if(T&&!f.includes(T))f.push(T)},Qi=(f)=>f.forEach((i)=>li?ei.push(i):i()),Ci=(f,i)=>{let w=T;T=i,f(),T=w};var d=Symbol();class Uf{$;watchers=[];constructor(f){this.value=f}get(){return Fi(this.watchers),this.value}set(f){if(Object.is(this.value,f))return;if(this.value=f,Qi(this.watchers),d===f)this.watchers=[]}update(f){this.set(f(this.value))}map(f){return Af(()=>f(this.get()))}}var f1=(f)=>new Uf(f),$f=(f)=>f instanceof Uf,i1=(f)=>{let i=()=>Ci(()=>{try{f()}catch(w){console.error(w)}},i);i()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(f)=>setTimeout(f,16);var yf=new Map,u=[],Kf,Xi=()=>{Kf=null,u.forEach((f)=>f()),u=[],yf.clear()},w1=()=>{if(Kf)cancelAnimationFrame(Kf);Kf=requestAnimationFrame(Xi)};queueMicrotask(Xi);var J1=(f,i)=>new Promise((w,J)=>{let h=()=>{try{w(f())}catch(j){J(j)}};if(i){let[j,r]=i;if(!yf.has(j))yf.set(j,new Map);let s=yf.get(j);if(s.has(r)){let Y=u.indexOf(f);if(Y>-1)u.splice(Y,1)}s.set(r,h)}u.push(h),w1()});var h1=(f,i,w)=>J1(()=>{return f.classList.toggle(i,w),f},[f,`c:${i}`]);var c=(f)=>typeof f==="function",j1=(f)=>!!f&&typeof f==="object",v=(f)=>typeof f==="string",A=!1,r1="debug";var s1="warn",_="error",Y1=(f)=>f?`#${f}`:"",y1=(f)=>f.length?`.${Array.from(f).join(".")}`:"",n=(f)=>`<${f.localName}${Y1(f.id)}${y1(f.classList)}>`,B=(f)=>v(f)?`"${f}"`:j1(f)?JSON.stringify(f):String(f),G=(f,i,w=r1)=>{if(A||[_,s1].includes(w))console[w](i,f);return f},K1=(f)=>c(f)&&f.length===2,ri=(f,i,w=0)=>K1(f)?f(i,w):f;class Ff{$;B;constructor(f,i=[f]){this.host=f,this.targets=i}on(f,i){return this.targets.forEach((w,J)=>{let h=ri(i,w,J);w.addEventListener(f,h),this.host.cleanup.push(()=>w.removeEventListener(f,h))}),this}emit(f,i){return this.targets.forEach((w)=>{w.dispatchEvent(new CustomEvent(f,{detail:i,bubbles:!0}))}),this}pass(f){return this.targets.forEach(async(i,w)=>{if(await Qf.registry.whenDefined(i.localName),i instanceof Qf)Object.entries(f).forEach(([J,h])=>{let j=ri(h,i,w),r=v(j)?this.host.signals[j]:Ki(j,!0);if(r)i.set(J,r);else G(h,`Invalid source for state ${B(J)}`,_)});else G(i,"Target is not a UIElement",_)}),this}sync(...f){return this.targets.forEach((i,w)=>f.forEach((J)=>J(this.host,i,w))),this}}var Zi="context-request";class Hi extends Event{$;B;Z;constructor(f,i,w=!1){super(Zi,{bubbles:!0,composed:!0});this.context=f,this.callback=i,this.subscribe=w}}var F1=(f)=>{let i=f.constructor,w=i.consumedContexts||[];queueMicrotask(()=>{for(let h of w)f.dispatchEvent(new Hi(h,(j)=>f.set(String(h),j??d)))});let J=i.providedContexts||[];if(!J.length)return!1;return f.addEventListener(Zi,(h)=>{let{context:j,callback:r}=h;if(!J.includes(j)||!c(r))return;h.stopPropagation(),r(f.signals[String(j)])}),!0},zi=(f)=>c(f)&&!!f.length,qf=(f)=>c(f)?qf(f()):Wf(f)?qf(f.get()):f,Gi=(f,i,w,J)=>{let h=f.states[i];return zi(h)?h(w,f,J):w};class Qf extends HTMLElement{static registry=customElements;static tagName;static observedAttributes;static consumedContexts;static providedContexts;static define(f){try{if(this.registry.define(f,this),this.tagName=f,A)G(f,"Registered custom element")}catch(i){G(i,`Failed to register custom element ${f}`,_)}}states={};signals={};cleanup=[];self=new Ff(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(f,i,w){if(w===i)return;let J=Gi(this,f,w,i);if(A&&this.debug)G(w,`Attribute "${f}" of ${n(this)} changed from ${B(i)} to ${B(w)}, parsed as <${typeof J}> ${B(J)}`);this.set(f,J??d)}connectedCallback(){if(A){if(this.debug=this.hasAttribute("debug"),this.debug)G(this,"Connected")}for(let[f,i]of Object.entries(this.states)){let w=zi(i)?i(this.getAttribute(f),this):i;this.set(f,w??d)}F1(this)}disconnectedCallback(){if(this.cleanup.forEach((f)=>f()),this.cleanup=[],A&&this.debug)G(this,"Disconnected")}adoptedCallback(){if(A&&this.debug)G(this,"Adopted")}has(f){return f in this.signals}get(f){let i=qf(this.signals[f]);if(A&&this.debug)G(i,`Get current value of state <${typeof i}> ${B(f)} in ${n(this)}`);return i}set(f,i,w=!0){let J;if(!(f in this.signals)){if(A&&this.debug)J="Create";this.signals[f]=Ki(i,!0)}else if(w){let h=this.signals[f];if(Wf(i)){if(A&&this.debug)J="Replace";if(this.signals[f]=i,$f(h))h.set(d)}else if($f(h)){if(A&&this.debug)J="Update";if(c(i))h.update(i);else h.set(i)}else{G(i,`Computed state ${B(f)} in ${n(this)} cannot be set`,_);return}}else return;if(A&&this.debug)G(i,`${J} state <${typeof i}> ${B(f)} in ${n(this)}`)}delete(f){if(A&&this.debug)G(f,`Delete state ${B(f)} from ${n(this)}`);return delete this.signals[f]}first(f){let i=this.root.querySelector(f);return new Ff(this,i?[i]:[])}all(f){return new Ff(this,Array.from(this.root.querySelectorAll(f)))}}var $i=(f,i)=>{if(i==null)return;let w=f(i);return Number.isFinite(w)?w:void 0};var Q1=(f=0)=>(i)=>$i(parseInt,i)??f,T0=Q1(),C1=(f=0)=>(i)=>$i(parseFloat,i)??f,d0=C1(),X1=(f="")=>(i)=>i??f,_0=X1();var Z1=(f)=>(i)=>{if(i==null)return f;let w;try{w=JSON.parse(i)}catch(J){G(J,"Failed to parse JSON",_)}return w??f},k0=Z1({}),H1=(f,i)=>(w,J)=>{let{read:h,update:j}=i,r=h(J);if(v(f)&&!w.has(f)){let s=v(r)?Gi(w,f,r):r;if(s!=null)w.set(f,s,!1)}i1(()=>{let s=h(J),Y=v(f)?w.get(f):c(f)?f(s):void 0;if(!Object.is(Y,s))if(Y===d||Y==null){if(r)j(J,r);else if(i.delete)i.delete(J)}else j(J,Y)})};var qi=(f,i=f)=>H1(i,{read:(w)=>w.classList.contains(f),update:(w,J)=>h1(w,f,J)});var z1=(f)=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();function Ai(f,i,w){class J extends Qf{static get observedAttributes(){return Object.keys(i).map(z1)}constructor(){super();this.states=i}connectedCallback(){super.connectedCallback();let h=w(this,this.signals);if(c(h))this.cleanup.push(h)}}return J.define(f),J}var t0=Ai("my-slider",{active:0},(f,{active:i})=>{let w=f.querySelectorAll(".slide").length,J=(j)=>()=>{i.update((r)=>(r+j+w)%w)};f.first(".prev").on("click",J(-1)),f.first(".next").on("click",J(1));let h=(j,r,s)=>qi("active",()=>i.get()===s)(j,r);f.all(".slide").sync(h),f.all(".dots span").sync(h)});var u0=Z("input-button",{disabled:q},(f)=>{f.first("button").sync(Q("label"),F("disabled"))});var l0=Z("input-checkbox",{checked:q},(f)=>{f.first("input").on("change",(i)=>{f.set("checked",i.target?.checked)}).sync(F("checked")),f.self.sync(H("checked"))});class Wi extends K{static observedAttributes=["value"];connectedCallback(){this.self.sync(P("value")),this.all("input").on("change",(f)=>{this.set("value",f.target?.value)}),this.all("label").sync((f,i)=>m("selected",()=>f.get("value")===i.querySelector("input")?.value)(f,i))}}Wi.define("input-radiogroup");var xf=(f)=>typeof f==="number",a=(f,i=!1,w=0)=>{let J=i?parseInt(f,10):parseFloat(f);return Number.isFinite(J)?J:w},Ui=(f,i,w,J,h=!1)=>{let j=Math.round((w-i)/J),r=Math.round((f-i)*j/(w-i))/j;r=Math.min(Math.max(r,0),1);let s=r*(w-i)+i;return h?Math.round(s):s};class xi extends K{static observedAttributes=["value","description"];static states={value:(f,i)=>i.isNumber?a(f,i.isInteger,0):f};isNumber=!1;isInteger=!1;input=null;step=1;min;max;connectedCallback(){if(super.connectedCallback(),this.input=this.querySelector("input"),this.isNumber=(this.input&&this.input.type==="number")??!1,this.isInteger=this.hasAttribute("integer"),this.input&&this.isNumber)this.step=a(this.input.step,this.isInteger,1),this.min=a(this.input.min,this.isInteger,0),this.max=a(this.input.max,this.isInteger,0);if(this.set("value",this.isNumber?this.input?.valueAsNumber??0:this.input?.value??"",!1),this.set("length",this.input?.value.length??0),this.set("empty",()=>!this.get("length")),this.first("input").on("change",()=>{this.#f(this.isNumber?this.input?.valueAsNumber??0:this.input?.value??"")}).on("input",()=>{this.set("length",this.input?.value.length??0)}),this.isNumber)this.first("input").on("keydown",(w)=>{let J=w;if(["ArrowUp","ArrowDown"].includes(J.key)){if(w.stopPropagation(),w.preventDefault(),J.key==="ArrowDown")this.stepDown(J.shiftKey?this.step*10:this.step);if(J.key==="ArrowUp")this.stepUp(J.shiftKey?this.step*10:this.step)}});this.set("ariaInvalid",()=>String(Boolean(this.get("error")))),this.set("aria-errormessage",()=>this.get("error")?this.querySelector(".error")?.id:C),this.first(".error").sync(Q("error")),this.first("input").sync(F("ariaInvalid"),P("aria-errormessage"));let f=this.querySelector(".description");if(f){let w=this.input?.maxLength,J=w&&f.dataset.remaining,h=f.textContent??"";this.set("description",J?()=>{let j=this.get("length");return j>0?J.replace("${x}",String(w-j)):h}:h),this.set("aria-describedby",()=>this.get("description")?f.id:C),this.first(".description").sync(Q("description")),this.first("input").sync(P("aria-describedby"))}let i=this.querySelector(".spinbutton");if(!this.isNumber||!i)this.first(".decrement").on("click",(w)=>{this.stepDown(w.shiftKey?this.step*10:this.step)}).sync(F("disabled",()=>xf(this.min)&&(this.get("value")??0-this.step<this.min))),this.first(".increment").on("click",(w)=>{this.stepUp(w.shiftKey?this.step*10:this.step)}).sync(F("disabled",()=>xf(this.max)&&(this.get("value")??0+this.step>this.max)));this.first(".clear").on("click",()=>{this.clear(),this.input?.focus()}).sync(m("hidden","empty")),S(()=>{let w=this.get("value"),J=this.getAttribute("validate");if(w&&J)fetch(`${J}?name=${this.input?.name}value=${this.input?.value}`).then(async(h)=>{let j=await h.text();this.input?.setCustomValidity(j),this.set("error",j)}).catch((h)=>this.set("error",h.message));if(this.isNumber&&!xf(w))return this.set("value",a(w,this.isInteger,0));if(this.input&&this.isNumber&&Number.isFinite(w))this.input.value=String(w)})}clear(){if(this.set("value",""),this.set("length",0),this.input)this.input.value="",this.input.focus()}stepUp(f=this.step){if(this.isNumber)this.#f((i)=>Ui(i+f,this.min??0,this.max??100,this.step,this.isInteger))}stepDown(f=this.step){if(this.isNumber)this.#f((i)=>Ui(i-f,this.min??0,this.max??100,this.step,this.isInteger))}#f=(f)=>{if(this.set("value",f),this.set("error",this.input?.validationMessage??""),typeof f==="function")f=this.get("value");if(this.input?.value!==String(f))this.self.emit("value-change",f)}}xi.define("input-field");class bi extends K{static observedAttributes=["collapsed"];static states={collapsed:q};connectedCallback(){let f=this.querySelector("code");if(f)this.first(".copy").on("click",async(i)=>{let w=i.currentTarget,J=w.textContent??"",h="success";try{await navigator.clipboard.writeText(f.textContent??"")}catch(j){console.error("Error when trying to use navigator.clipboard.writeText()",j),h="error"}w.set("disabled",!0),w.set("label",this.getAttribute(`copy-${h}`)??J),setTimeout(()=>{w.set("disabled",!1),w.set("label",J)},h==="success"?1000:3000)}),this.first(".overlay").on("click",()=>this.set("collapsed",!1)),this.self.sync(H("collapsed"))}}bi.define("code-block");var Yw=Z("accordion-panel",{open:q,collapsible:q},(f,{open:i,collapsible:w})=>{f.self.sync(H("open"),H("collapsible"),F("ariaHidden",()=>!i.get()&&!w.get())),f.first("details").sync(F("open"),F("ariaDisabled",()=>!w.get()))});class Si extends K{static observedAttributes=["accordion"];static states={active:0,accordion:q,"media-viewport":C};static consumedContexts=["media-viewport"];connectedCallback(){super.connectedCallback(),queueMicrotask(()=>{if(this.get("media-viewport"))this.set("accordion",()=>["xs","sm"].includes(String(this.get("media-viewport"))))}),this.self.sync(H("accordion")),this.first("menu").sync(F("ariaHidden","accordion")),this.all("menu button").on("click",(f,i)=>()=>this.set("active",i)).sync((f,i,w)=>F("ariaPressed",()=>this.get("active")===w)(f,i)),this.all("accordion-panel").pass({open:(f,i)=>()=>this.get("active")===i,collapsible:"accordion"})}}Si.define("tab-list");class Li extends K{static states={content:"",error:"",loaded:!1};connectedCallback(){super.connectedCallback();let f=this.getAttribute("src");if(f)this.loadContent(f).then(([i,w])=>{this.set("content",w),this.set("error",i),this.set("loaded",!0)});this.first(".loading").sync(Gf("loaded")),this.first(".error").sync(Q("error")),S(()=>{let i=this.get("content");if(i)W(()=>{this.root.innerHTML=i,this.root.querySelectorAll("script").forEach((w)=>{let J=document.createElement("script");J.appendChild(document.createTextNode(w.textContent??"")),this.root.appendChild(J),w.remove()})},[this.root,"h"])})}async loadContent(f){try{let i=await fetch(f);if(!i.ok)return[i.statusText,""];return["",await i.text()]}catch(i){return[i.message,""]}}}Li.define("lazy-load");var Cf=(f,i)=>{let w=f?.trim();if(!w)return i;let J=w.match(/em$/)?"em":"px",h=parseFloat(w);return Number.isFinite(h)?h+J:i},bf="media-motion",Xf="media-theme",k="media-viewport",Pi="media-orientation";class Bi extends K{static providedContexts=[bf,Xf,k,Pi];connectedCallback(){super.connectedCallback();let f="light",i="dark",w="xs",J="sm",h="md",j="lg",r="xl",s="landscape",Y="portrait",y=(()=>({sm:Cf(this.getAttribute(J),"32em"),md:Cf(this.getAttribute(h),"48em"),lg:Cf(this.getAttribute(j),"72em"),xl:Cf(this.getAttribute(r),"108em")}))(),Sf=matchMedia("(prefers-reduced-motion: reduce)"),Lf=matchMedia("(prefers-color-scheme: dark)"),Pf=matchMedia(`(min-width: ${y.sm})`),Bf=matchMedia(`(min-width: ${y.md})`),Vf=matchMedia(`(min-width: ${y.lg})`),Nf=matchMedia(`(min-width: ${y.xl})`),cf=matchMedia("(orientation: landscape)"),E=()=>{if(Nf.matches)return r;if(Vf.matches)return j;if(Bf.matches)return h;if(Pf.matches)return J;return w};this.set(bf,Sf.matches),this.set(Xf,Lf.matches?i:f),this.set(k,E()),this.set(Pi,cf.matches?s:Y),Sf.addEventListener("change",(o)=>this.set(bf,o.matches)),Lf.addEventListener("change",(o)=>this.set(Xf,o.matches?i:f)),Pf.addEventListener("change",()=>this.set(k,E())),Bf.addEventListener("change",()=>this.set(k,E())),Vf.addEventListener("change",()=>this.set(k,E())),Nf.addEventListener("change",()=>this.set(k,E())),cf.addEventListener("change",(o)=>{this.set(Xf,o.matches?s:Y)})}}Bi.define("media-context");class Vi extends K{connectedCallback(){let f=this.querySelector("input-field");this.first("form").on("submit",(i)=>{i.preventDefault(),queueMicrotask(()=>{let w=f?.get("value").trim();if(w)this.self.emit("add-todo",w),f?.clear()})}),this.first("input-button").pass({disabled:()=>f?.get("empty")??!0})}}Vi.define("todo-form");class Ni extends K{static states={tasks:[],filter:"all"};connectedCallback(){super.connectedCallback(),this.#f(),this.self.on("click",(f)=>{let i=f.target;if(i.localName==="button")this.removeItem(i)}).sync(P("filter")),this.set("count",()=>{let f=this.get("tasks").map((J)=>J.signals.checked),i=f.filter((J)=>J?.get()).length,w=f.length;return{active:w-i,completed:i,total:w}})}addItem=(f)=>{let i=this.querySelector("ol"),w=this.querySelector("template")?.content.cloneNode(!0),J=w.querySelector("span");if(i&&w&&J)J.textContent=f,i.appendChild(w),this.#f()};removeItem=(f)=>{f.closest("li")?.remove(),this.#f()};clearCompleted=()=>{this.get("tasks").filter((f)=>f.get("checked")).forEach((f)=>f.parentElement?.remove()),this.#f()};#f(){this.set("tasks",Array.from(this.querySelectorAll("input-checkbox")))}}Ni.define("todo-list");class ci extends K{static states={active:0};connectedCallback(){this.first(".count").sync(Q("active")),this.first(".singular").sync(F("ariaHidden",()=>this.get("active")>1)),this.first(".plural").sync(F("ariaHidden",()=>this.get("active")===1)),this.first(".remaining").sync(F("ariaHidden",()=>!this.get("active"))),this.first(".all-done").sync(F("ariaHidden",()=>!!this.get("active")))}}ci.define("todo-count");class Ri extends K{connectedCallback(){let f=this.querySelector("todo-list");this.self.on("add-todo",(i)=>{f?.addItem(i.detail)}),this.first("todo-count").pass({active:()=>(f?.get("count")).active}),this.first("todo-list").pass({filter:()=>this.querySelector("input-radiogroup")?.get("value")??"all"}),this.first(".clear-completed").on("click",()=>f?.clearCompleted()).pass({disabled:()=>!(f?.get("count")).completed})}}Ri.define("todo-app");var Sw=Z("product-catalog",{},(f)=>{f.first("badge-button").pass({badge:()=>{let i=f.all("spin-button").targets.reduce((w,J)=>w+J.get("count"),0);return typeof i==="number"&&i>0?String(i):""}})});var Bw=Z("badge-button",{},(f)=>{f.first(".badge").sync(Q("badge"))});var cw=Z("spin-button",{count:t},(f,{count:i})=>{let w=b(()=>i.get()===0),J=f.getAttribute("zero-label")||"Add to Cart",h=f.getAttribute("increment-label")||"Increment",j=Yf(9)(f.getAttribute("max"));f.first(".count").sync(Q(String(i)),H("hidden",w)),f.first(".decrement").on("click",()=>{i.update((r)=>--r)}).sync(H("hidden",w)),f.first(".increment").on("click",()=>{i.update((r)=>++r)}).sync(Q(()=>w.get()?J:"+"),F("ariaLabel",()=>w.get()?J:h),H("disabled",()=>i.get()>=j))});
