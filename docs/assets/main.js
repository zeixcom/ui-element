var k=(o)=>typeof o==="function",$o=(o,t)=>Object.prototype.toString.call(o)===`[object ${t}]`,io=(o)=>o instanceof Error?o:Error(String(o));class mo extends Error{constructor(o){super(`Circular dependency in ${o} detected`);return this}}var J,U=new Set,uo=0,yo=new Map,q,ko=()=>{q=void 0;let o=Array.from(yo.values());yo.clear();for(let t of o)t()},Do=()=>{if(q)cancelAnimationFrame(q);q=requestAnimationFrame(ko)};queueMicrotask(ko);var Ho=(o)=>{let t=new Set,n=o;return n.off=(r)=>{t.add(r)},n.cleanup=()=>{for(let r of t)r();t.clear()},n},fo=(o)=>{if(J&&!o.has(J)){let t=J;o.add(t),J.off(()=>{o.delete(t)})}},D=(o)=>{for(let t of o)if(uo)U.add(t);else t()},To=()=>{while(U.size){let o=Array.from(U);U.clear();for(let t of o)t()}},O=(o)=>{uo++;try{o()}finally{To(),uo--}},Mo=(o,t)=>{let n=J;J=t;try{o()}finally{J=n}},X=(o,t)=>new Promise((n,r)=>{yo.set(t||Symbol(),()=>{try{n(o())}catch(e){r(e)}}),Do()}),xo="State",w=(o)=>{let t=new Set,n=o,r={[Symbol.toStringTag]:xo,get:()=>{return fo(t),n},set:(e)=>{if(Object.is(n,e))return;if(n=e,D(t),L===n)t.clear()},update:(e)=>{r.set(e(n))}};return r},K=(o)=>$o(o,xo),so="Computed",C=(o)=>{let t=new Set,n=L,r,e,a=!0,d=!1,c=!1,i=(E)=>{if(!Object.is(E,n))n=E,d=!0;r=void 0,a=!1},b=()=>{d=L!==n,n=L,r=void 0},u=(E)=>{let h=io(E);d=!r||h.name!==r.name||h.message!==r.message,n=L,r=h},y=(E)=>(h)=>{if(c=!1,e=void 0,E(h),d)D(t)},f=Ho(()=>{if(a=!0,e?.abort("Aborted because source signal changed"),t.size)D(t);else f.cleanup()}),l=()=>Mo(()=>{if(c)throw new mo("computed");if(d=!1,k(o)&&o.constructor.name==="AsyncFunction"){if(e)return n;e=new AbortController,e.signal.addEventListener("abort",()=>{c=!1,e=void 0,l()},{once:!0})}let E;c=!0;try{E=e?o(e.signal):o()}catch(h){if(h instanceof DOMException&&h.name==="AbortError")b();else u(h);c=!1;return}if(E instanceof Promise)E.then(y(i),y(u));else if(E==null||L===E)b();else i(E);c=!1},f);return{[Symbol.toStringTag]:so,get:()=>{if(fo(t),To(),a)l();if(r)throw r;return n}}},Co=(o)=>$o(o,so),Xo=(o)=>k(o)&&o.length<2,L=Symbol(),I=(o)=>K(o)||Co(o),jo=(o)=>I(o)?o:Xo(o)?C(o):w(o);function V(o){let{signals:t,ok:n,err:r=console.error,nil:e=()=>{}}=k(o)?{signals:[],ok:o}:o,a=!1,d=Ho(()=>Mo(()=>{if(a)throw new mo("effect");a=!0;let c=[],i=!1,b=t.map((y)=>{try{let f=y.get();if(f===L)i=!0;return f}catch(f){return c.push(io(f)),L}}),u=void 0;try{u=i?e():c.length?r(...c):n(...b)}catch(y){u=r(io(y))}finally{if(k(u))d.off(u)}a=!1},d));return d(),()=>d.cleanup()}var R=!1;var Z="error",Ko=(o)=>o?`#${o}`:"",Zo=(o)=>o.length?`.${Array.from(o).join(".")}`:"",po=(o)=>!!o&&typeof o==="object",F=(o)=>typeof o==="string",Io=(o)=>o.nodeType===Node.ELEMENT_NODE,A=(o)=>`<${o.localName}${Ko(o.id)}${Zo(o.classList)}>`,Y=(o)=>F(o)?`"${o}"`:po(o)?JSON.stringify(o):String(o),co=(o)=>{if(o===null)return"null";if(typeof o!=="object")return typeof o;if(Array.isArray(o))return"Array";if(Symbol.toStringTag in Object(o))return o[Symbol.toStringTag];return o.constructor?.name||"Object"},M=(o,t,n="debug")=>{if(["error","warn"].includes(n))console[n](t,o);return o};class No extends Error{constructor(o){super(o);this.name="CircularMutationError"}}var Ro=(o)=>o instanceof HTMLElement&&o.localName.includes("-"),Vo=(o)=>{let t=new Set;if(o.includes("."))t.add("class");if(o.includes("#"))t.add("id");if(o.includes("[")){let n=o.split("[");for(let r=1;r<n.length;r++){let e=n[r];if(!e.includes("]"))continue;let a=e.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(a)t.add(a)}}return[...t]},Wo=(o,t)=>{if(o.length!==t.length)return!1;let n=new Set(o);for(let r of t)if(!n.has(r))return!1;return!0},Jo=(o,t,n)=>{let r=new MutationObserver(n),e=Vo(t),a={childList:!0,subtree:!0};if(e.length)a.attributes=!0,a.attributeFilter=e;return r.observe(o,a),r},v=(o,t)=>{let n=new Set,r=()=>Array.from(o.querySelectorAll(t)),e=L,a,d=0,c=2,i=()=>{e=r(),a=Jo(o,t,()=>{if(!n.size){a?.disconnect(),a=void 0;return}if(d++,d>c)throw a?.disconnect(),a=void 0,d=0,new No("Circular mutation in element selection detected");try{let b=r();if(!Wo(e,b))e=b,D(n)}finally{d--}})};return{[Symbol.toStringTag]:so,get:()=>{if(fo(n),!n.size)e=r();else if(!a)i();return e}}},g=(o,t)=>(n,r=n)=>{if(!k(t))throw new TypeError(`Invalid event listener provided for "${o} event on element ${A(r)}`);return r.addEventListener(o,t),()=>r.removeEventListener(o,t)},W=(o,t)=>(n,r=n)=>{r.dispatchEvent(new CustomEvent(o,{detail:k(t)?t(r):t,bubbles:!0}))},Oo=(o)=>(t,n)=>{if(!Ro(n))throw new TypeError("Target element must be a custom element");let r=k(o)?o(n):o;if(!po(r))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(n.localName).then(()=>{for(let[e,a]of Object.entries(r)){let d=F(a)?t.getSignal(e):jo(a);n.setSignal(e,d)}}).catch((e)=>{throw new Error(`Failed to pass signals to ${A(n)}}`,{cause:e})})},So=(o,t,n)=>{if(!o)return()=>n;if(!Ro(o))throw new TypeError("Target element must be a custom element");let r=C(async()=>{return await customElements.whenDefined(o.localName),o.getSignal(t)});return()=>{let e=r.get();return e===L?n:e.get()}},$=Symbol(),Bo=new Set(["constructor","prototype"]),ot=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),bo=(o)=>k(o)&&o.length>=2,Lo=(o)=>{if(Bo.has(o))return`Property name "${o}" is a reserved word`;if(ot.has(o))return`Property name "${o}" conflicts with inherited HTMLElement property`;return null},go=(o,t,n=t)=>{let r=o.filter(k).map((e)=>e(t,n));return()=>{r.filter(k).forEach((e)=>e()),r.length=0}},tt=()=>({first:(o,...t)=>(n)=>{let r=(n.shadowRoot||n).querySelector(o);if(r)go(t,n,r)},all:(o,...t)=>(n)=>{let r=new Map,e=n.shadowRoot||n,a=(b)=>{if(!r.has(b))r.set(b,go(t,n,b))},d=(b)=>{let u=r.get(b);if(k(u))u();r.delete(b)},c=(b)=>(u)=>{if(Io(u)){if(u.matches(o))b(u);u.querySelectorAll(o).forEach(b)}},i=Jo(e,o,(b)=>{for(let u of b)u.addedNodes.forEach(c(a)),u.removedNodes.forEach(c(d))});return e.querySelectorAll(o).forEach(a),()=>{i.disconnect(),r.forEach((b)=>b()),r.clear()}}}),s=(o,t={},n)=>{for(let e of Object.keys(t)){let a=Lo(e);if(a)throw new TypeError(`${a} in component "${o}".`)}class r extends HTMLElement{debug;#o={};#t;static observedAttributes=Object.entries(t)?.filter(([,e])=>bo(e)).map(([e])=>e)??[];constructor(){super();for(let[e,a]of Object.entries(t)){if(a==null)continue;let d=bo(a)?a(this,null):k(a)?a(this):a;if(d!=null)this.setSignal(e,jo(d))}}connectedCallback(){if(R){if(this.debug=this.hasAttribute("debug"),this.debug)M(this,"Connected")}let e=n(this,tt());if(!Array.isArray(e))throw new TypeError(`Expected array of functions as return value of setup function in ${A(this)}`);this.#t=go(e,this)}disconnectedCallback(){if(k(this.#t))this.#t();if(R&&this.debug)M(this,"Disconnected")}attributeChangedCallback(e,a,d){if(d===a||Co(this.#o[e]))return;let c=t[e];if(!bo(c))return;let i=c(this,d,a);if(R&&this.debug)M(d,`Attribute "${e}" of ${A(this)} changed from ${Y(a)} to ${Y(d)}, parsed as <${co(i)}> ${Y(i)}`);this[e]=i}getSignal(e){let a=this.#o[e];if(R&&this.debug)M(a,`Get ${co(a)} "${String(e)}" in ${A(this)}`);return a}setSignal(e,a){let d=Lo(String(e));if(d)throw new TypeError(`${d} on ${A(this)}.`);if(!I(a))throw new TypeError(`Expected signal as value for property "${String(e)}" on ${A(this)}.`);let c=this.#o[e],i=K(a);if(this.#o[e]=a,Object.defineProperty(this,e,{get:a.get,set:i?a.set:void 0,enumerable:!0,configurable:i}),c&&K(c))c.set(L);if(R&&this.debug)M(a,`Set ${co(a)} "${String(e)} in ${A(this)}`)}}return customElements.define(o,r),r},Ao="context-request";var zo=(o)=>(t)=>{let n=(r)=>{let{context:e,callback:a}=r;if(o.includes(e)&&k(a))r.stopPropagation(),a(t.getSignal(String(e)))};return t.addEventListener(Ao,n),()=>t.removeEventListener(Ao,n)};var nt=(o,t)=>{if(t==null)return;let n=o(t);return Number.isFinite(n)?n:void 0},P=(o,t)=>t!=="false"&&t!=null,j=(o=0)=>(t,n)=>{if(n==null)return o;let r=n.trim();if(r==="")return o;if(r.toLowerCase().startsWith("0x")){let a=parseInt(r,16);return Number.isFinite(a)?a:o}let e=nt(parseFloat,n);return e!=null?Math.trunc(e):o};var x=(o="")=>(t,n)=>n??o;var Go=(o,t,n)=>F(o)?t.getSignal(o).get():I(o)?o.get():k(o)?o(n):$,rt=(o)=>{if(/^(mailto|tel):/i.test(o))return!0;if(o.includes("://"))try{let t=new URL(o,window.location.origin);return["http:","https:","ftp:"].includes(t.protocol)}catch(t){return!1}return!0},et=(o,t,n)=>{if(/^on/i.test(t))throw new Error(`Unsafe attribute: ${t}`);if(n=String(n).trim(),!rt(n))throw new Error(`Unsafe URL for ${t}: ${n}`);o.setAttribute(t,n)},z=(o,t)=>(n,r)=>{let{op:e,name:a="",read:d,update:c}=t,i=d(r),b={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"};if(F(o)&&F(i)&&n[o]===$)n.attributeChangedCallback(o,null,i);let u=(f)=>()=>{if(R&&n.debug)M(r,`${f} ${b[e]+a} of ${A(r)} in ${A(n)}`);t.resolve?.(r)},y=(f)=>(l)=>{M(l,`Failed to ${f} ${b[e]+a} of ${A(r)} in ${A(n)}`,Z),t.reject?.(l)};return V(()=>{let f=Symbol(`${e}:${a}`),l=Symbol(`${e}-${a}`),E=$;try{E=Go(o,n,r)}catch(h){M(h,`Failed to resolve value of ${Y(o)} for ${b[e]+a} of ${A(r)} in ${A(n)}`,Z);return}if(E===$)E=i;else if(E===L)E=t.delete?null:i;if(t.delete&&E===null)X(()=>{return t.delete(r),!0},l).then(u("Deleted")).catch(y("delete"));else if(E!=null){let h=d(r);if(Object.is(E,h))return;X(()=>{return c(r,E),!0},f).then(u("Updated")).catch(y("update"))}})},_=(o,t)=>(n,r)=>{let e=(d)=>()=>{if(R&&n.debug)M(r,`${d} element in ${A(r)} in ${A(n)}`);if(k(t?.resolve))t.resolve(r);else{let c=I(o)?o:F(o)?n.getSignal(o):void 0;if(K(c))c.set(0)}},a=(d)=>(c)=>{M(c,`Failed to ${d} element in ${A(r)} in ${A(n)}`,Z),t?.reject?.(c)};return V(()=>{let d=Symbol("i"),c=Symbol("d"),i=0;try{i=Go(o,n,r)}catch(b){M(b,`Failed to resolve value of ${Y(o)} for insertion or deletion in ${A(r)} in ${A(n)}`,Z);return}if(i===$)i=0;if(i>0){if(!t)throw new TypeError("No inserter provided");X(()=>{for(let b=0;b<i;b++){let u=t.create(r);if(!u)continue;r.insertAdjacentElement(t.position??"beforeend",u)}return!0},d).then(e("Inserted")).catch(a("insert"))}else if(i<0)X(()=>{if(t&&(t.position==="afterbegin"||t.position==="beforeend"))for(let b=0;b>i;b--)if(t.position==="afterbegin")r.firstElementChild?.remove();else r.lastElementChild?.remove();else r.remove();return!0},c).then(e("Removed")).catch(a("remove"))})},S=(o)=>z(o,{op:"t",read:(t)=>t.textContent,update:(t,n)=>{Array.from(t.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),t.append(document.createTextNode(n))}}),m=(o,t=o)=>z(t,{op:"p",name:String(o),read:(n)=>(o in n)?n[o]:L,update:(n,r)=>{n[o]=r}}),T=(o)=>z(o,{op:"p",name:"hidden",read:(t)=>!t.hidden,update:(t,n)=>{t.hidden=!n}}),H=(o,t=o)=>z(t,{op:"a",name:o,read:(n)=>n.getAttribute(o),update:(n,r)=>{et(n,o,r)},delete:(n)=>{n.removeAttribute(o)}}),B=(o,t=o)=>z(t,{op:"a",name:o,read:(n)=>n.hasAttribute(o),update:(n,r)=>{n.toggleAttribute(o,r)}}),G=(o,t=o)=>z(t,{op:"c",name:o,read:(n)=>n.classList.contains(o),update:(n,r)=>{n.classList.toggle(o,r)}});var oo=(o,t={})=>z(o,{op:"h",read:(n)=>(n.shadowRoot||!t.shadowRootMode?n:null)?.innerHTML??"",update:(n,r)=>{let{shadowRootMode:e,allowScripts:a}=t;if(!r){if(n.shadowRoot)n.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!n.shadowRoot)n.attachShadow({mode:e});let d=n.shadowRoot||n;if(d.innerHTML=r,!a)return"";return d.querySelectorAll("script").forEach((c)=>{let i=document.createElement("script");i.appendChild(document.createTextNode(c.textContent??"")),d.appendChild(i),c.remove()})," with scripts"}});var Fo=new Map,at=(o)=>{let t=o.toLowerCase().split(",").map((r)=>r.trim()),n={noCache:!1,noStore:!1,maxAge:void 0};for(let r of t)if(r==="no-cache")n.noCache=!0;else if(r==="no-store")n.noStore=!0;else if(r.startsWith("max-age=")){let e=parseInt(r.substring(8),10);if(!isNaN(e))n.maxAge=e}return n},dt=(o)=>{if(o.maxAge!==void 0)return(Date.now()-o.timestamp)/1000<o.maxAge;return!0},to=async(o,t)=>{let n=Fo.get(o),r={};if(n?.etag)r["If-None-Match"]=n.etag;if(n?.lastModified)r["If-Modified-Since"]=n.lastModified;let e=await fetch(o,{signal:t,headers:r});if(e.status===304&&n)return{content:n.content,fromCache:!0};if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let a=await e.text(),d=e.headers.get("cache-control"),c=e.headers.get("etag"),i=e.headers.get("last-modified"),b=d?at(d):{noCache:!1,noStore:!1};if(!b.noStore){let u={content:a,timestamp:Date.now(),etag:c||void 0,lastModified:i||void 0,maxAge:b.maxAge};if(!b.noCache||dt(u))Fo.set(o,u)}return{content:a,fromCache:!1}};var st=s("client-router",{},(o,{all:t,first:n})=>{let r=o.getAttribute("outlet")??"main",e=w(window.location.pathname),a=w(""),d=()=>!a.get(),c=C(async(i)=>{let b=e.get(),u=String(new URL(b,window.location.origin));if(i?.aborted)return c.get();try{a.set("");let{content:y}=await to(u,i),f=new DOMParser().parseFromString(y,"text/html"),l=f.querySelector("title")?.textContent;if(l)document.title=l;if(b!==window.location.pathname)window.history.pushState({},"",u);return f.querySelector(r)?.innerHTML??""}catch(y){let f=`Navigation failed: ${y instanceof Error?y.message:String(y)}`;return a.set(f),c.get()}});return[t("a[href]",G("active",(i)=>{let b=i.getAttribute("href");if(!b)return!1;try{return e.get()===new URL(b,window.location.href).pathname}catch{return!1}}),g("click",(i)=>{if(!(i.target instanceof HTMLAnchorElement))return;let b=new URL(i.target.href);if(b.origin===window.location.origin)i.preventDefault(),e.set(b.pathname)})),n(r,oo(c,{allowScripts:!0})),n("callout-box",m("hidden",d),G("danger",d)),n(".error",S(a)),()=>{let i=()=>{e.set(window.location.pathname)};return window.addEventListener("popstate",i),()=>{window.removeEventListener("popstate",i)}}]});var vo="media-motion",Po="media-theme",Yo="media-viewport",_o="media-orientation",wt=s("media-context",{[vo]:()=>{let o=matchMedia("(prefers-reduced-motion: reduce)"),t=w(o.matches);return o.addEventListener("change",(n)=>{t.set(n.matches)}),t},[Po]:()=>{let o=matchMedia("(prefers-color-scheme: dark)"),t=w(o.matches?"dark":"light");return o.addEventListener("change",(n)=>{t.set(n.matches?"dark":"light")}),t},[Yo]:(o)=>{let t=(i,b)=>{let y=o.getAttribute(i)?.trim();if(!y)return b;let f=y.match(/em$/)?"em":"px",l=parseFloat(y);return Number.isFinite(l)?l+f:b},n=matchMedia(`(min-width: ${t("sm","32em")})`),r=matchMedia(`(min-width: ${t("md","48em")})`),e=matchMedia(`(min-width: ${t("lg","72em")})`),a=matchMedia(`(min-width: ${t("xl","104em")})`),d=()=>{if(a.matches)return"xl";if(e.matches)return"lg";if(r.matches)return"md";if(n.matches)return"sm";return"xs"},c=w(d());return n.addEventListener("change",()=>{c.set(d())}),r.addEventListener("change",()=>{c.set(d())}),e.addEventListener("change",()=>{c.set(d())}),a.addEventListener("change",()=>{c.set(d())}),c},[_o]:()=>{let o=matchMedia("(orientation: landscape)"),t=w(o.matches?"landscape":"portrait");return o.addEventListener("change",(n)=>{t.set(n.matches?"landscape":"portrait")}),t}},()=>[zo([vo,Po,Yo,_o])]);var Lt=s("hello-world",{name:$},(o,{first:t})=>[t("span",S("name")),t("input",g("input",(n)=>{o.name=n.target?.value||$}))]);var kt=s("my-counter",{count:j()},(o,{first:t})=>[t(".count",S("count")),t(".parity",S(()=>o.count%2?"odd":"even")),t(".increment",g("click",()=>{o.count++})),t(".decrement",g("click",()=>{o.count--}))]);var Mt=s("my-carousel",{},(o,{all:t,first:n})=>{let r=w(0),e=Array.from(o.querySelectorAll('[role="tabpanel"]')),a=e.length,d=(c)=>{r.update((i)=>(i+c+a)%a)};return[n("nav",g("keyup",(c)=>{if(["ArrowLeft","ArrowRight","Home","End"].includes(c.key)){if(c.preventDefault(),c.stopPropagation(),c.key==="Home")r.set(0);else if(c.key==="End")r.set(a-1);else d(c.key==="ArrowLeft"?-1:1);o.querySelectorAll('[role="tab"]')[r.get()].focus()}}),n(".prev",g("click",()=>{d(-1)})),n(".next",g("click",()=>{d(1)})),t('[role="tab"]',m("ariaSelected",(c)=>String(c.dataset.index===String(r.get()))),m("tabIndex",(c)=>c.dataset.index===String(r.get())?0:-1),g("click",(c)=>{let i=c.target?.dataset.index,b=i?parseInt(i):0;r.set(Number.isInteger(b)?b:0)}))),t('[role="tabpanel"]',m("ariaCurrent",(c)=>String(c.id===e[r.get()].id)))]});var jt=s("input-button",{disabled:P,label:x($),badge:x($)},(o,{first:t})=>[t("button",m("disabled")),t(".label",S("label")),t(".badge",S("badge"))]);var Rt=s("input-checkbox",{checked:P,label:x($)},(o,{first:t})=>[B("checked"),t("input",m("checked"),g("change",(n)=>{o.checked=n.target?.checked})),t(".label",S("label"))]);var ct=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"],bt=(o,t,n)=>Math.min(Math.max(o,t),n),no=(o,t)=>g("keydown",(n)=>{if(ct.includes(n.key)){if(n.preventDefault(),n.stopPropagation(),n.key==="Home")t.set(0);else if(n.key==="End")t.set(o.length-1);else t.update((r)=>bt(r+(n.key==="ArrowRight"||n.key==="ArrowDown"?1:-1),0,o.length-1));if(o[t.get()])o[t.get()].focus()}});var Pt=s("input-radiogroup",{value:x()},(o,{all:t})=>{let n=Array.from(o.querySelectorAll("input")),r=w(n.findIndex((e)=>e.checked));return[H("value"),no(n,r),t("input",g("change",(e)=>{let a=e.target;o.value=a.value,r.set(n.findIndex((d)=>d.checked))}),g("keyup",(e)=>{if(e.key==="Enter"&&e.target)e.target.click()}),m("tabIndex",(e)=>e.value===o.value?0:-1)),t("label",G("selected",(e)=>o.value===e.querySelector("input")?.value))]});var Eo=(o)=>typeof o==="number",Q=(o,t=!1,n=0)=>{if(!o)return n;let r=t?parseInt(o,10):parseFloat(o);return Number.isFinite(r)?r:n},it=(o)=>{if(Math.floor(o)===o||String(o).indexOf(".")===-1)return 0;return String(o).split(".")[1].length||0},ut=(o,t)=>{let n=o.querySelector("input");return n&&n.type==="number"?Q(t,o.hasAttribute("integer"),0):t??""},Qt=s("input-field",{value:ut,length:0,error:"",description:"",clear:(o)=>{o.clear=()=>{o.value="",o.length=0;let t=o.querySelector("input");if(t)t.value="",t.checkValidity(),t.focus()}}},(o,{first:t})=>{let n=[],r=o.querySelector("input");if(!r)throw new Error("No input element found");let e=r.type==="number",a=o.hasAttribute("integer"),d=o.getAttribute("validate"),c=(u)=>{let y=typeof u==="function"?u(o.value):e&&!Eo(u)?Q(u,a,0):u;if(Object.is(o.value,y))return;if(y!==null&&d)fetch(`${d}?name=${r.name}value=${y}`).then(async(f)=>{let l=await f.text();r.setCustomValidity(l),o.error=l}).catch((f)=>{o.error=f.message});if(r.checkValidity(),o.value=y,o.error=r.validationMessage??"",r?.value!==String(u))W("value-change",u)(o)};if(n.push(t("input",m("value",()=>String(o.value)),g("change",()=>{c(e?r.valueAsNumber??0:r.value??"")}),g("input",()=>{o.length=r.value.length??0}))),e){let u=o.querySelector(".spinbutton"),y=Q(u?.dataset.step||r.step,a,1),f=Q(r.min,a,0),l=Q(r.max,a,100),E=(h)=>{if(!Number.isFinite(h)||h<f)return f;if(h>l)return l;let p=f+Math.round((h-f)/y)*y;return a?Math.round(p):parseFloat(p.toFixed(it(y)))};if(n.push(t("input",g("keydown",(h)=>{let{key:p,shiftKey:N}=h;if(["ArrowUp","ArrowDown"].includes(p)){h.stopPropagation(),h.preventDefault();let lo=N?y*10:y,ho=E(r.valueAsNumber+(p==="ArrowUp"?lo:-lo));r.value=String(ho),c(ho)}}))),u)n.push(t(".decrement",g("click",(h)=>{let p=h.shiftKey?y*10:y,N=E(r.valueAsNumber-p);r.value=String(N),c(N)}),m("disabled",()=>(Eo(f)?o.value:0)-y<f)),t(".increment",g("click",(h)=>{let p=h.shiftKey?y*10:y,N=E(r.valueAsNumber+p);r.value=String(N),c(N)}),m("disabled",()=>(Eo(l)?o.value:0)+y>l)))}else n.push(t(".clear",g("click",()=>{o.clear(),c("")}),m("hidden",()=>!o.length)));let i=o.querySelector(".error")?.id;n.push(t(".error",S("error")),t("input",m("ariaInvalid",()=>o.error?"true":"false"),H("aria-errormessage",()=>o.error&&i?i:L)));let b=o.querySelector(".description");if(b){let u=r.maxLength,y=u&&b.dataset.remaining;if(y)o.setSignal("description",C(()=>y.replace("${x}",String(u-o.length))));n.push(t(".description",S("description")),t("input",H("aria-describedby",()=>o.description&&b.id?b.id:L)))}return n});var ro=(o,t)=>()=>{o.value="",o.setCustomValidity(""),o.checkValidity(),t()},Qo=(o,t)=>()=>{O(()=>{o.value="",o.length=0,o.error=t.validationMessage??""})},eo=(o)=>[T(()=>!!o.length),g("click",()=>o.clear())];var ao=(o,t,n,r)=>[m("ariaInvalid",()=>String(!!o.error)),H("aria-errormessage",()=>o.error&&n?n:L),H("aria-describedby",()=>o.description&&r?r:L),g("change",()=>O(()=>{o.value=t.value,o.error=t.validationMessage??""}))];var Wt=s("input-textbox",{value:x(),length:0,error:"",description:$,clear(){}},(o,{first:t})=>{let n=o.querySelector("input, textarea");if(!n)throw new Error("No Input or textarea element found");o.clear=ro(n,Qo(o,n));let r=o.querySelector(".description");if(r?.dataset.remaining&&n.maxLength)o.setSignal("description",C(()=>r.dataset.remaining.replace("${n}",String(n.maxLength-o.length))));return[H("value"),t(".description",S("description")),t("input, textarea",...ao(o,n,o.querySelector(".error")?.id,r?.id),g("input",()=>o.length=n.value.length)),t(".clear",...eo(o)),t(".error",S("error"))]});var rn=s("input-combobox",{value:x(),length:0,error:"",description:$,clear(){}},(o,{first:t,all:n})=>{let r=o.querySelector("input");if(!r)throw new Error("Input element not found");let e=w("idle"),a=w(-1),d=w(""),c=w(!1),i=v(o,'[role="option"]:not([hidden])'),b=()=>e.get()==="editing"&&c.get(),u=(y)=>{r.value=y,O(()=>{e.set("selected"),o.value=y,o.length=y.length,o.error=r.validationMessage??"",d.set(y.toLowerCase()),a.set(-1),c.set(r.required&&!r.value||!1)})};return o.clear=ro(r,()=>u("")),[H("value"),()=>V(()=>{let y=e.get(),f=a.get();if(y==="idle")return;else if(y==="editing"&&f>=0)i.get().at(f)?.focus();else r.focus()}),g("keydown",(y)=>{if(["ArrowDown","ArrowUp"].includes(y.key))if(y.preventDefault(),y.stopPropagation(),e.set("editing"),y.altKey)c.set(y.key==="ArrowDown");else a.update((f)=>y.key==="ArrowDown"?Math.min(f+1,i.get().length-1):Math.max(f-1,-1))}),g("keyup",(y)=>{if(y.key==="Delete")y.preventDefault(),y.stopPropagation(),u("")}),g("focusout",()=>requestAnimationFrame(()=>{if(!o.contains(document.activeElement))e.set("idle")})),t(".description",S("description")),t("input",...ao(o,r,o.querySelector(".error")?.id,o.querySelector(".description")?.id),m("ariaExpanded",()=>String(b())),g("input",()=>O(()=>{e.set("editing"),c.set(!0),d.set(r.value.trim().toLowerCase()),o.length=r.value.length}))),t(".clear",...eo(o)),t('[role="listbox"]',T(b),g("keyup",(y)=>{if(y.key==="Enter")u(i.get().at(a.get())?.textContent?.trim()||"");else if(y.key==="Escape")u(o.value);else{let f=y.key.toLowerCase(),l=i.get().findIndex((E)=>(E.textContent?.trim().toLowerCase()||"").startsWith(f));if(l!==-1)a.set(l)}})),n('[role="option"]',m("ariaSelected",(y)=>String(y.textContent?.trim().toLowerCase()===o.value.toLowerCase())),T((y)=>y.textContent?.trim().toLowerCase().includes(d.get())),g("click",(y)=>{u(y.target.textContent?.trim()||"")})),t(".error",S("error"))]});var dn=s("code-block",{collapsed:P},(o,{first:t})=>{let n=o.querySelector("code");return[B("collapsed"),t(".overlay",g("click",()=>{o.collapsed=!1})),t(".copy",g("click",async(r)=>{let e=r.currentTarget,a=e.textContent?.trim()??"",d="success";try{await navigator.clipboard.writeText(n?.textContent?.trim()??"")}catch(c){console.error("Error while trying to use navigator.clipboard.writeText()",c),d="error"}e.disabled=!0,e.label=o.getAttribute(`copy-${d}`)??a,setTimeout(()=>{e.disabled=!1,e.label=a},d==="success"?1000:3000)}))]});var yn=s("tab-group",{selected:""},(o,{all:t,first:n})=>{let r=(d)=>d?.getAttribute("aria-controls")??"",e=Array.from(o.querySelectorAll('[role="tab"]')),a=w(e.findIndex((d)=>d.ariaSelected==="true"));return o.selected=r(e[a.get()]),[n('[role="tablist"]',no(e,a)),t('[role="tab"]',g("click",(d)=>{o.selected=r(d.currentTarget),a.set(e.findIndex((c)=>c===d.currentTarget))}),m("ariaSelected",(d)=>String(o.selected===r(d))),m("tabIndex",(d)=>o.selected===r(d)?0:-1)),t('[role="tabpanel"]',T((d)=>o.selected===d.id))]});var Uo=(o,t)=>{let n="",r="";if(!t)r="No URL provided";else if((o.parentElement||o.getRootNode().host)?.closest(`${o.localName}[src="${t}"]`))r="Recursive loading detected";else try{let e=new URL(t,location.href);if(e.origin===location.origin)n=String(e);else r="Invalid URL origin"}catch(e){r=String(e)}return{value:n,error:r}};var En=s("lazy-load",{src:Uo},(o,{first:t})=>{let n=w(""),r=C(async(e)=>{let a=o.src.value;if(o.src.error||!a)return n.set(o.src.error??"No URL provided"),"";try{n.set(""),o.querySelector(".loading")?.remove();let{content:d}=await to(a,e);return d}catch(d){let c=d instanceof Error?d.message:String(d);return n.set(c),""}});return[oo(r),t("callout-box",m("hidden",()=>!n.get()&&r.get()!==L),G("danger",()=>!n.get())),t(".error",S(n))]});var wo=(o,t)=>(n)=>v(n,`${o}${t?"[checked]":":not([checked])"}`);var $n=s("todo-app",{active:wo("input-checkbox",!1),completed:wo("input-checkbox",!0)},(o,{first:t})=>{let n=o.querySelector("input-textbox");if(!n)throw new Error("No input field found");let r=o.querySelector("template");if(!r)throw new Error("No template found");let e=o.querySelector("ol");if(!e)throw new Error("No list found");let a=So(n,"length",0),d=So(o.querySelector("input-radiogroup"),"value","all");return[t(".submit",m("disabled",()=>!a())),t("form",g("submit",(c)=>{c.preventDefault(),queueMicrotask(()=>{if(!n.value.toString().trim())return;let b=document.importNode(r.content,!0).firstElementChild;if(!(b instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");b.querySelector("slot")?.replaceWith(String(n.value)),e.append(b),n.clear()})})),t("ol",H("filter",d),g("click",(c)=>{let i=c.target;if(i.localName==="button")i.closest("li").remove()})),t(".count",S(()=>String(o.active.length))),t(".singular",T(()=>o.active.length===1)),t(".plural",T(()=>o.active.length>1)),t(".remaining",T(()=>!!o.active.length)),t(".all-done",T(()=>!o.active.length)),t(".clear-completed",m("disabled",()=>!o.completed.length),m("badge",()=>o.completed.length>0?String(o.completed.length):""),g("click",()=>{let c=Array.from(o.querySelectorAll("ol li"));for(let i=c.length-1;i>=0;i--)if(c[i].querySelector("input-checkbox")?.checked)c[i].remove()}))]});var qo=(o)=>(t)=>()=>v(t,o).get().reduce((n,r)=>n+r.value,0);var Cn=s("product-catalog",{total:qo("spin-button")},(o,{first:t})=>[t("input-button",Oo({badge:()=>o.total>0?String(o.total):"",disabled:()=>!o.total}))]);var Nn=s("spin-button",{value:j()},(o,{all:t,first:n})=>{let r=o.getAttribute("zero-label")||"Add to Cart",e=o.getAttribute("increment-label")||"Increment",a=j(9)(o,o.getAttribute("max")),d=()=>o.value===0;return[n(".value",S("value"),m("hidden",d)),n(".decrement",m("hidden",d),g("click",()=>{o.value--})),n(".increment",S(()=>d()?r:"+"),m("ariaLabel",()=>d()?r:e),m("disabled",()=>o.value>=a),g("click",()=>{o.value++})),t("button",g("keydown",(c)=>{let{key:i}=c;if(["ArrowUp","ArrowDown","-","+"].includes(i)){if(c.stopPropagation(),c.preventDefault(),i==="ArrowDown"||i==="-")o.value--;if(i==="ArrowUp"||i==="+")o.value++}}))]});var On=s("rating-stars",{value:j()},(o,{all:t})=>{let n=(r)=>parseInt(r.dataset.key||"0");return[t("input",m("checked",(r)=>o.value===n(r)),g("change",(r)=>{r.stopPropagation();let e=parseInt(r.currentTarget?.value)+1;o.value=e,W("change-rating",e)(o)})),t(".label",S((r)=>n(r)<=o.value?"\u2605":"\u2606"))]});var Fn=s("rating-feedback",{},(o,{all:t,first:n})=>{let r=w(0),e=w(!0),a=w(!1);if(!o.querySelector("rating-stars"))throw new Error("No rating-stars component found");let c=(i)=>r.get()!==parseInt(i.dataset.key||"0");return[g("change-rating",(i)=>{r.set(i.detail)}),g("submit",(i)=>{i.preventDefault(),a.set(!0),console.log("Feedback submitted")}),n(".hide",g("click",()=>{let i=o.querySelector(".feedback");if(i)i.hidden=!0})),n("textarea",g("input",(i)=>{e.set(i.target?.value.trim()==="")})),n(".feedback",m("hidden",()=>a.get()||!r.get())),t(".feedback p",m("hidden",c)),n("input-button",m("disabled",e))]});var Yn=s("calc-table",{columns:j(),rows:j()},(o,{all:t,first:n})=>{let e=o.querySelector(".calc-table-row"),a=o.querySelector(".calc-table-colhead"),d=o.querySelector(".calc-table-cell");if(!e||!a||!d)throw new Error("Missing template elements");let c=new Map;for(let b=0;b<o.columns;b++)c.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[b],w(0));let i=(b)=>{return Array.from(o.querySelectorAll(`tbody input[data-key="${b}"]`)).map((u)=>Number.isFinite(u.valueAsNumber)?u.valueAsNumber:0).reduce((u,y)=>u+y,0)};return[m("rows",()=>o.querySelector(".rows spin-button")?.value),m("columns",()=>o.querySelector(".columns spin-button")?.value),n("tbody",_((b)=>o.rows-b.querySelectorAll("tr").length,{position:"beforeend",create:(b)=>{let u=document.importNode(e.content,!0).firstElementChild;if(!(u instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${u}`);let y=String(b.querySelectorAll("tr").length+1);return u.dataset.key=y,u.querySelector("slot")?.replaceWith(document.createTextNode(y)),u},resolve:()=>{for(let[b,u]of c)u.set(i(b))}})),n("thead tr",_((b)=>o.columns-(b.querySelectorAll("th").length-1),{position:"beforeend",create:(b)=>{let u=document.importNode(a.content,!0).firstElementChild;if(!(u instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${u}`);let y="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[b.querySelectorAll("th").length-1];return c.set(y,w(0)),u.querySelector("slot")?.replaceWith(document.createTextNode(y)),u}})),t("tbody tr",_((b)=>o.columns-b.querySelectorAll("td").length,{position:"beforeend",create:(b)=>{let u=document.importNode(d.content,!0).firstElementChild;if(!(u instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${u}`);let y=b.dataset.key,f="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[b.querySelectorAll("td").length],l=u.querySelector("input");if(!l)throw new Error("No input found in cell template");return l.dataset.key=f,u.querySelector("slot")?.replaceWith(document.createTextNode(`${f}${y}`)),u}})),n("tfoot tr",_((b)=>o.columns-b.querySelectorAll("td").length,{position:"beforeend",create:(b)=>{let u=document.createElement("td"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[b.querySelectorAll("td").length];return u.dataset.key=y,u}})),t("tbody input",g("change",(b)=>{let u=b.target?.dataset.key;c.get(u)?.set(i(u))})),t("tfoot td",S((b)=>String(c.get(b.dataset.key).get())))]});
