var A=(t)=>typeof t==="function",wt=(t,o)=>Object.prototype.toString.call(t)===`[object ${o}]`,at=(t)=>t instanceof Error?t:Error(String(t));class st extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var N,q=new Set,dt=0,it=new Map,D,pt=()=>{D=void 0;let t=Array.from(it.values());it.clear();for(let o of t)o()},qt=()=>{if(D)cancelAnimationFrame(D);D=requestAnimationFrame(pt)};queueMicrotask(pt);var Lt=(t)=>{let o=new Set,n=t;return n.off=(r)=>{o.add(r)},n.cleanup=()=>{for(let r of o)r();o.clear()},n},bt=(t)=>{if(N&&!t.has(N)){let o=N;t.add(o),N.off(()=>{t.delete(o)})}},Y=(t)=>{for(let o of t)if(dt)q.add(o);else o()},Ht=()=>{while(q.size){let t=Array.from(q);q.clear();for(let o of t)o()}},ut=(t)=>{dt++;try{t()}finally{Ht(),dt--}},At=(t,o)=>{let n=N;N=o;try{t()}finally{N=n}},_=(t,o)=>new Promise((n,r)=>{it.set(o||Symbol(),()=>{try{n(t())}catch(e){r(e)}}),qt()}),$t="State",E=(t)=>{let o=new Set,n=t,r={[Symbol.toStringTag]:$t,get:()=>{return bt(o),n},set:(e)=>{if(Object.is(n,e))return;if(n=e,Y(o),p===n)o.clear()},update:(e)=>{r.set(e(n))}};return r},X=(t)=>wt(t,$t),ft="Computed",k=(t)=>{let o=new Set,n=p,r,e,a=!0,d=!1,i=!1,s=(l)=>{if(!Object.is(l,n))n=l,d=!0;r=void 0,a=!1},c=()=>{d=p!==n,n=p,r=void 0},b=(l)=>{let w=at(l);d=!r||w.name!==r.name||w.message!==r.message,n=p,r=w},u=(l)=>(w)=>{if(i=!1,e=void 0,l(w),d)Y(o)},m=Lt(()=>{if(a=!0,e?.abort("Aborted because source signal changed"),o.size)Y(o);else m.cleanup()}),S=()=>At(()=>{if(i)throw new st("computed");if(d=!1,A(t)&&t.constructor.name==="AsyncFunction"){if(e)return n;e=new AbortController,e.signal.addEventListener("abort",()=>{i=!1,e=void 0,S()},{once:!0})}let l;i=!0;try{l=e?t(e.signal):t()}catch(w){if(w instanceof DOMException&&w.name==="AbortError")c();else b(w);i=!1;return}if(l instanceof Promise)l.then(u(s),u(b));else if(l==null||p===l)c();else s(l);i=!1},m);return{[Symbol.toStringTag]:ft,get:()=>{if(bt(o),Ht(),a)S();if(r)throw r;return n}}},Ct=(t)=>wt(t,ft),Dt=(t)=>A(t)&&t.length<2,p=Symbol(),I=(t)=>X(t)||Ct(t),Tt=(t)=>I(t)?t:Dt(t)?k(t):E(t);function K(t){let{signals:o,ok:n,err:r=console.error,nil:e=()=>{}}=A(t)?{signals:[],ok:t}:t,a=!1,d=Lt(()=>At(()=>{if(a)throw new st("effect");a=!0;let i=[],s=!1,c=o.map((u)=>{try{let m=u.get();if(m===p)s=!0;return m}catch(m){return i.push(at(m)),p}}),b=void 0;try{b=s?e():i.length?r(...i):n(...c)}catch(u){b=r(at(u))}finally{if(A(b))d.off(b)}a=!1},d));return d(),()=>d.cleanup()}var v=!1;var U="error",Yt=(t)=>t?`#${t}`:"",_t=(t)=>t.length?`.${Array.from(t).join(".")}`:"",kt=(t)=>!!t&&typeof t==="object",R=(t)=>typeof t==="string",Xt=(t)=>t.nodeType===Node.ELEMENT_NODE,L=(t)=>`<${t.localName}${Yt(t.id)}${_t(t.classList)}>`,J=(t)=>R(t)?`"${t}"`:kt(t)?JSON.stringify(t):String(t),rt=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},T=(t,o,n="debug")=>{if(["error","warn"].includes(n))console[n](o,t);return t};class Mt extends Error{constructor(t){super(t);this.name="CircularMutationError"}}var xt=(t)=>t instanceof HTMLElement&&t.localName.includes("-"),Ut=(t)=>{let o=new Set;if(t.includes("."))o.add("class");if(t.includes("#"))o.add("id");if(t.includes("[")){let n=t.split("[");for(let r=1;r<n.length;r++){let e=n[r];if(!e.includes("]"))continue;let a=e.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(a)o.add(a)}}return[...o]},It=(t,o)=>{if(t.length!==o.length)return!1;let n=new Set(t);for(let r of o)if(!n.has(r))return!1;return!0},jt=(t,o,n)=>{let r=new MutationObserver(n),e=Ut(o),a={childList:!0,subtree:!0};if(e.length)a.attributes=!0,a.attributeFilter=e;return r.observe(t,a),r},Z=(t,o)=>{let n=new Set,r=()=>Array.from(t.querySelectorAll(o)),e=p,a,d=0,i=2,s=()=>{e=r(),a=jt(t,o,()=>{if(!n.size){a?.disconnect(),a=void 0;return}if(d++,d>i)throw a?.disconnect(),a=void 0,d=0,new Mt("Circular mutation in element selection detected");try{let c=r();if(!It(e,c))e=c,Y(n)}finally{d--}})};return{[Symbol.toStringTag]:ft,get:()=>{if(bt(n),!n.size)e=r();else if(!a)s();return e}}},gt=(t)=>(o)=>Z(o,t),vt=(t,o,n)=>(r)=>k(()=>Z(r,t).get().reduce(o,n)),f=(t,o,n=!1)=>(r,e=r)=>{if(!A(o))throw new TypeError(`Invalid event listener provided for "${t} event on element ${L(e)}`);return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o)};var V=(t,o)=>(n,r=n)=>{r.dispatchEvent(new CustomEvent(t,{detail:A(o)?o(r):o,bubbles:!0}))},Nt=(t)=>(o,n)=>{if(!xt(n))throw new TypeError("Target element must be a custom element");let r=A(t)?t(n):t;if(!kt(r))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(n.localName).then(()=>{for(let[e,a]of Object.entries(r)){let d=R(a)?o.getSignal(e):Tt(a);n.setSignal(e,d)}}).catch((e)=>{throw new Error(`Failed to pass signals to ${L(n)}`,{cause:e})})},mt=(t,o,n)=>{if(!t)return()=>n;if(!xt(t))throw new TypeError("Target element must be a custom element");let r=k(async()=>{return await customElements.whenDefined(t.localName),t.getSignal(o)});return()=>{let e=r.get();return e===p?n:e.get()}};var H=Symbol(),Kt=new Set(["constructor","prototype"]),Zt=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),et=(t)=>A(t)&&t.length>=2,Et=(t)=>{if(Kt.has(t))return`Property name "${t}" is a reserved word`;if(Zt.has(t))return`Property name "${t}" conflicts with inherited HTMLElement property`;return null},ct=(t,o,n=o)=>{let r=t.filter(A).map((e)=>e(o,n));return()=>{r.filter(A).forEach((e)=>e()),r.length=0}},Vt=()=>({first:(t,...o)=>(n)=>{let r=(n.shadowRoot||n).querySelector(t);if(r)ct(o,n,r)},all:(t,...o)=>(n)=>{let r=new Map,e=n.shadowRoot||n,a=(c)=>{if(!r.has(c))r.set(c,ct(o,n,c))},d=(c)=>{let b=r.get(c);if(A(b))b();r.delete(c)},i=(c)=>(b)=>{if(Xt(b)){if(b.matches(t))c(b);b.querySelectorAll(t).forEach(c)}},s=jt(e,t,(c)=>{for(let b of c)b.addedNodes.forEach(i(a)),b.removedNodes.forEach(i(d))});return e.querySelectorAll(t).forEach(a),()=>{s.disconnect(),r.forEach((c)=>c()),r.clear()}}}),y=(t,o={},n)=>{for(let e of Object.keys(o)){let a=Et(e);if(a)throw new TypeError(`${a} in component "${t}".`)}class r extends HTMLElement{debug;#t={};#o;static observedAttributes=Object.entries(o)?.filter(([,e])=>et(e)).map(([e])=>e)??[];constructor(){super();for(let[e,a]of Object.entries(o)){if(a==null)continue;let d=et(a)?a(this,null):A(a)?a(this):a;if(d!=null)this.setSignal(e,Tt(d))}}connectedCallback(){if(v){if(this.debug=this.hasAttribute("debug"),this.debug)T(this,"Connected")}let e=n(this,Vt());if(!Array.isArray(e))throw new TypeError(`Expected array of functions as return value of setup function in ${L(this)}`);this.#o=ct(e,this)}disconnectedCallback(){if(A(this.#o))this.#o();if(v&&this.debug)T(this,"Disconnected")}attributeChangedCallback(e,a,d){if(d===a||Ct(this.#t[e]))return;let i=o[e];if(!et(i))return;let s=i(this,d,a);if(v&&this.debug)T(d,`Attribute "${e}" of ${L(this)} changed from ${J(a)} to ${J(d)}, parsed as <${rt(s)}> ${J(s)}`);this[e]=s}getSignal(e){let a=this.#t[e];if(v&&this.debug)T(a,`Get ${rt(a)} "${String(e)}" in ${L(this)}`);return a}setSignal(e,a){let d=Et(String(e));if(d)throw new TypeError(`${d} on ${L(this)}.`);if(!I(a))throw new TypeError(`Expected signal as value for property "${String(e)}" on ${L(this)}.`);let i=this.#t[e],s=X(a);if(this.#t[e]=a,Object.defineProperty(this,e,{get:a.get,set:s?a.set:void 0,enumerable:!0,configurable:s}),i&&X(i))i.set(p);if(v&&this.debug)T(a,`Set ${rt(a)} "${String(e)} in ${L(this)}`)}}return customElements.define(t,r),r},St="context-request";var Ft=(t)=>(o)=>{let n=(r)=>{let{context:e,callback:a}=r;if(t.includes(e)&&A(a))r.stopPropagation(),a(o.getSignal(String(e)))};return o.addEventListener(St,n),()=>o.removeEventListener(St,n)};var Wt=(t,o)=>{if(o==null)return;let n=t(o);return Number.isFinite(n)?n:void 0},z=(t,o)=>o!=="false"&&o!=null,M=(t=0)=>(o,n)=>{if(n==null)return t;let r=n.trim();if(r==="")return t;if(r.toLowerCase().startsWith("0x")){let a=parseInt(r,16);return Number.isFinite(a)?a:t}let e=Wt(parseFloat,n);return e!=null?Math.trunc(e):t};var F=(t="")=>(o,n)=>n??t;var Ot=(t,o,n)=>R(t)?o.getSignal(t).get():I(t)?t.get():A(t)?t(n):H,Bt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let o=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(o.protocol)}catch(o){return!1}return!0},to=(t,o,n)=>{if(/^on/i.test(o))throw new Error(`Unsafe attribute: ${o}`);if(n=String(n).trim(),!Bt(n))throw new Error(`Unsafe URL for ${o}: ${n}`);t.setAttribute(o,n)},O=(t,o)=>(n,r)=>{let{op:e,name:a="",read:d,update:i}=o,s=d(r),c={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"};if(R(t)&&R(s)&&n[t]===H)n.attributeChangedCallback(t,null,s);let b=(m)=>()=>{if(v&&n.debug)T(r,`${m} ${c[e]+a} of ${L(r)} in ${L(n)}`);o.resolve?.(r)},u=(m)=>(S)=>{T(S,`Failed to ${m} ${c[e]+a} of ${L(r)} in ${L(n)}`,U),o.reject?.(S)};return K(()=>{let m=Symbol(`${e}:${a}`),S=Symbol(`${e}-${a}`),l=H;try{l=Ot(t,n,r)}catch(w){T(w,`Failed to resolve value of ${J(t)} for ${c[e]+a} of ${L(r)} in ${L(n)}`,U);return}if(l===H)l=s;else if(l===p)l=o.delete?null:s;if(o.delete&&l===null)_(()=>{return o.delete(r),!0},S).then(b("Deleted")).catch(u("delete"));else if(l!=null){let w=d(r);if(Object.is(l,w))return;_(()=>{return i(r,l),!0},m).then(b("Updated")).catch(u("update"))}})},P=(t,o)=>(n,r)=>{let e=(d)=>()=>{if(v&&n.debug)T(r,`${d} element in ${L(r)} in ${L(n)}`);if(A(o?.resolve))o.resolve(r);else{let i=I(t)?t:R(t)?n.getSignal(t):void 0;if(X(i))i.set(0)}},a=(d)=>(i)=>{T(i,`Failed to ${d} element in ${L(r)} in ${L(n)}`,U),o?.reject?.(i)};return K(()=>{let d=Symbol("i"),i=Symbol("d"),s=0;try{s=Ot(t,n,r)}catch(c){T(c,`Failed to resolve value of ${J(t)} for insertion or deletion in ${L(r)} in ${L(n)}`,U);return}if(s===H)s=0;if(s>0){if(!o)throw new TypeError("No inserter provided");_(()=>{for(let c=0;c<s;c++){let b=o.create(r);if(!b)continue;r.insertAdjacentElement(o.position??"beforeend",b)}return!0},d).then(e("Inserted")).catch(a("insert"))}else if(s<0)_(()=>{if(o&&(o.position==="afterbegin"||o.position==="beforeend"))for(let c=0;c>s;c--)if(o.position==="afterbegin")r.firstElementChild?.remove();else r.lastElementChild?.remove();else r.remove();return!0},i).then(e("Removed")).catch(a("remove"))})},h=(t)=>O(t,{op:"t",read:(o)=>o.textContent,update:(o,n)=>{Array.from(o.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),o.append(document.createTextNode(n))}}),g=(t,o=t)=>O(o,{op:"p",name:String(t),read:(n)=>(t in n)?n[t]:p,update:(n,r)=>{n[t]=r}}),C=(t)=>O(t,{op:"p",name:"hidden",read:(o)=>!o.hidden,update:(o,n)=>{o.hidden=!n}}),$=(t,o=t)=>O(o,{op:"a",name:t,read:(n)=>n.getAttribute(t),update:(n,r)=>{to(n,t,r)},delete:(n)=>{n.removeAttribute(t)}}),W=(t,o=t)=>O(o,{op:"a",name:t,read:(n)=>n.hasAttribute(t),update:(n,r)=>{n.toggleAttribute(t,r)}}),G=(t,o=t)=>O(o,{op:"c",name:t,read:(n)=>n.classList.contains(t),update:(n,r)=>{n.classList.toggle(t,r)}});var B=(t,o={})=>O(t,{op:"h",read:(n)=>(n.shadowRoot||!o.shadowRootMode?n:null)?.innerHTML??"",update:(n,r)=>{let{shadowRootMode:e,allowScripts:a}=o;if(!r){if(n.shadowRoot)n.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!n.shadowRoot)n.attachShadow({mode:e});let d=n.shadowRoot||n;if(d.innerHTML=r,!a)return"";return d.querySelectorAll("script").forEach((i)=>{let s=document.createElement("script");s.appendChild(document.createTextNode(i.textContent??"")),d.appendChild(s),i.remove()})," with scripts"}});var Gt=new Map,oo=(t)=>{let o=t.toLowerCase().split(",").map((r)=>r.trim()),n={noCache:!1,noStore:!1,maxAge:void 0};for(let r of o)if(r==="no-cache")n.noCache=!0;else if(r==="no-store")n.noStore=!0;else if(r.startsWith("max-age=")){let e=parseInt(r.substring(8),10);if(!isNaN(e))n.maxAge=e}return n},no=(t)=>{if(t.maxAge!==void 0)return(Date.now()-t.timestamp)/1000<t.maxAge;return!0},tt=async(t,o)=>{let n=Gt.get(t),r={};if(n?.etag)r["If-None-Match"]=n.etag;if(n?.lastModified)r["If-Modified-Since"]=n.lastModified;let e=await fetch(t,{signal:o,headers:r});if(e.status===304&&n)return{content:n.content,fromCache:!0};if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let a=await e.text(),d=e.headers.get("cache-control"),i=e.headers.get("etag"),s=e.headers.get("last-modified"),c=d?oo(d):{noCache:!1,noStore:!1};if(!c.noStore){let b={content:a,timestamp:Date.now(),etag:i||void 0,lastModified:s||void 0,maxAge:c.maxAge};if(!c.noCache||no(b))Gt.set(t,b)}return{content:a,fromCache:!1}};var fo=y("client-router",{},(t,{all:o,first:n})=>{let r=t.getAttribute("outlet")??"main",e=E(window.location.pathname),a=E(""),d=()=>!a.get(),i=k(async(s)=>{let c=e.get(),b=String(new URL(c,window.location.origin));if(s?.aborted)return i.get();try{a.set("");let{content:u}=await tt(b,s),m=new DOMParser().parseFromString(u,"text/html"),S=m.querySelector("title")?.textContent;if(S)document.title=S;if(c!==window.location.pathname)window.history.pushState({},"",b);return m.querySelector(r)?.innerHTML??""}catch(u){let m=`Navigation failed: ${u instanceof Error?u.message:String(u)}`;return a.set(m),i.get()}});return[o("a[href]",G("active",(s)=>{let c=s.getAttribute("href");if(!c)return!1;try{return e.get()===new URL(c,window.location.href).pathname}catch{return!1}}),f("click",(s)=>{if(!(s.target instanceof HTMLAnchorElement))return;let c=new URL(s.target.href);if(c.origin===window.location.origin)s.preventDefault(),e.set(c.pathname)})),n(r,B(i,{allowScripts:!0})),n("callout-box",g("hidden",d),G("danger",d)),n(".error",h(a)),()=>{let s=()=>{e.set(window.location.pathname)};return window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}}]});var Rt="media-motion",zt="media-theme",Jt="media-viewport",Pt="media-orientation",yo=y("media-context",{[Rt]:()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),o=E(t.matches);return t.addEventListener("change",(n)=>{o.set(n.matches)}),o},[zt]:()=>{let t=matchMedia("(prefers-color-scheme: dark)"),o=E(t.matches?"dark":"light");return t.addEventListener("change",(n)=>{o.set(n.matches?"dark":"light")}),o},[Jt]:(t)=>{let o=(s,c)=>{let u=t.getAttribute(s)?.trim();if(!u)return c;let m=u.match(/em$/)?"em":"px",S=parseFloat(u);return Number.isFinite(S)?S+m:c},n=matchMedia(`(min-width: ${o("sm","32em")})`),r=matchMedia(`(min-width: ${o("md","48em")})`),e=matchMedia(`(min-width: ${o("lg","72em")})`),a=matchMedia(`(min-width: ${o("xl","104em")})`),d=()=>{if(a.matches)return"xl";if(e.matches)return"lg";if(r.matches)return"md";if(n.matches)return"sm";return"xs"},i=E(d());return n.addEventListener("change",()=>{i.set(d())}),r.addEventListener("change",()=>{i.set(d())}),e.addEventListener("change",()=>{i.set(d())}),a.addEventListener("change",()=>{i.set(d())}),i},[Pt]:()=>{let t=matchMedia("(orientation: landscape)"),o=E(t.matches?"landscape":"portrait");return t.addEventListener("change",(n)=>{o.set(n.matches?"landscape":"portrait")}),o}},()=>[Ft([Rt,zt,Jt,Pt])]);var Eo=y("hello-world",{name:H},(t,{first:o})=>[o("span",h("name")),o("input",f("input",(n)=>{t.name=n.target?.value||H}))]);var po=y("my-counter",{count:M()},(t,{first:o})=>[o(".count",h("count")),o(".parity",h(()=>t.count%2?"odd":"even")),o(".increment",f("click",()=>{t.count++})),o(".decrement",f("click",()=>{t.count--}))]);var Ao=y("my-carousel",{},(t,{all:o,first:n})=>{let r=E(0),e=Array.from(t.querySelectorAll('[role="tabpanel"]')),a=e.length,d=(i)=>{r.update((s)=>(s+i+a)%a)};return[n("nav",f("keyup",(i)=>{if(["ArrowLeft","ArrowRight","Home","End"].includes(i.key)){if(i.preventDefault(),i.stopPropagation(),i.key==="Home")r.set(0);else if(i.key==="End")r.set(a-1);else d(i.key==="ArrowLeft"?-1:1);t.querySelectorAll('[role="tab"]')[r.get()].focus()}}),n(".prev",f("click",()=>{d(-1)})),n(".next",f("click",()=>{d(1)})),o('[role="tab"]',g("ariaSelected",(i)=>String(i.dataset.index===String(r.get()))),g("tabIndex",(i)=>i.dataset.index===String(r.get())?0:-1),f("click",(i)=>{let s=i.target?.dataset.index,c=s?parseInt(s):0;r.set(Number.isInteger(c)?c:0)}))),o('[role="tabpanel"]',g("ariaCurrent",(i)=>String(i.id===e[r.get()].id)))]});var To=y("input-button",{disabled:z,label:F(H),badge:F(H)},(t,{first:o})=>[o("button",g("disabled")),o(".label",h("label")),o(".badge",h("badge"))]);var xo=y("input-checkbox",{checked:z,label:F(H)},(t,{first:o})=>[W("checked"),o("input",g("checked"),f("change",(n)=>{t.checked=n.target?.checked})),o(".label",h("label"))]);var ro=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"],eo=(t,o,n)=>Math.min(Math.max(t,o),n),ot=(t,o)=>f("keydown",(n)=>{if(ro.includes(n.key)){if(n.preventDefault(),n.stopPropagation(),n.key==="Home")o.set(0);else if(n.key==="End")o.set(t.length-1);else o.update((r)=>eo(r+(n.key==="ArrowRight"||n.key==="ArrowDown"?1:-1),0,t.length-1));if(t[o.get()])t[o.get()].focus()}});var Ro=y("input-radiogroup",{value:F()},(t,{all:o})=>{let n=Array.from(t.querySelectorAll("input")),r=E(n.findIndex((e)=>e.checked));return[$("value"),ot(n,r),o("input",f("change",(e)=>{let a=e.target;t.value=a.value,r.set(n.findIndex((d)=>d.checked))}),f("keyup",(e)=>{if(e.key==="Enter"&&e.target)e.target.click()}),g("tabIndex",(e)=>e.value===t.value?0:-1)),o("label",G("selected",(e)=>t.value===e.querySelector("input")?.value))]});var yt=(t)=>typeof t==="number",Q=(t,o=!1,n=0)=>{if(!t)return n;let r=o?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:n},ao=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},io=(t,o)=>{let n=t.querySelector("input");return n&&n.type==="number"?Q(o,t.hasAttribute("integer"),0):o??""},Po=y("input-field",{value:io,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let o=t.querySelector("input");if(o)o.value="",o.checkValidity(),o.focus()}}},(t,{first:o})=>{let n=[],r=t.querySelector("input");if(!r)throw new Error("No input element found");let e=r.type==="number",a=t.hasAttribute("integer"),d=t.getAttribute("validate"),i=(b)=>{let u=typeof b==="function"?b(t.value):e&&!yt(b)?Q(b,a,0):b;if(Object.is(t.value,u))return;if(u!==null&&d)fetch(`${d}?name=${r.name}value=${u}`).then(async(m)=>{let S=await m.text();r.setCustomValidity(S),t.error=S}).catch((m)=>{t.error=m.message});if(r.checkValidity(),t.value=u,t.error=r.validationMessage??"",r?.value!==String(b))V("value-change",b)(t)};if(n.push(o("input",g("value",()=>String(t.value)),f("change",()=>{i(e?r.valueAsNumber??0:r.value??"")}),f("input",()=>{t.length=r.value.length??0}))),e){let b=t.querySelector(".spinbutton"),u=Q(b?.dataset.step||r.step,a,1),m=Q(r.min,a,0),S=Q(r.max,a,100),l=(w)=>{if(!Number.isFinite(w)||w<m)return m;if(w>S)return S;let x=m+Math.round((w-m)/u)*u;return a?Math.round(x):parseFloat(x.toFixed(ao(u)))};if(n.push(o("input",f("keydown",(w)=>{let{key:x,shiftKey:j}=w;if(["ArrowUp","ArrowDown"].includes(x)){w.stopPropagation(),w.preventDefault();let ht=j?u*10:u,lt=l(r.valueAsNumber+(x==="ArrowUp"?ht:-ht));r.value=String(lt),i(lt)}}))),b)n.push(o(".decrement",f("click",(w)=>{let x=w.shiftKey?u*10:u,j=l(r.valueAsNumber-x);r.value=String(j),i(j)}),g("disabled",()=>(yt(m)?t.value:0)-u<m)),o(".increment",f("click",(w)=>{let x=w.shiftKey?u*10:u,j=l(r.valueAsNumber+x);r.value=String(j),i(j)}),g("disabled",()=>(yt(S)?t.value:0)+u>S)))}else n.push(o(".clear",f("click",()=>{t.clear(),i("")}),g("hidden",()=>!t.length)));let s=t.querySelector(".error")?.id;n.push(o(".error",h("error")),o("input",g("ariaInvalid",()=>t.error?"true":"false"),$("aria-errormessage",()=>t.error&&s?s:p)));let c=t.querySelector(".description");if(c){let b=r.maxLength,u=b&&c.dataset.remaining;if(u)t.setSignal("description",k(()=>u.replace("${x}",String(b-t.length))));n.push(o(".description",h("description")),o("input",$("aria-describedby",()=>t.description&&c.id?c.id:p)))}return n});var nt=(t)=>()=>{t.value="",t.setCustomValidity(""),t.checkValidity(),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))};var Xo=y("input-textbox",{value:"",length:0,error:H,description:H,clear(){}},(t,{first:o})=>{let n=t.querySelector("input, textarea");if(!n)throw new Error("No Input or textarea element found");t.clear=nt(n),t.error="";let r=t.querySelector(".description");if(r?.dataset.remaining&&n.maxLength)t.setSignal("description",k(()=>r.dataset.remaining.replace("${n}",String(n.maxLength-t.length))));let e=t.querySelector(".error")?.id,a=r?.id;return[$("value"),o(".error",h("error")),o(".description",h("description")),o("input, textarea",g("ariaInvalid",()=>String(!!t.error)),$("aria-errormessage",()=>t.error&&e?e:p),$("aria-describedby",()=>t.description&&a?a:p),f("input",()=>{t.length=n.value.length}),f("change",()=>{n.checkValidity(),t.value=n.value,t.error=n.validationMessage??""})),o(".clear",C(()=>!!t.length),f("click",()=>t.clear()))]});var Zo=y("input-combobox",{value:"",length:0,error:H,description:H,clear(){}},(t,{first:o,all:n})=>{let r=t.querySelector("input");if(!r)throw new Error("Input element not found");let e=E("idle"),a=E(-1),d=E(""),i=E(!1),s=Z(t,'[role="option"]:not([hidden])'),c=()=>e.get()==="editing"&&i.get(),b=(u)=>{r.value=u,r.setCustomValidity(""),r.checkValidity(),ut(()=>{e.set("selected"),t.value=u,t.length=u.length,t.error=r.validationMessage??"",d.set(u.toLowerCase()),a.set(-1),i.set(r.required&&!r.value||!1)})};return t.clear=nt(r),[$("value"),()=>K(()=>{let u=e.get(),m=a.get();if(u==="idle")return;else if(u==="editing"&&m>=0)s.get().at(m)?.focus();else r.focus()}),f("keydown",(u)=>{if(["ArrowDown","ArrowUp"].includes(u.key))if(u.preventDefault(),u.stopPropagation(),e.set("editing"),u.altKey)i.set(u.key==="ArrowDown");else a.update((m)=>u.key==="ArrowDown"?Math.min(m+1,s.get().length-1):Math.max(m-1,-1))}),f("keyup",(u)=>{if(u.key==="Delete")u.preventDefault(),u.stopPropagation(),b("")}),f("focusout",()=>requestAnimationFrame(()=>{if(!t.contains(document.activeElement))e.set("idle")})),o(".error",h("error")),o(".description",h("description")),o("input",g("ariaInvalid",()=>String(!!t.error)),$("aria-errormessage",()=>t.error&&t.querySelector(".error")?.id?t.querySelector(".error")?.id:p),$("aria-describedby",()=>t.description&&t.querySelector(".description")?.id?t.querySelector(".description")?.id:p),g("ariaExpanded",()=>String(c())),f("change",()=>{r.checkValidity(),t.value=r.value,t.error=r.validationMessage??""}),f("input",()=>ut(()=>{e.set("editing"),i.set(!0),d.set(r.value.trim().toLowerCase()),t.length=r.value.length}))),o(".clear",C(()=>!!t.length),f("click",()=>t.clear())),o('[role="listbox"]',C(c),f("keyup",(u)=>{if(u.key==="Enter")b(s.get().at(a.get())?.textContent?.trim()||"");else if(u.key==="Escape")b(t.value);else{let m=u.key.toLowerCase(),S=s.get().findIndex((l)=>(l.textContent?.trim().toLowerCase()||"").startsWith(m));if(S!==-1)a.set(S)}})),n('[role="option"]',g("ariaSelected",(u)=>String(u.textContent?.trim().toLowerCase()===t.value.toLowerCase())),C((u)=>u.textContent?.trim().toLowerCase().includes(d.get())),f("click",(u)=>{b(u.target.textContent?.trim()||"")}))]});var Bo=y("code-block",{collapsed:z},(t,{first:o})=>{let n=t.querySelector("code");return[W("collapsed"),o(".overlay",f("click",()=>{t.collapsed=!1})),o(".copy",f("click",async(r)=>{let e=r.currentTarget,a=e.textContent?.trim()??"",d="success";try{await navigator.clipboard.writeText(n?.textContent?.trim()??"")}catch(i){console.error("Error while trying to use navigator.clipboard.writeText()",i),d="error"}e.disabled=!0,e.label=t.getAttribute(`copy-${d}`)??a,setTimeout(()=>{e.disabled=!1,e.label=a},d==="success"?1000:3000)}))]});var rn=y("tab-group",{selected:""},(t,{all:o,first:n})=>{let r=(d)=>d?.getAttribute("aria-controls")??"",e=Array.from(t.querySelectorAll('[role="tab"]')),a=E(e.findIndex((d)=>d.ariaSelected==="true"));return t.selected=r(e[a.get()]),[n('[role="tablist"]',ot(e,a)),o('[role="tab"]',f("click",(d)=>{t.selected=r(d.currentTarget),a.set(e.findIndex((i)=>i===d.currentTarget))}),g("ariaSelected",(d)=>String(t.selected===r(d))),g("tabIndex",(d)=>t.selected===r(d)?0:-1)),o('[role="tabpanel"]',C((d)=>t.selected===d.id))]});var Qt=(t,o)=>{let n="",r="";if(!o)r="No URL provided";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${o}"]`))r="Recursive loading detected";else try{let e=new URL(o,location.href);if(e.origin===location.origin)n=String(e);else r="Invalid URL origin"}catch(e){r=String(e)}return{value:n,error:r}};var bn=y("lazy-load",{src:Qt},(t,{first:o})=>{let n=E(""),r=k(async(e)=>{let a=t.src.value;if(t.src.error||!a)return n.set(t.src.error??"No URL provided"),"";try{n.set(""),t.querySelector(".loading")?.remove();let{content:d}=await tt(a,e);return d}catch(d){let i=d instanceof Error?d.message:String(d);return n.set(i),""}});return[B(r),o("callout-box",g("hidden",()=>!n.get()&&r.get()!==p),G("danger",()=>!n.get())),o(".error",h(n))]});var gn=y("todo-app",{active:gt("input-checkbox:not([checked])"),completed:gt("input-checkbox[checked]")},(t,{first:o})=>{let n=t.querySelector("input-textbox");if(!n)throw new Error("No input field found");let r=t.querySelector("template");if(!r)throw new Error("No template found");let e=t.querySelector("ol");if(!e)throw new Error("No list found");let a=mt(n,"length",0),d=mt(t.querySelector("input-radiogroup"),"value","all");return[o(".submit",g("disabled",()=>!a())),o("form",f("submit",(i)=>{i.preventDefault(),queueMicrotask(()=>{if(!n.value.toString().trim())return;let c=document.importNode(r.content,!0).firstElementChild;if(!(c instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");c.querySelector("slot")?.replaceWith(String(n.value.trim())),e.append(c),n.clear()})})),o("ol",$("filter",d),f("click",(i)=>{let s=i.target;if(s.localName==="button")s.closest("li").remove()})),o(".count",h(()=>String(t.active.length))),o(".singular",C(()=>t.active.length===1)),o(".plural",C(()=>t.active.length>1)),o(".remaining",C(()=>!!t.active.length)),o(".all-done",C(()=>!t.active.length)),o(".clear-completed",g("disabled",()=>!t.completed.length),g("badge",()=>t.completed.length>0?String(t.completed.length):""),f("click",()=>{let i=Array.from(t.querySelectorAll("ol li"));for(let s=i.length-1;s>=0;s--)if(i[s].querySelector("input-checkbox")?.checked)i[s].remove()}))]});var hn=y("product-catalog",{total:vt("spin-button",(t,o)=>t+o.value,0)},(t,{first:o})=>[o("input-button",Nt({badge:()=>t.total>0?String(t.total):"",disabled:()=>!t.total}))]);var Sn=y("spin-button",{value:M()},(t,{all:o,first:n})=>{let r=t.getAttribute("zero-label")||"Add to Cart",e=t.getAttribute("increment-label")||"Increment",a=M(9)(t,t.getAttribute("max")),d=()=>t.value===0;return[n(".value",h("value"),g("hidden",d)),n(".decrement",g("hidden",d),f("click",()=>{t.value--})),n(".increment",h(()=>d()?r:"+"),g("ariaLabel",()=>d()?r:e),g("disabled",()=>t.value>=a),f("click",()=>{t.value++})),o("button",f("keydown",(i)=>{let{key:s}=i;if(["ArrowUp","ArrowDown","-","+"].includes(s)){if(i.stopPropagation(),i.preventDefault(),s==="ArrowDown"||s==="-")t.value--;if(s==="ArrowUp"||s==="+")t.value++}}))]});var Ln=y("rating-stars",{value:M()},(t,{all:o})=>{let n=(r)=>parseInt(r.dataset.key||"0");return[o("input",g("checked",(r)=>t.value===n(r)),f("change",(r)=>{r.stopPropagation();let e=parseInt(r.currentTarget?.value)+1;t.value=e,V("change-rating",e)(t)})),o(".label",h((r)=>n(r)<=t.value?"★":"☆"))]});var $n=y("rating-feedback",{},(t,{all:o,first:n})=>{let r=E(0),e=E(!0),a=E(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let i=(s)=>r.get()!==parseInt(s.dataset.key||"0");return[f("change-rating",(s)=>{r.set(s.detail)}),f("submit",(s)=>{s.preventDefault(),a.set(!0),console.log("Feedback submitted")}),n(".hide",f("click",()=>{let s=t.querySelector(".feedback");if(s)s.hidden=!0})),n("textarea",f("input",(s)=>{e.set(s.target?.value.trim()==="")})),n(".feedback",g("hidden",()=>a.get()||!r.get())),o(".feedback p",g("hidden",i)),n("input-button",g("disabled",e))]});var kn=y("calc-table",{columns:M(),rows:M()},(t,{all:o,first:n})=>{let e=t.querySelector(".calc-table-row"),a=t.querySelector(".calc-table-colhead"),d=t.querySelector(".calc-table-cell");if(!e||!a||!d)throw new Error("Missing template elements");let i=new Map;for(let c=0;c<t.columns;c++)i.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c],E(0));let s=(c)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${c}"]`)).map((b)=>Number.isFinite(b.valueAsNumber)?b.valueAsNumber:0).reduce((b,u)=>b+u,0)};return[g("rows",()=>t.querySelector(".rows spin-button")?.value),g("columns",()=>t.querySelector(".columns spin-button")?.value),n("tbody",P((c)=>t.rows-c.querySelectorAll("tr").length,{position:"beforeend",create:(c)=>{let b=document.importNode(e.content,!0).firstElementChild;if(!(b instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${b}`);let u=String(c.querySelectorAll("tr").length+1);return b.dataset.key=u,b.querySelector("slot")?.replaceWith(document.createTextNode(u)),b},resolve:()=>{for(let[c,b]of i)b.set(s(c))}})),n("thead tr",P((c)=>t.columns-(c.querySelectorAll("th").length-1),{position:"beforeend",create:(c)=>{let b=document.importNode(a.content,!0).firstElementChild;if(!(b instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${b}`);let u="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("th").length-1];return i.set(u,E(0)),b.querySelector("slot")?.replaceWith(document.createTextNode(u)),b}})),o("tbody tr",P((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let b=document.importNode(d.content,!0).firstElementChild;if(!(b instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${b}`);let u=c.dataset.key,m="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length],S=b.querySelector("input");if(!S)throw new Error("No input found in cell template");return S.dataset.key=m,b.querySelector("slot")?.replaceWith(document.createTextNode(`${m}${u}`)),b}})),n("tfoot tr",P((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let b=document.createElement("td"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length];return b.dataset.key=u,b}})),o("tbody input",f("change",(c)=>{let b=c.target?.dataset.key;i.get(b)?.set(s(b))})),o("tfoot td",h((c)=>String(i.get(c.dataset.key).get())))]});
