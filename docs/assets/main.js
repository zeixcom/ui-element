var A=(t)=>typeof t==="function",wt=(t,n)=>Object.prototype.toString.call(t)===`[object ${n}]`,at=(t)=>t instanceof Error?t:Error(String(t));class ct extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var R,D=new Set,et=0,dt=new Map,Q,Et=()=>{Q=void 0;let t=Array.from(dt.values());dt.clear();for(let n of t)n()},Gt=()=>{if(Q)cancelAnimationFrame(Q);Q=requestAnimationFrame(Et)};queueMicrotask(Et);var St=(t)=>{let n=new Set,o=t;return o.off=(r)=>{n.add(r)},o.cleanup=()=>{for(let r of n)r();n.clear()},o},ut=(t)=>{if(R&&!t.has(R)){let n=R;t.add(n),R.off(()=>{t.delete(n)})}},q=(t)=>{for(let n of t)if(et)D.add(n);else n()},pt=()=>{while(D.size){let t=Array.from(D);D.clear();for(let n of t)n()}},O=(t)=>{et++;try{t()}finally{pt(),et--}},Lt=(t,n)=>{let o=R;R=n;try{t()}finally{R=o}},U=(t,n)=>new Promise((o,r)=>{dt.set(n||Symbol(),()=>{try{o(t())}catch(a){r(a)}}),Gt()}),lt="State",p=(t)=>{let n=new Set,o=t,r={[Symbol.toStringTag]:lt,get:()=>{return ut(n),o},set:(a)=>{if(Object.is(o,a))return;if(o=a,q(n),L===o)n.clear()},update:(a)=>{r.set(a(o))}};return r},X=(t)=>wt(t,lt),bt="Computed",x=(t)=>{let n=new Set,o=L,r,a,e=!0,d=!1,i=!1,u=(w)=>{if(!Object.is(w,o))o=w,d=!0;r=void 0,e=!1},c=()=>{d=L!==o,o=L,r=void 0},b=(w)=>{let S=at(w);d=!r||S.name!==r.name||S.message!==r.message,o=L,r=S},g=(w)=>(S)=>{if(i=!1,a=void 0,w(S),d)q(n)},h=St(()=>{if(e=!0,a?.abort("Aborted because source signal changed"),n.size)q(n);else h.cleanup()}),m=()=>Lt(()=>{if(i)throw new ct("computed");if(d=!1,A(t)&&t.constructor.name==="AsyncFunction"){if(a)return o;a=new AbortController,a.signal.addEventListener("abort",()=>{i=!1,a=void 0,m()},{once:!0})}let w;i=!0;try{w=a?t(a.signal):t()}catch(S){if(S instanceof DOMException&&S.name==="AbortError")c();else b(S);i=!1;return}if(w instanceof Promise)w.then(g(u),g(b));else if(w==null||L===w)c();else u(w);i=!1},h);return{[Symbol.toStringTag]:bt,get:()=>{if(ut(n),pt(),e)m();if(r)throw r;return o}}},$t=(t)=>wt(t,bt),Zt=(t)=>A(t)&&t.length<2,L=Symbol(),I=(t)=>X(t)||$t(t),At=(t)=>I(t)?t:Zt(t)?x(t):p(t);function W(t){let{signals:n,ok:o,err:r=console.error,nil:a=()=>{}}=A(t)?{signals:[],ok:t}:t,e=!1,d=St(()=>Lt(()=>{if(e)throw new ct("effect");e=!0;let i=[],u=!1,c=n.map((g)=>{try{let h=g.get();if(h===L)u=!0;return h}catch(h){return i.push(at(h)),L}}),b=void 0;try{b=u?a():i.length?r(...i):o(...c)}catch(g){b=r(at(g))}finally{if(A(b))d.off(b)}e=!1},d));return d(),()=>d.cleanup()}var F=!1;var P="error",vt=(t)=>t?`#${t}`:"",Yt=(t)=>t.length?`.${Array.from(t).join(".")}`:"",Ht=(t)=>!!t&&typeof t==="object",J=(t)=>typeof t==="string",_t=(t)=>t.nodeType===Node.ELEMENT_NODE,l=(t)=>`<${t.localName}${vt(t.id)}${Yt(t.classList)}>`,v=(t)=>J(t)?`"${t}"`:Ht(t)?JSON.stringify(t):String(t),ot=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},k=(t,n,o="debug")=>{if(["error","warn"].includes(o))console[o](n,t);return t};class Tt extends Error{constructor(t){super(t);this.name="CircularMutationError"}}var Dt=(t)=>t instanceof HTMLElement&&t.localName.includes("-"),Qt=(t)=>{let n=new Set;if(t.includes("."))n.add("class");if(t.includes("#"))n.add("id");if(t.includes("[")){let o=t.split("[");for(let r=1;r<o.length;r++){let a=o[r];if(!a.includes("]"))continue;let e=a.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(e)n.add(e)}}return[...n]},qt=(t,n)=>{if(t.length!==n.length)return!1;let o=new Set(t);for(let r of n)if(!o.has(r))return!1;return!0},kt=(t,n,o)=>{let r=new MutationObserver(o),a=Qt(n),e={childList:!0,subtree:!0};if(a.length)e.attributes=!0,e.attributeFilter=a;return r.observe(t,e),r},N=(t,n)=>{let o=new Set,r=()=>Array.from(t.querySelectorAll(n)),a=L,e,d=0,i=2,u=()=>{a=r(),e=kt(t,n,()=>{if(!o.size){e?.disconnect(),e=void 0;return}if(d++,d>i)throw e?.disconnect(),e=void 0,d=0,new Tt("Circular mutation in element selection detected");try{let c=r();if(!qt(a,c))a=c,q(o)}finally{d--}})};return{[Symbol.toStringTag]:bt,get:()=>{if(ut(o),!o.size)a=r();else if(!e)u();return a}}},s=(t,n)=>(o,r=o)=>{if(!A(n))throw new TypeError(`Invalid event listener provided for "${t} event on element ${l(r)}`);return r.addEventListener(t,n),()=>r.removeEventListener(t,n)},V=(t,n)=>(o,r=o)=>{r.dispatchEvent(new CustomEvent(t,{detail:A(n)?n(r):n,bubbles:!0}))},Ct=(t)=>(n,o)=>{let r=o.localName;if(!Dt(o))throw new TypeError("Target element must be a custom element");let a=A(t)?t(o):t;if(!Ht(a))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(r).then(()=>{for(let[e,d]of Object.entries(a)){let i=J(d)?n.getSignal(e):At(d);o.setSignal(e,i)}}).catch((e)=>{throw new Error(`Failed to pass signals to ${l(o)}}`,{cause:e})})},$=Symbol(),Ut=new Set(["constructor","prototype"]),Xt=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),rt=(t)=>A(t)&&t.length>=2,ht=(t)=>{if(Ut.has(t))return`Property name "${t}" is a reserved word`;if(Xt.has(t))return`Property name "${t}" conflicts with inherited HTMLElement property`;return null},it=(t,n,o=n)=>{let r=t.filter(A).map((a)=>a(n,o));return()=>{r.filter(A).forEach((a)=>a()),r.length=0}},Pt=()=>({first:(t,...n)=>(o)=>{let r=(o.shadowRoot||o).querySelector(t);if(r)it(n,o,r)},all:(t,...n)=>(o)=>{let r=new Map,a=o.shadowRoot||o,e=(c)=>{if(!r.has(c))r.set(c,it(n,o,c))},d=(c)=>{let b=r.get(c);if(A(b))b();r.delete(c)},i=(c)=>(b)=>{if(_t(b)){if(b.matches(t))c(b);b.querySelectorAll(t).forEach(c)}},u=kt(a,t,(c)=>{for(let b of c)b.addedNodes.forEach(i(e)),b.removedNodes.forEach(i(d))});return a.querySelectorAll(t).forEach(e),()=>{u.disconnect(),r.forEach((c)=>c()),r.clear()}}}),y=(t,n={},o)=>{for(let a of Object.keys(n)){let e=ht(a);if(e)throw new TypeError(`${e} in component "${t}".`)}class r extends HTMLElement{debug;#t={};#n;static observedAttributes=Object.entries(n)?.filter(([,a])=>rt(a)).map(([a])=>a)??[];constructor(){super();for(let[a,e]of Object.entries(n)){if(e==null)continue;let d=rt(e)?e(this,null):A(e)?e(this):e;if(d!=null)this.setSignal(a,At(d))}}connectedCallback(){if(F){if(this.debug=this.hasAttribute("debug"),this.debug)k(this,"Connected")}let a=o(this,Pt());if(!Array.isArray(a))throw new TypeError(`Expected array of functions as return value of setup function in ${l(this)}`);this.#n=it(a,this)}disconnectedCallback(){if(A(this.#n))this.#n();if(F&&this.debug)k(this,"Disconnected")}attributeChangedCallback(a,e,d){if(d===e||$t(this.#t[a]))return;let i=n[a];if(!rt(i))return;let u=i(this,d,e);if(F&&this.debug)k(d,`Attribute "${a}" of ${l(this)} changed from ${v(e)} to ${v(d)}, parsed as <${ot(u)}> ${v(u)}`);this[a]=u}getSignal(a){let e=this.#t[a];if(F&&this.debug)k(e,`Get ${ot(e)} "${String(a)}" in ${l(this)}`);return e}setSignal(a,e){let d=ht(String(a));if(d)throw new TypeError(`${d} on ${l(this)}.`);if(!I(e))throw new TypeError(`Expected signal as value for property "${String(a)}" on ${l(this)}.`);let i=this.#t[a],u=X(e);if(this.#t[a]=e,Object.defineProperty(this,a,{get:e.get,set:u?e.set:void 0,enumerable:!0,configurable:u}),i&&X(i))i.set(L);if(F&&this.debug)k(e,`Set ${ot(e)} "${String(a)} in ${l(this)}`)}}return customElements.define(t,r),r},yt="context-request";var Mt=(t)=>(n)=>{let o=(r)=>{let{context:a,callback:e}=r;if(t.includes(a)&&A(e))r.stopPropagation(),e(n.getSignal(String(a)))};return n.addEventListener(yt,o),()=>n.removeEventListener(yt,o)};var It=(t,n)=>{if(n==null)return;let o=t(n);return Number.isFinite(o)?o:void 0},G=(t,n)=>n!=="false"&&n!=null,M=(t=0)=>(n,o)=>{if(o==null)return t;let r=o.trim();if(r==="")return t;if(r.toLowerCase().startsWith("0x")){let e=parseInt(r,16);return Number.isFinite(e)?e:t}let a=It(parseFloat,o);return a!=null?Math.trunc(a):t};var C=(t="")=>(n,o)=>o??t;var xt=(t,n,o)=>J(t)?n.getSignal(t).get():I(t)?t.get():A(t)?t(o):$,Wt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let n=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(n.protocol)}catch(n){return!1}return!0},Vt=(t,n,o)=>{if(/^on/i.test(n))throw new Error(`Unsafe attribute: ${n}`);if(o=String(o).trim(),!Wt(o))throw new Error(`Unsafe URL for ${n}: ${o}`);t.setAttribute(n,o)},Z=(t,n)=>(o,r)=>{let{op:a,name:e="",read:d,update:i}=n,u=d(r),c={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"};if(J(t)&&J(u)&&o[t]===$)o.attributeChangedCallback(t,null,u);let b=(h)=>()=>{if(F&&o.debug)k(r,`${h} ${c[a]+e} of ${l(r)} in ${l(o)}`);n.resolve?.(r)},g=(h)=>(m)=>{k(m,`Failed to ${h} ${c[a]+e} of ${l(r)} in ${l(o)}`,P),n.reject?.(m)};return W(()=>{let h=Symbol(`${a}:${e}`),m=Symbol(`${a}-${e}`),w=$;try{w=xt(t,o,r)}catch(S){k(S,`Failed to resolve value of ${v(t)} for ${c[a]+e} of ${l(r)} in ${l(o)}`,P);return}if(w===$)w=u;else if(w===L)w=n.delete?null:u;if(n.delete&&w===null)U(()=>{return n.delete(r),!0},m).then(b("Deleted")).catch(g("delete"));else if(w!=null){let S=d(r);if(Object.is(w,S))return;U(()=>{return i(r,w),!0},h).then(b("Updated")).catch(g("update"))}})},Y=(t,n)=>(o,r)=>{let a=(d)=>()=>{if(F&&o.debug)k(r,`${d} element in ${l(r)} in ${l(o)}`);if(A(n?.resolve))n.resolve(r);else{let i=I(t)?t:J(t)?o.getSignal(t):void 0;if(X(i))i.set(0)}},e=(d)=>(i)=>{k(i,`Failed to ${d} element in ${l(r)} in ${l(o)}`,P),n?.reject?.(i)};return W(()=>{let d=Symbol("i"),i=Symbol("d"),u=0;try{u=xt(t,o,r)}catch(c){k(c,`Failed to resolve value of ${v(t)} for insertion or deletion in ${l(r)} in ${l(o)}`,P);return}if(u===$)u=0;if(u>0){if(!n)throw new TypeError("No inserter provided");U(()=>{for(let c=0;c<u;c++){let b=n.create(r);if(!b)continue;r.insertAdjacentElement(n.position??"beforeend",b)}return!0},d).then(a("Inserted")).catch(e("insert"))}else if(u<0)U(()=>{if(n&&(n.position==="afterbegin"||n.position==="beforeend"))for(let c=0;c>u;c--)if(n.position==="afterbegin")r.firstElementChild?.remove();else r.lastElementChild?.remove();else r.remove();return!0},i).then(a("Removed")).catch(e("remove"))})},E=(t)=>Z(t,{op:"t",read:(n)=>n.textContent,update:(n,o)=>{Array.from(n.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),n.append(document.createTextNode(o))}}),f=(t,n=t)=>Z(n,{op:"p",name:String(t),read:(o)=>(t in o)?o[t]:L,update:(o,r)=>{o[t]=r}}),H=(t,n=t)=>Z(n,{op:"a",name:t,read:(o)=>o.getAttribute(t),update:(o,r)=>{Vt(o,t,r)},delete:(o)=>{o.removeAttribute(t)}}),K=(t,n=t)=>Z(n,{op:"a",name:t,read:(o)=>o.hasAttribute(t),update:(o,r)=>{o.toggleAttribute(t,r)}}),z=(t,n=t)=>Z(n,{op:"c",name:t,read:(o)=>o.classList.contains(t),update:(o,r)=>{o.classList.toggle(t,r)}});var B=(t,n={})=>Z(t,{op:"h",read:(o)=>(o.shadowRoot||!n.shadowRootMode?o:null)?.innerHTML??"",update:(o,r)=>{let{shadowRootMode:a,allowScripts:e}=n;if(!r){if(o.shadowRoot)o.shadowRoot.innerHTML="<slot></slot>";return""}if(a&&!o.shadowRoot)o.attachShadow({mode:a});let d=o.shadowRoot||o;if(d.innerHTML=r,!e)return"";return d.querySelectorAll("script").forEach((i)=>{let u=document.createElement("script");u.appendChild(document.createTextNode(i.textContent??"")),d.appendChild(u),i.remove()})," with scripts"}});var jt=new Map,Kt=(t)=>{let n=t.toLowerCase().split(",").map((r)=>r.trim()),o={noCache:!1,noStore:!1,maxAge:void 0};for(let r of n)if(r==="no-cache")o.noCache=!0;else if(r==="no-store")o.noStore=!0;else if(r.startsWith("max-age=")){let a=parseInt(r.substring(8),10);if(!isNaN(a))o.maxAge=a}return o},Bt=(t)=>{if(t.maxAge!==void 0)return(Date.now()-t.timestamp)/1000<t.maxAge;return!0},tt=async(t,n)=>{let o=jt.get(t),r={};if(o?.etag)r["If-None-Match"]=o.etag;if(o?.lastModified)r["If-Modified-Since"]=o.lastModified;let a=await fetch(t,{signal:n,headers:r});if(a.status===304&&o)return{content:o.content,fromCache:!0};if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);let e=await a.text(),d=a.headers.get("cache-control"),i=a.headers.get("etag"),u=a.headers.get("last-modified"),c=d?Kt(d):{noCache:!1,noStore:!1};if(!c.noStore){let b={content:e,timestamp:Date.now(),etag:i||void 0,lastModified:u||void 0,maxAge:c.maxAge};if(!c.noCache||Bt(b))jt.set(t,b)}return{content:e,fromCache:!1}};var un=y("client-router",{},(t,{all:n,first:o})=>{let r=t.getAttribute("outlet")??"main",a=p(window.location.pathname),e=p(""),d=()=>!e.get(),i=x(async(u)=>{let c=a.get(),b=String(new URL(c,window.location.origin));if(u?.aborted)return i.get();try{e.set("");let{content:g}=await tt(b,u),h=new DOMParser().parseFromString(g,"text/html"),m=h.querySelector("title")?.textContent;if(m)document.title=m;if(c!==window.location.pathname)window.history.pushState({},"",b);return h.querySelector(r)?.innerHTML??""}catch(g){let h=`Navigation failed: ${g instanceof Error?g.message:String(g)}`;return e.set(h),i.get()}});return[n("a[href]",z("active",(u)=>{let c=u.getAttribute("href");if(!c)return!1;try{return a.get()===new URL(c,window.location.href).pathname}catch{return!1}}),s("click",(u)=>{if(!(u.target instanceof HTMLAnchorElement))return;let c=new URL(u.target.href);if(c.origin===window.location.origin)u.preventDefault(),a.set(c.pathname)})),o(r,B(i,{allowScripts:!0})),o("callout-box",f("hidden",d),z("danger",d)),o(".error",E(e)),()=>{let u=()=>{a.set(window.location.pathname)};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}}]});var Ft="media-motion",Rt="media-theme",Ot="media-viewport",zt="media-orientation",fn=y("media-context",{[Ft]:()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),n=p(t.matches);return t.addEventListener("change",(o)=>{n.set(o.matches)}),n},[Rt]:()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=p(t.matches?"dark":"light");return t.addEventListener("change",(o)=>{n.set(o.matches?"dark":"light")}),n},[Ot]:(t)=>{let n=(u,c)=>{let g=t.getAttribute(u)?.trim();if(!g)return c;let h=g.match(/em$/)?"em":"px",m=parseFloat(g);return Number.isFinite(m)?m+h:c},o=matchMedia(`(min-width: ${n("sm","32em")})`),r=matchMedia(`(min-width: ${n("md","48em")})`),a=matchMedia(`(min-width: ${n("lg","72em")})`),e=matchMedia(`(min-width: ${n("xl","104em")})`),d=()=>{if(e.matches)return"xl";if(a.matches)return"lg";if(r.matches)return"md";if(o.matches)return"sm";return"xs"},i=p(d());return o.addEventListener("change",()=>{i.set(d())}),r.addEventListener("change",()=>{i.set(d())}),a.addEventListener("change",()=>{i.set(d())}),e.addEventListener("change",()=>{i.set(d())}),i},[zt]:()=>{let t=matchMedia("(orientation: landscape)"),n=p(t.matches?"landscape":"portrait");return t.addEventListener("change",(o)=>{n.set(o.matches?"landscape":"portrait")}),n}},()=>[Mt([Ft,Rt,Ot,zt])]);var hn=y("hello-world",{name:$},(t,{first:n})=>[n("span",E("name")),n("input",s("input",(o)=>{t.name=o.target?.value||$}))]);var En=y("my-counter",{count:M()},(t,{first:n})=>[n(".count",E("count")),n(".parity",E(()=>t.count%2?"odd":"even")),n(".increment",s("click",()=>{t.count++})),n(".decrement",s("click",()=>{t.count--}))]);var Ln=y("my-carousel",{},(t,{all:n,first:o})=>{let r=p(0),a=Array.from(t.querySelectorAll('[role="tabpanel"]')),e=a.length,d=(i)=>{r.update((u)=>(u+i+e)%e)};return[o("nav",s("keyup",(i)=>{if(["ArrowLeft","ArrowRight","Home","End"].includes(i.key)){if(i.preventDefault(),i.stopPropagation(),i.key==="Home")r.set(0);else if(i.key==="End")r.set(e-1);else d(i.key==="ArrowLeft"?-1:1);t.querySelectorAll('[role="tab"]')[r.get()].focus()}}),o(".prev",s("click",()=>{d(-1)})),o(".next",s("click",()=>{d(1)})),n('[role="tab"]',f("ariaSelected",(i)=>String(i.dataset.index===String(r.get()))),f("tabIndex",(i)=>i.dataset.index===String(r.get())?0:-1),s("click",(i)=>{let u=i.target?.dataset.index,c=u?parseInt(u):0;r.set(Number.isInteger(c)?c:0)}))),n('[role="tabpanel"]',f("ariaCurrent",(i)=>String(i.id===a[r.get()].id)))]});var An=y("input-button",{disabled:G,label:C($),badge:C($)},(t,{first:n})=>[n("button",f("disabled")),n(".label",E("label")),n(".badge",E("badge"))]);var kn=y("input-checkbox",{checked:G,label:C($)},(t,{first:n})=>[K("checked"),n("input",f("checked"),s("change",(o)=>{t.checked=o.target?.checked})),n(".label",E("label"))]);var tn=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"],nn=(t,n,o)=>Math.min(Math.max(t,n),o),nt=(t,n)=>s("keydown",(o)=>{if(tn.includes(o.key)){if(o.preventDefault(),o.stopPropagation(),o.key==="Home")n.set(0);else if(o.key==="End")n.set(t.length-1);else n.update((r)=>nn(r+(o.key==="ArrowRight"||o.key==="ArrowDown"?1:-1),0,t.length-1));if(t[n.get()])t[n.get()].focus()}});var On=y("input-radiogroup",{value:C()},(t,{all:n})=>{let o=Array.from(t.querySelectorAll("input")),r=p(o.findIndex((a)=>a.checked));return[H("value"),nt(o,r),n("input",s("change",(a)=>{let e=a.target;t.value=e.value,r.set(o.findIndex((d)=>d.checked))}),s("keyup",(a)=>{if(a.key==="Enter"&&a.target)a.target.click()}),f("tabIndex",(a)=>a.value===t.value?0:-1)),n("label",z("selected",(a)=>t.value===a.querySelector("input")?.value))]});var st=(t)=>typeof t==="number",_=(t,n=!1,o=0)=>{if(!t)return o;let r=n?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:o},on=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},rn=(t,n)=>{let o=t.querySelector("input");return o&&o.type==="number"?_(n,t.hasAttribute("integer"),0):n??""},Nn=y("input-field",{value:rn,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let n=t.querySelector("input");if(n)n.value="",n.checkValidity(),n.focus()}}},(t,{first:n})=>{let o=[],r=t.querySelector("input");if(!r)throw new Error("No input element found");let a=r.type==="number",e=t.hasAttribute("integer"),d=t.getAttribute("validate"),i=(b)=>{let g=typeof b==="function"?b(t.value):a&&!st(b)?_(b,e,0):b;if(Object.is(t.value,g))return;if(g!==null&&d)fetch(`${d}?name=${r.name}value=${g}`).then(async(h)=>{let m=await h.text();r.setCustomValidity(m),t.error=m}).catch((h)=>{t.error=h.message});if(r.checkValidity(),t.value=g,t.error=r.validationMessage??"",r?.value!==String(b))V("value-change",b)(t)};if(o.push(n("input",f("value",()=>String(t.value)),s("change",()=>{i(a?r.valueAsNumber??0:r.value??"")}),s("input",()=>{t.length=r.value.length??0}))),a){let b=t.querySelector(".spinbutton"),g=_(b?.dataset.step||r.step,e,1),h=_(r.min,e,0),m=_(r.max,e,100),w=(S)=>{if(!Number.isFinite(S)||S<h)return h;if(S>m)return m;let T=h+Math.round((S-h)/g)*g;return e?Math.round(T):parseFloat(T.toFixed(on(g)))};if(o.push(n("input",s("keydown",(S)=>{let{key:T,shiftKey:j}=S;if(["ArrowUp","ArrowDown"].includes(T)){S.stopPropagation(),S.preventDefault();let gt=j?g*10:g,mt=w(r.valueAsNumber+(T==="ArrowUp"?gt:-gt));r.value=String(mt),i(mt)}}))),b)o.push(n(".decrement",s("click",(S)=>{let T=S.shiftKey?g*10:g,j=w(r.valueAsNumber-T);r.value=String(j),i(j)}),f("disabled",()=>(st(h)?t.value:0)-g<h)),n(".increment",s("click",(S)=>{let T=S.shiftKey?g*10:g,j=w(r.valueAsNumber+T);r.value=String(j),i(j)}),f("disabled",()=>(st(m)?t.value:0)+g>m)))}else o.push(n(".clear",s("click",()=>{t.clear(),i("")}),f("hidden",()=>!t.length)));let u=t.querySelector(".error")?.id;o.push(n(".error",E("error")),n("input",f("ariaInvalid",()=>t.error?"true":"false"),H("aria-errormessage",()=>t.error&&u?u:L)));let c=t.querySelector(".description");if(c){let b=r.maxLength,g=b&&c.dataset.remaining;if(g)t.setSignal("description",x(()=>g.replace("${x}",String(b-t.length))));o.push(n(".description",E("description")),n("input",H("aria-describedby",()=>t.description&&c.id?c.id:L)))}return o});var vn=y("input-textbox",{value:C(),length:0,error:"",description:$},(t,{first:n})=>{let o=t.querySelector("input, textarea");if(!o)throw new Error("No Input or textarea element found");let r=t.querySelector(".error")?.id,a=t.querySelector(".description"),e=a?.id;if(a?.dataset.remaining&&o.maxLength)t.setSignal("description",x(()=>a.dataset.remaining.replace("${n}",String(o.maxLength-t.length))));return[H("value"),n(".description",E("description")),n("input, textarea",f("value"),f("ariaInvalid",()=>t.error?"true":"false"),H("aria-errormessage",()=>t.error&&r?r:L),H("aria-describedby",()=>t.description&&e?e:L),s("input",()=>t.length=o.value.length),s("change",()=>O(()=>{t.value=o.value,t.error=o.validationMessage??""}))),n(".clear",f("hidden",()=>!t.length),s("click",()=>{o.value="",O(()=>{t.value="",t.error=o.validationMessage??"",t.length=0})})),n(".error",E("error"))]});var Dn=y("input-combobox",{value:C(),length:0,error:"",description:$},(t,{first:n,all:o})=>{let r=t.querySelector("input");if(!r)throw new Error("Input element not found");let a=t.querySelector(".error")?.id,e=t.querySelector(".description")?.id,d=p("idle"),i=p(-1),u=p(""),c=p(!1),b=N(t,'[role="option"]:not([hidden])'),g=()=>d.get()==="editing"&&c.get(),h=(m)=>{r.value=m,O(()=>{d.set("selected"),t.value=m,t.length=m.length,t.error=r.validationMessage??"",u.set(m.toLowerCase()),i.set(-1),c.set(r.required&&!r.value||!1)})};return[H("value"),()=>W(()=>{let m=d.get(),w=i.get();if(m==="idle")return;else if(m==="editing"&&w>=0)b.get().at(w)?.focus();else r.focus()}),s("keydown",(m)=>{if(["ArrowDown","ArrowUp"].includes(m.key))if(m.preventDefault(),m.stopPropagation(),d.set("editing"),m.altKey)c.set(m.key==="ArrowDown");else i.update((w)=>m.key==="ArrowDown"?Math.min(w+1,b.get().length-1):Math.max(w-1,-1))}),s("keyup",(m)=>{if(m.key==="Delete")m.preventDefault(),m.stopPropagation(),h("")}),s("focusout",()=>requestAnimationFrame(()=>{if(!t.contains(document.activeElement))d.set("idle")})),n(".description",E("description")),n("input",f("value"),f("ariaExpanded",()=>String(g())),f("ariaInvalid",()=>t.error?"true":"false"),H("aria-errormessage",()=>t.error&&a?a:L),H("aria-describedby",()=>t.description&&e?e:L),s("input",()=>O(()=>{d.set("editing"),c.set(!0),u.set(r.value.trim().toLowerCase()),t.length=r.value.length})),s("change",()=>O(()=>{t.value=r.value,t.error=r.validationMessage??""}))),n(".clear",f("hidden",()=>!t.length),s("click",()=>h(""))),n('[role="listbox"]',f("hidden",()=>!g()),s("keyup",(m)=>{if(m.key==="Enter")h(b.get().at(i.get())?.textContent?.trim()||"");else if(m.key==="Escape")h(t.value);else{let w=m.key.toLowerCase(),S=b.get().findIndex((T)=>(T.textContent?.trim().toLowerCase()||"").startsWith(w));if(S!==-1)i.set(S)}})),o('[role="option"]',f("ariaSelected",(m)=>String(m.textContent?.trim().toLowerCase()===t.value.toLowerCase())),f("hidden",(m)=>!m.textContent?.trim().toLowerCase().includes(u.get())),s("click",(m)=>{h(m.target.textContent?.trim()||"")})),n(".error",E("error"))]});var Un=y("code-block",{collapsed:G},(t,{first:n})=>{let o=t.querySelector("code");return[K("collapsed"),n(".overlay",s("click",()=>{t.collapsed=!1})),n(".copy",s("click",async(r)=>{let a=r.currentTarget,e=a.textContent?.trim()??"",d="success";try{await navigator.clipboard.writeText(o?.textContent?.trim()??"")}catch(i){console.error("Error while trying to use navigator.clipboard.writeText()",i),d="error"}a.disabled=!0,a.label=t.getAttribute(`copy-${d}`)??e,setTimeout(()=>{a.disabled=!1,a.label=e},d==="success"?1000:3000)}))]});var Wn=y("tab-group",{selected:""},(t,{all:n,first:o})=>{let r=(d)=>d?.getAttribute("aria-controls")??"",a=Array.from(t.querySelectorAll('[role="tab"]')),e=p(a.findIndex((d)=>d.ariaSelected==="true"));return t.selected=r(a[e.get()]),[o('[role="tablist"]',nt(a,e)),n('[role="tab"]',s("click",(d)=>{t.selected=r(d.currentTarget),e.set(a.findIndex((i)=>i===d.currentTarget))}),f("ariaSelected",(d)=>String(t.selected===r(d))),f("tabIndex",(d)=>t.selected===r(d)?0:-1)),n('[role="tabpanel"]',f("hidden",(d)=>t.selected!==d.id))]});var Jt=(t,n)=>{let o="",r="";if(!n)r="No URL provided";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${n}"]`))r="Recursive loading detected";else try{let a=new URL(n,location.href);if(a.origin===location.origin)o=String(a);else r="Invalid URL origin"}catch(a){r=String(a)}return{value:o,error:r}};var oo=y("lazy-load",{src:Jt},(t,{first:n})=>{let o=p(""),r=x(async(a)=>{let e=t.src.value;if(t.src.error||!e)return o.set(t.src.error??"No URL provided"),"";try{o.set(""),t.querySelector(".loading")?.remove();let{content:d}=await tt(e,a);return d}catch(d){let i=d instanceof Error?d.message:String(d);return o.set(i),""}});return[B(r),n("callout-box",f("hidden",()=>!o.get()&&r.get()!==L),z("danger",()=>!o.get())),n(".error",E(o))]});var ft=(t,n)=>(o)=>N(o,`${t}${n?"[checked]":":not([checked])"}`);var uo=y("todo-app",{active:ft("input-checkbox",!1),completed:ft("input-checkbox",!0)},(t,{first:n})=>{let o=t.querySelector("input-field");if(!o)throw new Error("No input field found");let r=t.querySelector("template");if(!r)throw new Error("No template found");let a=t.querySelector("ol");if(!a)throw new Error("No list found");return[n(".submit",f("disabled",()=>!o.length)),n("form",s("submit",(e)=>{e.preventDefault(),queueMicrotask(()=>{if(!o.value.toString().trim())return;let i=document.importNode(r.content,!0).firstElementChild;if(!(i instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");i.querySelector("slot")?.replaceWith(String(o.value)),a.append(i),o.clear()})})),n("ol",H("filter",()=>t.querySelector("input-radiogroup")?.value??"all"),s("click",(e)=>{let d=e.target;if(d.localName==="button")d.closest("li").remove()})),n(".count",E(()=>String(t.active.length))),n(".singular",f("hidden",()=>t.active.length>1)),n(".plural",f("hidden",()=>t.active.length===1)),n(".remaining",f("hidden",()=>!t.active.length)),n(".all-done",f("hidden",()=>!!t.active.length)),n(".clear-completed",f("disabled",()=>!t.completed.length),f("badge",()=>t.completed.length>0?String(t.completed.length):""),s("click",()=>{let e=Array.from(t.querySelectorAll("ol li"));for(let d=e.length-1;d>=0;d--)if(e[d].querySelector("input-checkbox")?.checked)e[d].remove()}))]});var Nt=(t)=>(n)=>()=>N(n,t).get().reduce((o,r)=>o+r.value,0);var ho=y("product-catalog",{total:Nt("spin-button")},(t,{first:n})=>[n("input-button",Ct({badge:()=>t.total>0?String(t.total):"",disabled:()=>!t.total}))]);var Eo=y("spin-button",{value:M()},(t,{all:n,first:o})=>{let r=t.getAttribute("zero-label")||"Add to Cart",a=t.getAttribute("increment-label")||"Increment",e=M(9)(t,t.getAttribute("max")),d=()=>t.value===0;return[o(".value",E("value"),f("hidden",d)),o(".decrement",f("hidden",d),s("click",()=>{t.value--})),o(".increment",E(()=>d()?r:"+"),f("ariaLabel",()=>d()?r:a),f("disabled",()=>t.value>=e),s("click",()=>{t.value++})),n("button",s("keydown",(i)=>{let{key:u}=i;if(["ArrowUp","ArrowDown","-","+"].includes(u)){if(i.stopPropagation(),i.preventDefault(),u==="ArrowDown"||u==="-")t.value--;if(u==="ArrowUp"||u==="+")t.value++}}))]});var Lo=y("rating-stars",{value:M()},(t,{all:n})=>{let o=(r)=>parseInt(r.dataset.key||"0");return[n("input",f("checked",(r)=>t.value===o(r)),s("change",(r)=>{r.stopPropagation();let a=parseInt(r.currentTarget?.value)+1;t.value=a,V("change-rating",a)(t)})),n(".label",E((r)=>o(r)<=t.value?"\u2605":"\u2606"))]});var Ao=y("rating-feedback",{},(t,{all:n,first:o})=>{let r=p(0),a=p(!0),e=p(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let i=(u)=>r.get()!==parseInt(u.dataset.key||"0");return[s("change-rating",(u)=>{r.set(u.detail)}),s("submit",(u)=>{u.preventDefault(),e.set(!0),console.log("Feedback submitted")}),o(".hide",s("click",()=>{let u=t.querySelector(".feedback");if(u)u.hidden=!0})),o("textarea",s("input",(u)=>{a.set(u.target?.value.trim()==="")})),o(".feedback",f("hidden",()=>e.get()||!r.get())),n(".feedback p",f("hidden",i)),o("input-button",f("disabled",a))]});var ko=y("calc-table",{columns:M(),rows:M()},(t,{all:n,first:o})=>{let a=t.querySelector(".calc-table-row"),e=t.querySelector(".calc-table-colhead"),d=t.querySelector(".calc-table-cell");if(!a||!e||!d)throw new Error("Missing template elements");let i=new Map;for(let c=0;c<t.columns;c++)i.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c],p(0));let u=(c)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${c}"]`)).map((b)=>Number.isFinite(b.valueAsNumber)?b.valueAsNumber:0).reduce((b,g)=>b+g,0)};return[f("rows",()=>t.querySelector(".rows spin-button")?.value),f("columns",()=>t.querySelector(".columns spin-button")?.value),o("tbody",Y((c)=>t.rows-c.querySelectorAll("tr").length,{position:"beforeend",create:(c)=>{let b=document.importNode(a.content,!0).firstElementChild;if(!(b instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${b}`);let g=String(c.querySelectorAll("tr").length+1);return b.dataset.key=g,b.querySelector("slot")?.replaceWith(document.createTextNode(g)),b},resolve:()=>{for(let[c,b]of i)b.set(u(c))}})),o("thead tr",Y((c)=>t.columns-(c.querySelectorAll("th").length-1),{position:"beforeend",create:(c)=>{let b=document.importNode(e.content,!0).firstElementChild;if(!(b instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${b}`);let g="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("th").length-1];return i.set(g,p(0)),b.querySelector("slot")?.replaceWith(document.createTextNode(g)),b}})),n("tbody tr",Y((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let b=document.importNode(d.content,!0).firstElementChild;if(!(b instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${b}`);let g=c.dataset.key,h="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length],m=b.querySelector("input");if(!m)throw new Error("No input found in cell template");return m.dataset.key=h,b.querySelector("slot")?.replaceWith(document.createTextNode(`${h}${g}`)),b}})),o("tfoot tr",Y((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let b=document.createElement("td"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length];return b.dataset.key=g,b}})),n("tbody input",s("change",(c)=>{let b=c.target?.dataset.key;i.get(b)?.set(u(b))})),n("tfoot td",E((c)=>String(i.get(c.dataset.key).get())))]});
