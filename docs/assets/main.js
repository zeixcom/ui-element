var w=(e)=>typeof e==="function",ue=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,B=(e)=>e instanceof Error?e:Error(String(e));class te extends Error{constructor(e){super(`Circular dependency in ${e} detected`);return this}}var M,J=new Set,je=0,K=new Map,U,le=()=>{U=void 0;let e=Array.from(K.values());K.clear();for(let t of e)t()},Oe=()=>{if(U)cancelAnimationFrame(U);U=requestAnimationFrame(le)};queueMicrotask(le);var pe=(e)=>{let t=new Set,o=e;return o.off=(r)=>{t.add(r)},o.cleanup=()=>{for(let r of t)r();t.clear()},o},oe=(e)=>{if(M&&!e.has(M)){let t=M;e.add(t),M.off(()=>{e.delete(t)})}},Y=(e)=>{for(let t of e)if(je)J.add(t);else t()},Re=()=>{while(J.size){let e=Array.from(J);J.clear();for(let t of e)t()}};var be=(e,t)=>{let o=M;M=t;try{e()}finally{M=o}},I=(e,t)=>new Promise((o,r)=>{K.set(t||Symbol(),()=>{try{o(e())}catch(n){r(n)}}),Oe()}),he="State",v=(e)=>{let t=new Set,o=e,r={[Symbol.toStringTag]:he,get:()=>{return oe(t),o},set:(n)=>{if(Object.is(o,n))return;if(o=n,Y(t),T===o)t.clear()},update:(n)=>{r.set(n(o))}};return r},_=(e)=>ue(e,he),re="Computed",ne=(e)=>{let t=new Set,o=T,r,n,a=!0,i=!1,s=!1,u=(g)=>{if(!Object.is(g,o))o=g,i=!0;r=void 0,a=!1},c=()=>{i=T!==o,o=T,r=void 0},d=(g)=>{let m=B(g);i=!r||m.name!==r.name||m.message!==r.message,o=T,r=m},l=(g)=>(m)=>{if(s=!1,n=void 0,g(m),i)Y(t)},f=pe(()=>{if(a=!0,n?.abort("Aborted because source signal changed"),t.size)Y(t);else f.cleanup()}),E=()=>be(()=>{if(s)throw new te("computed");if(i=!1,w(e)&&e.constructor.name==="AsyncFunction"){if(n)return o;n=new AbortController,n.signal.addEventListener("abort",()=>{s=!1,n=void 0,E()},{once:!0})}let g;s=!0;try{g=n?e(n.signal):e()}catch(m){if(m instanceof DOMException&&m.name==="AbortError")c();else d(m);s=!1;return}if(g instanceof Promise)g.then(l(u),l(d));else if(g==null||T===g)c();else u(g);s=!1},f);return{[Symbol.toStringTag]:re,get:()=>{if(oe(t),Re(),a)E();if(r)throw r;return o}}},fe=(e)=>ue(e,re),Ne=(e)=>w(e)&&e.length<2,T=Symbol(),q=(e)=>_(e)||fe(e),ge=(e)=>q(e)?e:Ne(e)?ne(e):v(e);function me(e){let{signals:t,ok:o,err:r=console.error,nil:n=()=>{}}=w(e)?{signals:[],ok:e}:e,a=!1,i=pe(()=>be(()=>{if(a)throw new te("effect");a=!0;let s=[],u=!1,c=t.map((l)=>{try{let f=l.get();if(f===T)u=!0;return f}catch(f){return s.push(B(f)),T}}),d=void 0;try{d=u?n():s.length?r(...s):o(...c)}catch(l){d=r(B(l))}finally{if(w(d))i.off(d)}a=!1},i));return i(),()=>i.cleanup()}var H=!1;var Z="error",Fe=(e)=>e?`#${e}`:"",Ge=(e)=>e.length?`.${Array.from(e).join(".")}`:"",ye=(e)=>!!e&&typeof e==="object",j=(e)=>typeof e==="string",ze=(e)=>e.nodeType===Node.ELEMENT_NODE,S=(e)=>`<${e.localName}${Fe(e.id)}${Ge(e.classList)}>`,N=(e)=>j(e)?`"${e}"`:ye(e)?JSON.stringify(e):String(e),V=(e)=>{if(e===null)return"null";if(typeof e!=="object")return typeof e;if(Array.isArray(e))return"Array";if(Symbol.toStringTag in Object(e))return e[Symbol.toStringTag];return e.constructor?.name||"Object"},L=(e,t,o="debug")=>{if(["error","warn"].includes(o))console[o](t,e);return e};class Ee extends Error{constructor(e){super(e);this.name="CircularMutationError"}}var Je=(e)=>e instanceof HTMLElement&&e.localName.includes("-"),Ue=(e)=>{let t=new Set;if(e.includes("."))t.add("class");if(e.includes("#"))t.add("id");if(e.includes("[")){let o=e.split("[");for(let r=1;r<o.length;r++){let n=o[r];if(!n.includes("]"))continue;let a=n.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(a)t.add(a)}}return[...t]},Ye=(e,t)=>{if(e.length!==t.length)return!1;let o=new Set(e);for(let r of t)if(!o.has(r))return!1;return!0},Se=(e,t,o)=>{let r=new MutationObserver(o),n=Ue(t),a={childList:!0,subtree:!0};if(n.length)a.attributes=!0,a.attributeFilter=n;return r.observe(e,a),r},X=(e,t)=>{let o=new Set,r=()=>Array.from(e.querySelectorAll(t)),n=T,a,i=0,s=2,u=()=>{n=r(),a=Se(e,t,()=>{if(!o.size){a?.disconnect(),a=void 0;return}if(i++,i>s)throw a?.disconnect(),a=void 0,i=0,new Ee("Circular mutation in element selection detected");try{let c=r();if(!Ye(n,c))n=c,Y(o)}finally{i--}})};return{[Symbol.toStringTag]:re,get:()=>{if(oe(o),!o.size)n=r();else if(!a)u();return n}}},p=(e,t)=>(o,r=o)=>{if(!w(t))throw new TypeError(`Invalid event listener provided for "${e} event on element ${S(r)}`);return r.addEventListener(e,t),()=>r.removeEventListener(e,t)},D=(e,t)=>(o,r=o)=>{r.dispatchEvent(new CustomEvent(e,{detail:w(t)?t(r):t,bubbles:!0}))},we=(e)=>(t,o)=>{let r=o.localName;if(!Je(o))throw new TypeError("Target element must be a custom element");let n=w(e)?e(o):e;if(!ye(n))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(r).then(()=>{for(let[a,i]of Object.entries(n)){let s=j(i)?t.getSignal(a):ge(i);o.setSignal(a,s)}}).catch((a)=>{throw new Error(`Failed to pass signals to ${S(o)}}`,{cause:a})})},A=Symbol(),Ie=new Set(Object.getOwnPropertyNames(HTMLElement.prototype)),_e=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"]),W=(e)=>w(e)&&e.length>=2,Ze=(e)=>!(Ie.has(e)||_e.has(e)),ee=(e,t,o=t)=>{let r=e.filter(w).map((n)=>n(t,o));return()=>{r.filter(w).forEach((n)=>n()),r.length=0}},qe=()=>({first:(e,...t)=>(o)=>{let r=(o.shadowRoot||o).querySelector(e);if(r)ee(t,o,r)},all:(e,...t)=>(o)=>{let r=new Map,n=o.shadowRoot||o,a=(c)=>{if(!r.has(c))r.set(c,ee(t,o,c))},i=(c)=>{let d=r.get(c);if(w(d))d();r.delete(c)},s=(c)=>(d)=>{if(ze(d)){if(d.matches(e))c(d);d.querySelectorAll(e).forEach(c)}},u=Se(n,e,(c)=>{for(let d of c)d.addedNodes.forEach(s(a)),d.removedNodes.forEach(s(i))});return n.querySelectorAll(e).forEach(a),()=>{u.disconnect(),r.forEach((c)=>c()),r.clear()}}}),h=(e,t={},o)=>{class r extends HTMLElement{debug;#e={};#t;static observedAttributes=Object.entries(t)?.filter(([,n])=>W(n)).map(([n])=>n)??[];constructor(){super();for(let[n,a]of Object.entries(t)){if(a==null)continue;let i=W(a)?a(this,null):w(a)?a(this):a;if(i!=null)this.setSignal(n,ge(i))}}connectedCallback(){if(H){if(this.debug=this.hasAttribute("debug"),this.debug)L(this,"Connected")}let n=o(this,qe());if(!Array.isArray(n))throw new TypeError(`Expected array of functions as return value of setup function in ${S(this)}`);this.#t=ee(n,this)}disconnectedCallback(){if(w(this.#t))this.#t();if(H&&this.debug)L(this,"Disconnected")}attributeChangedCallback(n,a,i){if(i===a||fe(this.#e[n]))return;let s=t[n];if(!W(s))return;let u=s(this,i,a);if(H&&this.debug)L(i,`Attribute "${n}" of ${S(this)} changed from ${N(a)} to ${N(i)}, parsed as <${V(u)}> ${N(u)}`);this[n]=u}getSignal(n){let a=this.#e[n];if(H&&this.debug)L(a,`Get ${V(a)} "${String(n)}" in ${S(this)}`);return a}setSignal(n,a){if(!Ze(String(n)))throw new TypeError(`Invalid property name "${String(n)}". Property names must be valid JavaScript identifiers and not conflict with inherited HTMLElement properties.`);if(!q(a))throw new TypeError(`Expected signal as value for property "${String(n)}" on ${S(this)}.`);let i=this.#e[n],s=_(a);if(this.#e[n]=a,Object.defineProperty(this,n,{get:a.get,set:s?a.set:void 0,enumerable:!0,configurable:s}),i&&_(i))i.set(T);if(H&&this.debug)L(a,`Set ${V(a)} "${String(n)} in ${S(this)}`)}}return customElements.define(e,r),r},de="context-request";var Te=(e)=>(t)=>{let o=(r)=>{let{context:n,callback:a}=r;if(e.includes(n)&&w(a))r.stopPropagation(),a(t.getSignal(String(n)))};return t.addEventListener(de,o),()=>t.removeEventListener(de,o)};var Xe=(e,t)=>{if(t==null)return;let o=e(t);return Number.isFinite(o)?o:void 0},O=(e,t)=>t!=="false"&&t!=null,C=(e=0)=>(t,o)=>Xe(parseInt,o)??e;var k=(e="")=>(t,o)=>o??e;var ve=(e,t,o)=>j(e)?t.getSignal(e).get():q(e)?e.get():w(e)?e(o):A,De=(e)=>{if(/^(mailto|tel):/i.test(e))return!0;if(e.includes("://"))try{let t=new URL(e,window.location.origin);return["http:","https:","ftp:"].includes(t.protocol)}catch(t){return!1}return!0},Qe=(e,t,o)=>{if(/^on/i.test(t))throw new Error(`Unsafe attribute: ${t}`);if(o=String(o).trim(),!De(o))throw new Error(`Unsafe URL for ${t}: ${o}`);e.setAttribute(t,o)},R=(e,t)=>(o,r)=>{let{op:n,name:a="",read:i,update:s}=t,u=i(r),c={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"};if(j(e)&&j(u)&&o[e]===A)o.attributeChangedCallback(e,null,u);let d=(f)=>()=>{if(H&&o.debug)L(r,`${f} ${c[n]+a} of ${S(r)} in ${S(o)}`);t.resolve?.(r)},l=(f)=>(E)=>{L(E,`Failed to ${f} ${c[n]+a} of ${S(r)} in ${S(o)}`,Z),t.reject?.(E)};return me(()=>{let f=Symbol(`${n}:${a}`),E=Symbol(`${n}-${a}`),g=A;try{g=ve(e,o,r)}catch(m){L(m,`Failed to resolve value of ${N(e)} for ${c[n]+a} of ${S(r)} in ${S(o)}`,Z);return}if(g===A)g=u;else if(g===T)g=t.delete?null:u;if(t.delete&&g===null)I(()=>{return t.delete(r),!0},E).then(d("Deleted")).catch(l("delete"));else if(g!=null){let m=i(r);if(Object.is(g,m))return;I(()=>{return s(r,g),!0},f).then(d("Updated")).catch(l("update"))}})},F=(e,t)=>(o,r)=>{let n=(i)=>()=>{if(H&&o.debug)L(r,`${i} element in ${S(r)} in ${S(o)}`);if(w(t?.resolve))t.resolve(r);else{let s=q(e)?e:j(e)?o.getSignal(e):void 0;if(_(s))s.set(0)}},a=(i)=>(s)=>{L(s,`Failed to ${i} element in ${S(r)} in ${S(o)}`,Z),t?.reject?.(s)};return me(()=>{let i=Symbol("i"),s=Symbol("d"),u=0;try{u=ve(e,o,r)}catch(c){L(c,`Failed to resolve value of ${N(e)} for insertion or deletion in ${S(r)} in ${S(o)}`,Z);return}if(u===A)u=0;if(u>0){if(!t)throw new TypeError("No inserter provided");I(()=>{for(let c=0;c<u;c++){let d=t.create(r);if(!d)continue;r.insertAdjacentElement(t.position??"beforeend",d)}return!0},i).then(n("Inserted")).catch(a("insert"))}else if(u<0)I(()=>{if(t&&(t.position==="afterbegin"||t.position==="beforeend"))for(let c=0;c>u;c--)if(t.position==="afterbegin")r.firstElementChild?.remove();else r.lastElementChild?.remove();else r.remove();return!0},s).then(n("Removed")).catch(a("remove"))})},y=(e)=>R(e,{op:"t",read:(t)=>t.textContent,update:(t,o)=>{Array.from(t.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),t.append(document.createTextNode(o))}}),b=(e,t=e)=>R(t,{op:"p",name:String(e),read:(o)=>(e in o)?o[e]:T,update:(o,r)=>{o[e]=r}}),P=(e,t=e)=>R(t,{op:"a",name:e,read:(o)=>o.getAttribute(e),update:(o,r)=>{Qe(o,e,r)},delete:(o)=>{o.removeAttribute(e)}}),Q=(e,t=e)=>R(t,{op:"a",name:e,read:(o)=>o.hasAttribute(e),update:(o,r)=>{o.toggleAttribute(e,r)}}),G=(e,t=e)=>R(t,{op:"c",name:e,read:(o)=>o.classList.contains(e),update:(o,r)=>{o.classList.toggle(e,r)}});var Ae=(e,t,o)=>R(e,{op:"h",read:(r)=>(r.shadowRoot||!t?r:null)?.innerHTML??"",update:(r,n)=>{if(!n){if(r.shadowRoot)r.shadowRoot.innerHTML="<slot></slot>";return""}if(t&&!r.shadowRoot)r.attachShadow({mode:t});let a=r.shadowRoot||r;if(a.innerHTML=n,!o)return"";return a.querySelectorAll("script").forEach((i)=>{let s=document.createElement("script");s.appendChild(document.createTextNode(i.textContent??"")),a.appendChild(s),i.remove()})," with scripts"}});var et=h("hello-world",{name:A},(e,{first:t})=>[t("span",y("name")),t("input",p("input",(o)=>{e.name=o.target?.value||A}))]);var rt=h("my-counter",{count:C()},(e,{first:t})=>[t(".count",y("count")),t(".parity",y(()=>e.count%2?"odd":"even")),t(".increment",p("click",()=>{e.count++})),t(".decrement",p("click",()=>{e.count--}))]);var it=h("my-slider",{},(e,{all:t,first:o})=>{let r=v(0),n=e.querySelectorAll(".slide").length,a=(i)=>String(r.get())===i.dataset.index;return[o(".prev",p("click",()=>{r.update((i)=>(i-1+n)%n)})),o(".next",p("click",()=>{r.update((i)=>(i+1+n)%n)})),t(".slide",G("active",a)),t(".dots span",G("active",a))]});var dt=h("input-button",{disabled:O,label:k(A),badge:k(A)},(e,{first:t})=>[t("button",b("disabled")),t(".label",y("label")),t(".badge",y("badge"))]);var pt=h("input-checkbox",{checked:O,label:k(A)},(e,{first:t})=>[Q("checked"),t("input",b("checked"),p("change",(o)=>{e.checked=o.target?.checked})),t(".label",y("label"))]);var ft=h("input-radiogroup",{value:k()},(e,{all:t})=>[P("value"),t("input",p("change",(o)=>{e.value=o.target?.value})),t("label",G("selected",(o)=>e.value===o.querySelector("input")?.value))]);var ae=(e)=>typeof e==="number",z=(e,t=!1,o=0)=>{if(!e)return o;let r=t?parseInt(e,10):parseFloat(e);return Number.isFinite(r)?r:o},Ve=(e)=>{if(Math.floor(e)===e||String(e).indexOf(".")===-1)return 0;return String(e).split(".")[1].length||0},We=(e,t)=>{let o=e.querySelector("input");return o&&o.type==="number"?z(t,e.hasAttribute("integer"),0):t??""},yt=h("input-field",{value:We,length:0,error:"",description:"",clear:(e)=>{e.clear=()=>{e.value="",e.length=0;let t=e.querySelector("input");if(t)t.value="",t.checkValidity(),t.focus()}}},(e,{first:t})=>{let o=[],r=e.querySelector("input");if(!r)throw new Error("No input element found");let n=r.type==="number",a=e.hasAttribute("integer"),i=e.getAttribute("validate"),s=(d)=>{let l=typeof d==="function"?d(e.value):n&&!ae(d)?z(d,a,0):d;if(Object.is(e.value,l))return;if(l!==null&&i)fetch(`${i}?name=${r.name}value=${l}`).then(async(f)=>{let E=await f.text();r.setCustomValidity(E),e.error=E}).catch((f)=>{e.error=f.message});if(r.checkValidity(),e.value=l,e.error=r.validationMessage??"",r?.value!==String(d))D("value-change",d)(e)};if(o.push(t("input",b("value",()=>String(e.value)),p("change",()=>{s(n?r.valueAsNumber??0:r.value??"")}),p("input",()=>{e.length=r.value.length??0}))),n){let d=e.querySelector(".spinbutton"),l=z(d?.dataset.step||r.step,a,1),f=z(r.min,a,0),E=z(r.max,a,100),g=(m)=>{if(!Number.isFinite(m)||m<f)return f;if(m>E)return E;let $=f+Math.round((m-f)/l)*l;return a?Math.round($):parseFloat($.toFixed(Ve(l)))};if(o.push(t("input",p("keydown",(m)=>{let{key:$,shiftKey:x}=m;if(["ArrowUp","ArrowDown"].includes($)){m.stopPropagation(),m.preventDefault();let ce=x?l*10:l,se=g(r.valueAsNumber+($==="ArrowUp"?ce:-ce));r.value=String(se),s(se)}}))),d)o.push(t(".decrement",p("click",(m)=>{let $=m.shiftKey?l*10:l,x=g(r.valueAsNumber-$);r.value=String(x),s(x)}),b("disabled",()=>(ae(f)?e.value:0)-l<f)),t(".increment",p("click",(m)=>{let $=m.shiftKey?l*10:l,x=g(r.valueAsNumber+$);r.value=String(x),s(x)}),b("disabled",()=>(ae(E)?e.value:0)+l>E)))}else o.push(t(".clear",p("click",()=>{e.clear(),s("")}),b("hidden",()=>!e.length)));let u=e.querySelector(".error")?.id;o.push(t(".error",y("error")),t("input",b("ariaInvalid",()=>e.error?"true":"false"),P("aria-errormessage",()=>e.error&&u?u:T)));let c=e.querySelector(".description");if(c){let d=r.maxLength,l=d&&c.dataset.remaining;if(l)e.setSignal("description",ne(()=>l.replace("${x}",String(d-e.length))));o.push(t(".description",y("description")),t("input",P("aria-describedby",()=>e.description&&c.id?c.id:T)))}return o});var wt=h("code-block",{collapsed:O},(e,{first:t})=>{let o=e.querySelector("code");return[Q("collapsed"),t(".overlay",p("click",()=>{e.collapsed=!1})),t(".copy",p("click",async(r)=>{let n=r.currentTarget,a=n.textContent?.trim()??"",i="success";try{await navigator.clipboard.writeText(o?.textContent?.trim()??"")}catch(s){console.error("Error while trying to use navigator.clipboard.writeText()",s),i="error"}n.disabled=!0,n.label=e.getAttribute(`copy-${i}`)??a,setTimeout(()=>{n.disabled=!1,n.label=a},i==="success"?1000:3000)}))]});var Le=(e,t)=>(o)=>{if(!(o instanceof KeyboardEvent))throw new TypeError("Event is not a KeyboardEvent");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)){switch(o.preventDefault(),o.key){case"ArrowLeft":case"ArrowUp":t=t<1?e.length-1:t-1;break;case"ArrowRight":case"ArrowDown":t=t>=e.length-1?0:t+1;break;case"Home":t=0;break;case"End":t=e.length-1;break}if(e[t])e[t].focus()}};var Ct=h("tab-group",{selected:""},(e,{all:t,first:o})=>{e.selected=e.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls")??"";let r=(i)=>e.selected===i.getAttribute("aria-controls"),n=Array.from(e.querySelectorAll('[role="tab"]')),a=0;return[o('[role="tablist"]',p("keydown",Le(n,a))),t('[role="tab"]',p("click",(i)=>{e.selected=i.currentTarget.getAttribute("aria-controls")??"",a=n.findIndex((s)=>r(s))}),b("ariaSelected",(i)=>String(r(i))),b("tabIndex",(i)=>r(i)?0:-1)),t('[role="tabpanel"]',b("hidden",(i)=>e.selected!==i.id))]});var Ce=(e,t)=>{let o="",r="";if(!t)r="No URL provided";else if((e.parentElement||e.getRootNode().host)?.closest(`${e.localName}[src="${t}"]`))r="Recursive loading detected";else{let n=new URL(t,location.href);if(n.origin===location.origin)o=String(n);else r="Invalid URL origin"}return e.error=r,o};var $e=(e)=>async(t)=>{let o=e.src;if(!o)return"";try{let r=await fetch(o,{signal:t});if(e.querySelector(".loading")?.remove(),r.ok)return r.text();else e.error=r.statusText}catch(r){e.error=r.message}return""};var jt=h("lazy-load",{error:"",src:Ce,content:$e},(e,{first:t})=>[Ae("content"),t(".error",y("error"),b("hidden",()=>!e.error))]);var xe="media-motion",He="media-theme",Me="media-viewport",ke="media-orientation",Nt=h("media-context",{[xe]:()=>{let e=matchMedia("(prefers-reduced-motion: reduce)"),t=v(e.matches);return e.addEventListener("change",(o)=>{t.set(o.matches)}),t},[He]:()=>{let e=matchMedia("(prefers-color-scheme: dark)"),t=v(e.matches?"dark":"light");return e.addEventListener("change",(o)=>{t.set(o.matches?"dark":"light")}),t},[Me]:(e)=>{let t=(u,c)=>{let l=e.getAttribute(u)?.trim();if(!l)return c;let f=l.match(/em$/)?"em":"px",E=parseFloat(l);return Number.isFinite(E)?E+f:c},o=matchMedia(`(min-width: ${t("sm","32em")})`),r=matchMedia(`(min-width: ${t("md","48em")})`),n=matchMedia(`(min-width: ${t("lg","72em")})`),a=matchMedia(`(min-width: ${t("xl","104em")})`),i=()=>{if(a.matches)return"xl";if(n.matches)return"lg";if(r.matches)return"md";if(o.matches)return"sm";return"xs"},s=v(i());return o.addEventListener("change",()=>{s.set(i())}),r.addEventListener("change",()=>{s.set(i())}),n.addEventListener("change",()=>{s.set(i())}),a.addEventListener("change",()=>{s.set(i())}),s},[ke]:()=>{let e=matchMedia("(orientation: landscape)"),t=v(e.matches?"landscape":"portrait");return e.addEventListener("change",(o)=>{t.set(o.matches?"landscape":"portrait")}),t}},()=>[Te([xe,He,Me,ke])]);var ie=(e,t)=>(o)=>X(o,`${e}${t?"[checked]":":not([checked])"}`);var Yt=h("todo-app",{active:ie("input-checkbox",!1),completed:ie("input-checkbox",!0)},(e,{first:t})=>{let o=e.querySelector("input-field");if(!o)throw new Error("No input field found");let r=e.querySelector("template");if(!r)throw new Error("No template found");let n=e.querySelector("ol");if(!n)throw new Error("No list found");return[t(".submit",b("disabled",()=>!o.length)),t("form",p("submit",(a)=>{a.preventDefault(),queueMicrotask(()=>{if(!o.value.toString().trim())return;let s=document.importNode(r.content,!0).firstElementChild;if(!(s instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");s.querySelector("slot")?.replaceWith(String(o.value)),n.append(s),o.clear()})})),t("ol",P("filter",()=>e.querySelector("input-radiogroup")?.value??"all"),p("click",(a)=>{let i=a.target;if(i.localName==="button")i.closest("li").remove()})),t(".count",y(()=>String(e.active.length))),t(".singular",b("hidden",()=>e.active.length>1)),t(".plural",b("hidden",()=>e.active.length===1)),t(".remaining",b("hidden",()=>!e.active.length)),t(".all-done",b("hidden",()=>!!e.active.length)),t(".clear-completed",b("disabled",()=>!e.completed.length),b("badge",()=>e.completed.length>0?String(e.completed.length):""),p("click",()=>{let a=Array.from(e.querySelectorAll("ol li"));for(let i=a.length-1;i>=0;i--)if(a[i].querySelector("input-checkbox")?.checked)a[i].remove()}))]});var Pe=(e)=>(t)=>()=>X(t,e).get().reduce((o,r)=>o+r.value,0);var Dt=h("product-catalog",{total:Pe("spin-button")},(e,{first:t})=>[t("input-button",we({badge:()=>e.total>0?String(e.total):"",disabled:()=>!e.total}))]);var Wt=h("spin-button",{value:C()},(e,{all:t,first:o})=>{let r=e.getAttribute("zero-label")||"Add to Cart",n=e.getAttribute("increment-label")||"Increment",a=C(9)(e,e.getAttribute("max")),i=()=>e.value===0;return[o(".value",y("value"),b("hidden",i)),o(".decrement",b("hidden",i),p("click",()=>{e.value--})),o(".increment",y(()=>i()?r:"+"),b("ariaLabel",()=>i()?r:n),b("disabled",()=>e.value>=a),p("click",()=>{e.value++})),t("button",p("keydown",(s)=>{let{key:u}=s;if(["ArrowUp","ArrowDown","-","+"].includes(u)){if(s.stopPropagation(),s.preventDefault(),u==="ArrowDown"||u==="-")e.value--;if(u==="ArrowUp"||u==="+")e.value++}}))]});var eo=h("rating-stars",{value:C()},(e,{all:t})=>{let o=(r)=>parseInt(r.dataset.key||"0");return[t("input",b("checked",(r)=>e.value===o(r)),p("change",(r)=>{r.stopPropagation();let n=parseInt(r.currentTarget?.value)+1;e.value=n,D("change-rating",n)(e)})),t(".label",y((r)=>o(r)<=e.value?"★":"☆"))]});var ro=h("rating-feedback",{},(e,{all:t,first:o})=>{let r=v(0),n=v(!0),a=v(!1);if(!e.querySelector("rating-stars"))throw new Error("No rating-stars component found");let s=(u)=>r.get()!==parseInt(u.dataset.key||"0");return[p("change-rating",(u)=>{r.set(u.detail)}),p("submit",(u)=>{u.preventDefault(),a.set(!0),console.log("Feedback submitted")}),o(".hide",p("click",()=>{let u=e.querySelector(".feedback");if(u)u.hidden=!0})),o("textarea",p("input",(u)=>{n.set(u.target?.value.trim()==="")})),o(".feedback",b("hidden",()=>a.get()||!r.get())),t(".feedback p",b("hidden",s)),o("input-button",b("disabled",n))]});var io=h("calc-table",{columns:C(),rows:C()},(e,{all:t,first:o})=>{let n=e.querySelector(".calc-table-row"),a=e.querySelector(".calc-table-colhead"),i=e.querySelector(".calc-table-cell");if(!n||!a||!i)throw new Error("Missing template elements");let s=new Map;for(let c=0;c<e.columns;c++)s.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c],v(0));let u=(c)=>{return Array.from(e.querySelectorAll(`tbody input[data-key="${c}"]`)).map((d)=>Number.isFinite(d.valueAsNumber)?d.valueAsNumber:0).reduce((d,l)=>d+l,0)};return[b("rows",()=>e.querySelector(".rows spin-button")?.value),b("columns",()=>e.querySelector(".columns spin-button")?.value),o("tbody",F((c)=>e.rows-c.querySelectorAll("tr").length,{position:"beforeend",create:(c)=>{let d=document.importNode(n.content,!0).firstElementChild;if(!(d instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${d}`);let l=String(c.querySelectorAll("tr").length+1);return d.dataset.key=l,d.querySelector("slot")?.replaceWith(document.createTextNode(l)),d},resolve:()=>{for(let[c,d]of s)d.set(u(c))}})),o("thead tr",F((c)=>e.columns-(c.querySelectorAll("th").length-1),{position:"beforeend",create:(c)=>{let d=document.importNode(a.content,!0).firstElementChild;if(!(d instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${d}`);let l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("th").length-1];return s.set(l,v(0)),d.querySelector("slot")?.replaceWith(document.createTextNode(l)),d}})),t("tbody tr",F((c)=>e.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let d=document.importNode(i.content,!0).firstElementChild;if(!(d instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${d}`);let l=c.dataset.key,f="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length],E=d.querySelector("input");if(!E)throw new Error("No input found in cell template");return E.dataset.key=f,d.querySelector("slot")?.replaceWith(document.createTextNode(`${f}${l}`)),d}})),o("tfoot tr",F((c)=>e.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let d=document.createElement("td"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length];return d.dataset.key=l,d}})),t("tbody input",p("change",(c)=>{let d=c.target?.dataset.key;s.get(d)?.set(u(d))})),t("tfoot td",y((c)=>String(s.get(c.dataset.key).get())))]});
