var O=(t)=>typeof t==="function",Ct=(t)=>O(t)&&t.constructor.name==="AsyncFunction",mt=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`,Pt=(t)=>t instanceof Error,nt=(t)=>t instanceof DOMException&&t.name==="AbortError",Ht=(t)=>t instanceof Promise,K=(t)=>Pt(t)?t:Error(String(t));class ct extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var I,V=new Set,at=0,it=new Map,Z,gt=()=>{Z=void 0;let t=Array.from(it.values());it.clear();for(let e of t)e()},It=()=>{if(Z)cancelAnimationFrame(Z);Z=requestAnimationFrame(gt)};queueMicrotask(gt);var ft=(t)=>{if(I&&!t.has(I)){let e=I;t.add(e),I.cleanups.add(()=>{t.delete(e)})}},J=(t)=>{for(let e of t)if(at)V.add(e);else e()},ht=()=>{while(V.size){let t=Array.from(V);V.clear();for(let e of t)e()}},bt=(t)=>{at++;try{t()}finally{ht(),at--}},Et=(t,e)=>{let o=I;I=e;try{t()}finally{I=o}},D=(t,e=[])=>new Promise((o,r)=>{it.set(e,()=>{try{o(t())}catch(n){r(n)}}),It()});function tt(t){let{signals:e,ok:o,err:r=console.error,nil:n=()=>{}}=O(t)?{signals:[],ok:t}:t,a=!1,c=()=>Et(()=>{if(a)throw new ct("effect");a=!0;let i=void 0;try{i=Tt({signals:e,ok:o,err:r,nil:n})}catch(l){r(K(l))}if(O(i))c.cleanups.add(i);a=!1},c);return c.cleanups=new Set,c(),()=>{c.cleanups.forEach((i)=>i()),c.cleanups.clear()}}var yt="Computed",Ot=(t,e)=>{if(!e)return!1;return t.name===e.name&&t.message===e.message},k=(t)=>{let e=new Set,o=O(t)?void 0:{nil:()=>L,err:(...h)=>{if(h.length>1)throw new AggregateError(h);else throw h[0]},...t},r=o?o.ok:t,n=L,a,c=!0,i=!1,l=!1,s,d=(h)=>{if(!Object.is(h,n))n=h,c=!1,a=void 0,i=!0},f=()=>{i=L!==n,n=L,a=void 0},b=(h)=>{let U=K(h);i=!Ot(U,a),n=L,a=U},M=(h)=>{if(l=!1,s=void 0,d(h),i)J(e)},T=(h)=>{if(l=!1,s=void 0,b(h),i)J(e)},x=()=>{l=!1,s=void 0,Y()},A=()=>{if(c=!0,s?.abort("Aborted because source signal changed"),e.size){if(i)J(e)}else A.cleanups.forEach((h)=>h()),A.cleanups.clear()};A.cleanups=new Set;let Y=()=>Et(()=>{if(l)throw new ct("computed");if(i=!1,Ct(r)){if(s)return n;if(s=new AbortController,o)o.abort=o.abort instanceof AbortSignal?AbortSignal.any([o.abort,s.signal]):s.signal;s.signal.addEventListener("abort",x,{once:!0})}let h;l=!0;try{h=o&&o.signals.length?Tt(o):r(s?.signal)}catch(U){nt(U)?f():b(U),l=!1;return}if(Ht(h))h.then(M,T);else if(h==null||L===h)f();else d(h);l=!1},A),q={[Symbol.toStringTag]:yt,get:()=>{if(ft(e),ht(),c)Y();if(a)throw a;return n},map:(h)=>k({signals:[q],ok:h}),tap:(h)=>tt({signals:[q],...O(h)?{ok:h}:h})};return q},St=(t)=>mt(t,yt),wt="State",w=(t)=>{let e=new Set,o=t,r={[Symbol.toStringTag]:wt,get:()=>{return ft(e),o},set:(n)=>{if(Object.is(o,n))return;if(o=n,J(e),L===o)e.clear()},update:(n)=>{r.set(n(o))},map:(n)=>k({signals:[r],ok:n}),tap:(n)=>tt({signals:[r],...O(n)?{ok:n}:n})};return r},st=(t)=>mt(t,wt),L=Symbol(),lt=(t)=>st(t)||St(t),kt=(t)=>O(t)&&t.length<2,Mt=(t)=>lt(t)?t:kt(t)?k(t):w(t),Tt=(t)=>{let{signals:e,abort:o,ok:r,err:n,nil:a}=t,c=[],i=!1,l=e.map((s)=>{try{let d=s.get();if(d===L)i=!0;return d}catch(d){if(nt(d))throw d;c.push(K(d))}});try{return i?a(o):c.length?n(...c):r(...l)}catch(s){if(nt(s))throw s;let d=K(s);return n(d)}},C=(t)=>typeof t==="function",Lt=(t)=>!!t&&typeof t==="object",X=(t)=>typeof t==="string",H=!1,Nt="debug";var jt="warn",z="error",Rt=(t)=>t?`#${t}`:"",qt=(t)=>t.length?`.${Array.from(t).join(".")}`:"",S=(t)=>`<${t.localName}${Rt(t.id)}${qt(t.classList)}>`,Q=(t)=>X(t)?`"${t}"`:Lt(t)?JSON.stringify(t):String(t),ot=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},$=(t,e,o=Nt)=>{if(H||[z,jt].includes(o))console[o](e,t);return t},Dt=(t)=>t.nodeType===Node.ELEMENT_NODE,Ft=(t)=>t instanceof HTMLElement&&t.localName.includes("-"),dt=(t,e,o)=>{let r=t.filter(C).map((n)=>n(e,o));return()=>{r.filter(C).forEach((n)=>n()),r.length=0}},u=(t,...e)=>(o)=>{let r=(o.shadowRoot||o).querySelector(t);if(r)dt(e,o,r)},y=(t,...e)=>(o)=>{let r=new Map,n=o.shadowRoot||o,a=(s)=>{if(!r.has(s))r.set(s,dt(e,o,s))},c=(s)=>{let d=r.get(s);if(C(d))d();r.delete(s)},i=(s)=>(d)=>{if(Dt(d)){if(d.matches(t))s(d);d.querySelectorAll(t).forEach(s)}},l=new MutationObserver((s)=>{for(let d of s)d.addedNodes.forEach(i(a)),d.removedNodes.forEach(i(c))});return l.observe(n,{childList:!0,subtree:!0}),n.querySelectorAll(t).forEach(a),()=>{l.disconnect(),r.forEach((s)=>s()),r.clear()}},p=(t,e)=>(o,r=o)=>{if(!C(e))throw new TypeError(`Invalid event listener provided for "${t} event on element ${S(r)}`);return r.addEventListener(t,e),()=>r.removeEventListener(t,e)},et=(t,e)=>(o,r=o)=>{r.dispatchEvent(new CustomEvent(t,{detail:C(e)?e(r):e,bubbles:!0}))},vt=(t)=>(e,o)=>{let r=o.localName;if(!Ft(o))throw new TypeError("Target element must be a custom element");let n=C(t)?t(o):t;if(!Lt(n))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(r).then(()=>{for(let[a,c]of Object.entries(n)){let i=X(c)?e.getSignal(a):Mt(c);o.setSignal(a,i)}}).catch((a)=>{throw new Error(`Failed to pass signals to ${S(o)}}`,{cause:a})})},v=Symbol(),_t=new Set(Object.getOwnPropertyNames(HTMLElement.prototype)),Gt=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"]),rt=(t)=>C(t)&&t.length>=2,Yt=(t)=>!(_t.has(t)||Gt.has(t)),m=(t,e={},o)=>{class r extends HTMLElement{debug;#t={};#e;static observedAttributes=Object.entries(e)?.filter(([,n])=>rt(n)).map(([n])=>n)??[];constructor(){super();for(let[n,a]of Object.entries(e)){if(a==null)continue;let c=rt(a)?a(this,null):C(a)?a(this):a;if(c!=null)this.setSignal(n,Mt(c))}}connectedCallback(){if(H){if(this.debug=this.hasAttribute("debug"),this.debug)$(this,"Connected")}let n=o(this);if(!Array.isArray(n))throw new TypeError(`Expected array of functions as return value of setup function in ${S(this)}`);this.#e=dt(n,this,this)}disconnectedCallback(){if(C(this.#e))this.#e();if(H&&this.debug)$(this,"Disconnected")}attributeChangedCallback(n,a,c){if(c===a||St(this.#t[n]))return;let i=e[n];if(!rt(i))return;let l=i(this,c,a);if(H&&this.debug)$(c,`Attribute "${n}" of ${S(this)} changed from ${Q(a)} to ${Q(c)}, parsed as <${ot(l)}> ${Q(l)}`);this[n]=l}getSignal(n){let a=this.#t[n];if(H&&this.debug)$(a,`Get ${ot(a)} "${String(n)}" in ${S(this)}`);return a}setSignal(n,a){if(!Yt(String(n)))throw new TypeError(`Invalid property name "${String(n)}". Property names must be valid JavaScript identifiers and not conflict with inherited HTMLElement properties.`);if(!lt(a))throw new TypeError(`Expected signal as value for property "${String(n)}" on ${S(this)}.`);let c=this.#t[n],i=st(a);if(this.#t[n]=a,Object.defineProperty(this,n,{get:a.get,set:i?a.set:void 0,enumerable:!0,configurable:i}),c&&st(c))c.set(L);if(H&&this.debug)$(a,`Set ${ot(a)} "${String(n)} in ${S(this)}`)}}return customElements.define(t,r),r},pt="context-request";var At=(t)=>(e)=>{let o=(r)=>{let{context:n,callback:a}=r;if(t.includes(n)&&C(a))r.stopPropagation(),a(e.getSignal(String(n)))};return e.addEventListener(pt,o),()=>e.removeEventListener(pt,o)};var Ut=(t,e)=>{if(e==null)return;let o=t(e);return Number.isFinite(o)?o:void 0},F=(t,e)=>e!=="false"&&e!=null,P=(t=0)=>(e,o)=>Ut(parseInt,o)??t;var N=(t="")=>(e,o)=>o??t;var xt=(t,e,o)=>X(t)?e.getSignal(t).get():lt(t)?t.get():C(t)?t(o):v,Qt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let e=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(e.protocol)}catch(e){return!1}return!0},Xt=(t,e,o)=>{if(/^on/i.test(e))throw new Error(`Unsafe attribute: ${e}`);if(o=String(o).trim(),!Qt(o))throw new Error(`Unsafe URL for ${e}: ${o}`);t.setAttribute(e,o)},_=(t,e)=>(o,r)=>{let{op:n,read:a,update:c}=e,i=a(r),l={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"},s="";if(X(t)&&X(i)&&o[t]===v)o.attributeChangedCallback(t,null,i);let d=(b)=>()=>{if(H&&o.debug)$(r,`${b} ${l[n]+s} of ${S(r)} in ${S(o)}`);e.resolve?.(r)},f=(b)=>(M)=>{$(M,`Failed to ${b} ${l[n]+s} of ${S(r)} in ${S(o)}`,z),e.reject?.(M)};return tt(()=>{let b=v;try{b=xt(t,o,r)}catch(M){$(M,`Failed to resolve value of ${Q(t)} for ${l[n]+s} of ${S(r)} in ${S(o)}`,z);return}if(b===v)b=i;else if(b===L)b=e.delete?null:i;if(e.delete&&b===null)D(()=>{return s=e.delete(r),!0},[r,n]).then(d("Deleted")).catch(f("delete"));else if(b!=null){let M=a(r);if(Object.is(b,M))return;D(()=>{return s=c(r,b),!0},[r,n]).then(d("Updated")).catch(f("update"))}})},j=(t,e)=>(o,r)=>{let{position:n="beforeend",create:a}=e,c=(l)=>()=>{if(H&&o.debug)$(r,`${l} element in ${S(r)} in ${S(o)}`);e.resolve?.(r)},i=(l)=>(s)=>{$(s,`Failed to ${l} element in ${S(r)} in ${S(o)}`,z),e.reject?.(s)};return tt(()=>{let l=0;try{l=xt(t,o,r)}catch(s){$(s,`Failed to resolve value of ${Q(t)} for insertion or deletion in ${S(r)} in ${S(o)}`,z);return}if(l===v)l=0;if(l>0)D(()=>{for(let s=0;s<l;s++){let d=a(r);if(!d)continue;r.insertAdjacentElement(n,d)}return!0},[r,"i"]).then(c("Inserted")).catch(i("insert"));else if(l<0){let s={beforebegin:"previousElementSibling",afterbegin:"firstElementChild",beforeend:"lastElementChild",afterend:"nextElementSibling"};D(()=>{for(let d=0;d>l;d--)r[s[n]]?.remove();return!0},[r,"r"]).then(c("Removed")).catch(i("remove"))}})},E=(t)=>_(t,{op:"t",read:(e)=>e.textContent,update:(e,o)=>{return Array.from(e.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),e.append(document.createTextNode(o)),""}}),g=(t,e=t)=>_(e,{op:"p",read:(o)=>(t in o)?o[t]:L,update:(o,r)=>{return o[t]=r,String(t)}}),R=(t,e=t)=>_(e,{op:"a",read:(o)=>o.getAttribute(t),update:(o,r)=>{return Xt(o,t,r),t},delete:(o)=>{return o.removeAttribute(t),t}}),G=(t,e=t)=>_(e,{op:"a",read:(o)=>o.hasAttribute(t),update:(o,r)=>{return o.toggleAttribute(t,r),t}}),B=(t,e=t)=>_(e,{op:"c",read:(o)=>o.classList.contains(t),update:(o,r)=>{return o.classList.toggle(t,r),t}});var $t=(t,e,o)=>_(t,{op:"h",read:(r)=>(r.shadowRoot||!e?r:null)?.innerHTML??"",update:(r,n)=>{if(!n){if(r.shadowRoot)r.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!r.shadowRoot)r.attachShadow({mode:e});let a=r.shadowRoot||r;if(a.innerHTML=n,!o)return"";return a.querySelectorAll("script").forEach((c)=>{let i=document.createElement("script");i.appendChild(document.createTextNode(c.textContent??"")),a.appendChild(i),c.remove()})," with scripts"}});var le=m("hello-world",{name:v},(t)=>[u("span",E("name")),u("input",p("input",(e)=>{t.name=e.target?.value||v}))]);var pe=m("my-counter",{count:P()},(t)=>[u(".count",E("count")),u(".parity",E(()=>t.count%2?"odd":"even")),u(".increment",p("click",()=>{t.count++})),u(".decrement",p("click",()=>{t.count--}))]);var fe=m("my-slider",{},(t)=>{let e=w(0),o=t.querySelectorAll(".slide").length,r=(n)=>String(e.get())===n.dataset.index;return[u(".prev",p("click",()=>{e.update((n)=>(n-1+o)%o)})),u(".next",p("click",()=>{e.update((n)=>(n+1+o)%o)})),y(".slide",B("active",r)),y(".dots span",B("active",r))]});var Ee=m("input-button",{disabled:F,label:N(v),badge:N(v)},()=>[u("button",g("disabled")),u(".label",E("label")),u(".badge",E("badge"))]);var we=m("input-checkbox",{checked:F,label:N(v)},(t)=>[G("checked"),u("input",g("checked"),p("change",(e)=>{t.checked=e.target?.checked})),u(".label",E("label"))]);var Le=m("input-radiogroup",{value:N()},(t)=>[R("value"),y("input",p("change",(e)=>{t.value=e.target?.value})),y("label",B("selected",(e)=>t.value===e.querySelector("input")?.value))]);var ut=(t)=>typeof t==="number",W=(t,e=!1,o=0)=>{if(!t)return o;let r=e?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:o},zt=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},Bt=(t,e)=>{let o=t.querySelector("input");return o&&o.type==="number"?W(e,t.hasAttribute("integer"),0):e??""},xe=m("input-field",{value:Bt,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let e=t.querySelector("input");if(e)e.value="",e.checkValidity(),e.focus()}}},(t)=>{let e=[],o=t.querySelector("input");if(!o)throw new Error("No input element found");let r=o.type==="number",n=t.hasAttribute("integer"),a=t.getAttribute("validate"),c=(s)=>{let d=typeof s==="function"?s(t.value):r&&!ut(s)?W(s,n,0):s;if(Object.is(t.value,d))return;if(d!==null&&a)fetch(`${a}?name=${o.name}value=${d}`).then(async(f)=>{let b=await f.text();o.setCustomValidity(b),t.error=b}).catch((f)=>{t.error=f.message});if(o.checkValidity(),t.value=d,t.error=o.validationMessage??"",o?.value!==String(s))et("value-change",s)(t)};if(e.push(u("input",g("value",()=>String(t.value)),p("change",()=>{c(r?o.valueAsNumber??0:o.value??"")}),p("input",()=>{t.length=o.value.length??0}))),r){let s=t.querySelector(".spinbutton"),d=W(s?.dataset.step||o.step,n,1),f=W(o.min,n,0),b=W(o.max,n,100),M=(T)=>{if(!Number.isFinite(T)||T<f)return f;if(T>b)return b;let x=f+Math.round((T-f)/d)*d;return n?Math.round(x):parseFloat(x.toFixed(zt(d)))};if(e.push(u("input",p("keydown",(T)=>{let{key:x,shiftKey:A}=T;if(["ArrowUp","ArrowDown"].includes(x)){T.stopPropagation(),T.preventDefault();let Y=A?d*10:d,q=M(o.valueAsNumber+(x==="ArrowUp"?Y:-Y));o.value=String(q),c(q)}}))),s)e.push(u(".decrement",p("click",(T)=>{let x=T.shiftKey?d*10:d,A=M(o.valueAsNumber-x);o.value=String(A),c(A)}),g("disabled",()=>(ut(f)?t.value:0)-d<f)),u(".increment",p("click",(T)=>{let x=T.shiftKey?d*10:d,A=M(o.valueAsNumber+x);o.value=String(A),c(A)}),g("disabled",()=>(ut(b)?t.value:0)+d>b)))}else e.push(u(".clear",p("click",()=>{t.clear(),c("")}),g("hidden",()=>!t.length)));let i=t.querySelector(".error")?.id;e.push(u(".error",E("error")),u("input",g("ariaInvalid",()=>t.error?"true":"false"),R("aria-errormessage",()=>t.error&&i?i:L)));let l=t.querySelector(".description");if(l){let s=o.maxLength,d=s&&l.dataset.remaining;if(d)t.setSignal("description",k(()=>d.replace("${x}",String(s-t.length))));e.push(u(".description",E("description")),u("input",R("aria-describedby",()=>t.description&&l.id?l.id:L)))}return e});var Pe=m("code-block",{collapsed:F},(t)=>{let e=t.querySelector("code");return[G("collapsed"),u(".overlay",p("click",()=>{t.collapsed=!1})),u(".copy",p("click",async(o)=>{let r=o.currentTarget,n=r.textContent?.trim()??"",a="success";try{await navigator.clipboard.writeText(e?.textContent?.trim()??"")}catch(c){console.error("Error when trying to use navigator.clipboard.writeText()",c),a="error"}r.disabled=!0,r.label=t.getAttribute(`copy-${a}`)??n,setTimeout(()=>{r.disabled=!1,r.label=n},a==="success"?1000:3000)}))]});var Wt=(t,e)=>(o)=>{if(!(o instanceof KeyboardEvent))throw new TypeError("Event is not a KeyboardEvent");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)){switch(o.preventDefault(),o.key){case"ArrowLeft":case"ArrowUp":e=e<1?t.length-1:e-1;break;case"ArrowRight":case"ArrowDown":e=e>=t.length-1?0:e+1;break;case"Home":e=0;break;case"End":e=t.length-1;break}if(t[e])t[e].focus()}},Oe=m("tab-group",{selected:""},(t)=>{t.selected=t.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls")??"";let e=(n)=>t.selected===n.getAttribute("aria-controls"),o=Array.from(t.querySelectorAll('[role="tab"]')),r=0;return[u('[role="tablist"]',p("keydown",Wt(o,r))),y('[role="tab"]',p("click",(n)=>{t.selected=n.currentTarget.getAttribute("aria-controls")??"",r=o.findIndex((a)=>e(a))}),g("ariaSelected",(n)=>String(e(n))),g("tabIndex",(n)=>e(n)?0:-1)),y('[role="tabpanel"]',g("hidden",(n)=>t.selected!==n.id))]});var Vt=(t,e)=>{let o="",r="";if(!e)r="No URL provided in src attribute";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${e}"]`))r="Recursive loading detected";else{let n=new URL(e,location.href);if(n.origin===location.origin)o=String(n);else r="Invalid URL origin"}return t.error=r,o},Zt=(t)=>async(e)=>{let o=t.src;if(!o)return"";try{let r=await fetch(o,{signal:e});if(t.querySelector(".loading")?.remove(),r.ok)return r.text();else t.error=r.statusText}catch(r){t.error=r.message}return""},je=m("lazy-load",{error:"",src:Vt,content:Zt},(t)=>[$t("content"),u(".error",E("error"),g("hidden",()=>!t.error))]);var Jt="media-motion",Kt="media-theme",te="media-viewport",ee="media-orientation",oe=()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),e=w(t.matches);return t.addEventListener("change",(o)=>{e.set(o.matches)}),e},re=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),e=w(t.matches?"dark":"light");return t.addEventListener("change",(o)=>{e.set(o.matches?"dark":"light")}),e},ne=(t)=>{let e=(l,s)=>{let f=t.getAttribute(l)?.trim();if(!f)return s;let b=f.match(/em$/)?"em":"px",M=parseFloat(f);return Number.isFinite(M)?M+b:s},o=matchMedia(`(min-width: ${e("sm","32em")})`),r=matchMedia(`(min-width: ${e("md","48em")})`),n=matchMedia(`(min-width: ${e("lg","72em")})`),a=matchMedia(`(min-width: ${e("xl","104em")})`),c=()=>a.matches?"xl":n.matches?"lg":r.matches?"md":o.matches?"sm":"xs",i=w(c());return o.addEventListener("change",()=>{i.set(c())}),r.addEventListener("change",()=>{i.set(c())}),n.addEventListener("change",()=>{i.set(c())}),a.addEventListener("change",()=>{i.set(c())}),i},ae=()=>{let t=matchMedia("(orientation: landscape)"),e=w(t.matches?"landscape":"portrait");return t.addEventListener("change",(o)=>{e.set(o.matches?"landscape":"portrait")}),e},De=m("media-context",{"media-motion":oe,"media-theme":re,"media-viewport":ne,"media-orientation":ae},()=>[At([Jt,Kt,te,ee])]);var Ge=m("todo-app",{},(t)=>{let e=t.querySelector("input-field");if(!e)throw new Error("No input field found");let o=t.querySelector("template");if(!o)throw new Error("No template found");let r=Array.from(t.querySelectorAll("input-checkbox")),n=w(r.length),a=w(r.filter((d)=>d.checked).length),c=k(()=>n.get()-a.get()),i=w(!1),l=()=>{a.set(r.filter((d)=>d.checked).length)},s=()=>{r=Array.from(t.querySelectorAll("input-checkbox")),bt(()=>{n.set(r.length),l()})};return[u(".submit",g("disabled",()=>!e.length)),u("form",p("submit",(d)=>{d.preventDefault(),queueMicrotask(()=>{if(e.value.toString().trim())i.set(!0);D(()=>{s(),e.clear()},[e,"p:value"])})})),u("ol",R("filter",()=>t.querySelector("input-radiogroup")?.value??"all"),j(()=>i.get()?1:0,{create:()=>{let d=document.importNode(o.content,!0).firstElementChild;return d?.querySelector("slot")?.replaceWith(String(e.value)),d},resolve:()=>{s(),i.set(!1)}}),p("click",(d)=>{let f=d.target;if(f.localName==="button")f.closest("li")?.remove(),s()}),p("change",()=>{l()})),u(".count",E(()=>String(c.get()))),u(".singular",g("hidden",()=>c.get()>1)),u(".plural",g("hidden",()=>c.get()===1)),u(".remaining",g("hidden",()=>!c.get())),u(".all-done",g("hidden",()=>!!c.get())),u(".clear-completed",g("disabled",()=>!a.get()),g("badge",()=>a.get()>0?String(a.get()):""),p("click",()=>{r.filter((d)=>d.checked).forEach((d)=>d.parentElement?.remove()),s()}))]});var ie=(t)=>()=>Array.from(t.querySelectorAll("spin-button")).reduce((e,o)=>e+o.value,0),Qe=m("product-catalog",{total:ie},(t)=>[u("input-button",vt({badge:()=>t.total>0?String(t.total):""}))]);var Be=m("spin-button",{value:P()},(t)=>{let e=t.getAttribute("zero-label")||"Add to Cart",o=t.getAttribute("increment-label")||"Increment",r=P(9)(t,t.getAttribute("max")),n=()=>t.value===0;return[u(".value",E("value"),g("hidden",n)),u(".decrement",g("hidden",n),p("click",()=>{t.value--})),y("button",p("keydown",(a)=>{let{key:c}=a;if(["ArrowUp","ArrowDown","-","+"].includes(c)){if(a.stopPropagation(),a.preventDefault(),c==="ArrowDown"||c==="-")t.value--;if(c==="ArrowUp"||c==="+")t.value++}})),u(".increment",E(()=>n()?e:"+"),g("ariaLabel",()=>n()?e:o),G("disabled",()=>t.value>=r),p("click",()=>{t.value++}))]});var Ze=m("rating-stars",{value:P()},(t)=>{let e=(o)=>parseInt(o.dataset.key||"0");return[y("input",g("checked",(o)=>t.value===e(o)),p("change",(o)=>{o.stopPropagation();let r=parseInt(o.currentTarget?.value)+1;t.value=r,et("change-rating",r)(t)})),y(".label",E((o)=>e(o)<=t.value?"\u2605":"\u2606"))]});var to=m("rating-feedback",{},(t)=>{let e=w(0),o=w(!0),r=w(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let a=(c)=>e.get()!==parseInt(c.dataset.key||"0");return[p("change-rating",(c)=>{e.set(c.detail)}),p("submit",(c)=>{c.preventDefault(),r.set(!0),console.log("Feedback submitted")}),u(".hide",p("click",()=>{let c=t.querySelector(".feedback");if(c)c.hidden=!0})),u("textarea",p("input",(c)=>{o.set(c.target?.value.trim()==="")})),u(".feedback",g("hidden",()=>r.get()||!e.get())),y(".feedback p",g("hidden",a)),u("input-button",g("disabled",o))]});var no=m("calc-table",{columns:P(),rows:P()},(t)=>{let o=t.querySelector(".calc-table-row"),r=t.querySelector(".calc-table-colhead"),n=t.querySelector(".calc-table-cell");if(!o||!r||!n)throw new Error("Missing template elements");let a=new Map;for(let i=0;i<t.columns;i++)a.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[i],w(Array.from({length:t.rows}).map(()=>0)));let c=(i)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${i}"]`)).map((l)=>Number.isFinite(l.valueAsNumber)?l.valueAsNumber:0)};return[u("tbody",j((i)=>t.rows-i.querySelectorAll("tr").length,{create:(i)=>{let l=document.importNode(o.content,!0).firstElementChild;if(!(l instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${l}`);let s=String(i.querySelectorAll("tr").length+1);return l.dataset.key=s,l.querySelector("slot")?.replaceWith(document.createTextNode(s)),l},resolve:()=>{for(let[i,l]of a)l.set(c(i))}})),u("thead tr",j((i)=>t.columns-(i.querySelectorAll("th").length-1),{create:(i)=>{let l=document.importNode(r.content,!0).firstElementChild;if(!(l instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${l}`);let s="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[i.querySelectorAll("th").length-1];return a.set(s,w(Array.from({length:t.rows}).map(()=>0))),l.querySelector("slot")?.replaceWith(document.createTextNode(s)),l}})),y("tbody tr",j((i)=>t.columns-i.querySelectorAll("td").length,{create:(i)=>{let l=document.importNode(n.content,!0).firstElementChild;if(!(l instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${l}`);let s=i.dataset.key,d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[i.querySelectorAll("td").length],f=l.querySelector("input");if(!f)throw new Error("No input found in cell template");return f.dataset.key=d,l.querySelector("slot")?.replaceWith(document.createTextNode(`${d}${s}`)),l}})),u("tfoot tr",j((i)=>t.columns-i.querySelectorAll("td").length,{create:(i)=>{let l=document.createElement("td"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[i.querySelectorAll("td").length];return l.dataset.key=s,l}})),y("tbody input",p("change",(i)=>{let l=i.target?.dataset.key;a.get(l)?.set(c(l))})),y("tfoot td",E((i)=>String(a.get(i.dataset.key)?.get().reduce((l,s)=>l+s,0)??0)))]});
