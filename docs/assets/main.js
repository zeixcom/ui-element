var ss=(t)=>typeof t==="function",rs=(t)=>ss(t)&&/^async\s+/.test(t.toString()),is=(t)=>ss(t)&&t.length<2,fs=(t)=>(s)=>s instanceof t,qt=fs(Error),hs=fs(Promise);var os="Computed",W=(t,s)=>{s=s??rs(t);let r=[],i,f=null,h=!0,o=()=>{if(h=!0,s)bt(r)},c={[Symbol.toStringTag]:os,get:()=>{if(s)dt(r);if(!s||h)wt(()=>{let n=(d)=>{i=d,h=!1,f=null},q=(d)=>{f=qt(d)?d:new Error(`Computed function failed: ${d}`)};try{let d=t(i);hs(d)?d.then(n).catch(q):n(d)}catch(d){q(d)}},o);if(qt(f))throw f;return i},map:(n)=>W(()=>n(c.get()))};return c},nt=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===os;var V,yr=!1,Jr=[],O=(t)=>P(t)||nt(t),R=(t,s=!1)=>O(t)?t:is(t)?W(t,s):gt(t),dt=(t)=>{if(V&&!t.includes(V))t.push(V)},bt=(t)=>t.forEach((s)=>yr?Jr.push(s):s()),wt=(t,s)=>{let r=V;V=s,t(),V=r};var y=Symbol();class yt{t;watchers=[];constructor(t){this.value=t}get(){return dt(this.watchers),this.value}set(t){if(Object.is(this.value,t))return;if(this.value=t,bt(this.watchers),y===t)this.watchers=[]}update(t){this.set(t(this.value))}map(t){return W(()=>t(this.get()))}}var gt=(t)=>new yt(t),P=(t)=>t instanceof yt;var K=(t)=>{let s=()=>wt(()=>{try{t()}catch(r){console.error(r)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var Jt=new Map,v=[],Ct,cs=()=>{Ct=null,v.forEach((t)=>t()),v=[],Jt.clear()},jr=()=>{if(Ct)cancelAnimationFrame(Ct);Ct=requestAnimationFrame(cs)};queueMicrotask(cs);var U=(t,s)=>new Promise((r,i)=>{let f=()=>{try{r(t())}catch(h){i(h)}};if(s){let[h,o]=s;if(!Jt.has(h))Jt.set(h,new Map);let c=Jt.get(h);if(c.has(o)){let n=v.indexOf(t);if(n>-1)v.splice(n,1)}c.set(o,f)}v.push(f),jr()});var ns=(t)=>t.nodeType===Node.COMMENT_NODE,Fr=(t)=>!/^on/i.test(t),Yr=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let s=new URL(t,window.location.origin);return!["http:","https:","ftp:"].includes(s.protocol)}catch(s){return!0}return!0},ds=(t,s,r)=>{if(!Fr(s))throw new Error(`Unsafe attribute: ${s}`);if(r=String(r).trim(),!Yr(r))throw new Error(`Unsafe URL for ${s}: ${r}`);t.setAttribute(s,r)};var bs=(t)=>U(()=>{return t.remove(),null},[t,"r"]),ws=(t,s)=>U(()=>{return Array.from(t.childNodes).filter((r)=>!ns(r)).forEach((r)=>r.remove()),t.append(document.createTextNode(s)),t},[t,"t"]),gs=(t,s,r)=>U(()=>{return ds(t,s,r),t},[t,`a:${s}`]),ys=(t,s)=>U(()=>{return t.removeAttribute(s),t},[t,`a:${s}`]),Js=(t,s,r)=>U(()=>{return t.toggleAttribute(s,r),t},[t,`a:${s}`]),Cs=(t,s,r)=>U(()=>{return t.classList.toggle(s,r),t},[t,`c:${s}`]);var L=(t)=>typeof t==="function",js=(t)=>!!t&&typeof t==="object",z=(t)=>typeof t==="string";var F=!1,Fs="debug";var Ys="warn",x="error",Sr=(t)=>t?`#${t}`:"",Qr=(t)=>t.length?`.${Array.from(t).join(".")}`:"",B=(t)=>`<${t.localName}${Sr(t.id)}${Qr(t.classList)}>`,X=(t)=>z(t)?`"${t}"`:js(t)?JSON.stringify(t):String(t),J=(t,s,r=Fs)=>{if(F||[x,Ys].includes(r))console[r](s,t);return t};var Gr=(t)=>L(t)&&t.length===2,Ls=(t,s,r=0)=>Gr(t)?t(s,r):t;class D{t;s;constructor(t,s=[t]){this.host=t;this.targets=s}on(t,s){return this.targets.forEach((r,i)=>{let f=Ls(s,r,i);r.addEventListener(t,f),this.host.cleanup.push(()=>r.removeEventListener(t,f))}),this}emit(t,s){return this.targets.forEach((r)=>{r.dispatchEvent(new CustomEvent(t,{detail:s,bubbles:!0}))}),this}pass(t){return this.targets.forEach(async(s,r)=>{if(await b.registry.whenDefined(s.localName),s instanceof b)Object.entries(t).forEach(([i,f])=>{let h=Ls(f,s,r),o=z(h)?this.host.signals[h]:R(h,!0);if(o)s.set(i,o);else J(f,`Invalid source for state ${X(i)}`,x)});else J(s,"Target is not a UIElement",x)}),this}sync(...t){return this.targets.forEach((s,r)=>t.forEach((i)=>i(this.host,s,r))),this}}var Ss="context-request";class Qs extends Event{t;s;r;constructor(t,s,r=!1){super(Ss,{bubbles:!0,composed:!0});this.context=t;this.callback=s;this.subscribe=r}}var Wt=(t)=>{let s=t.constructor,r=s.consumedContexts||[];queueMicrotask(()=>{for(let f of r)t.dispatchEvent(new Qs(f,(h)=>t.set(String(f),h??y)))});let i=s.providedContexts||[];if(!i.length)return!1;return t.addEventListener(Ss,(f)=>{let{context:h,callback:o}=f;if(!i.includes(h)||!L(o))return;f.stopPropagation(),o(t.signals[String(h)])}),!0};var Gs=(t)=>L(t)&&!!t.length,Kt=(t)=>L(t)?Kt(t()):O(t)?Kt(t.get()):t,jt=(t,s,r,i)=>{let f=t.states[s];return Gs(f)?f(r,t,i):r};class b extends HTMLElement{static registry=customElements;static tagName;static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(this.registry.define(t,this),this.tagName=t,F)J(t,"Registered custom element")}catch(s){J(s,`Failed to register custom element ${t}`,x)}}states={};signals={};cleanup=[];self=new D(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,r){if(r===s)return;let i=jt(this,t,r,s);if(F&&this.debug)J(r,`Attribute "${t}" of ${B(this)} changed from ${X(s)} to ${X(r)}, parsed as <${typeof i}> ${X(i)}`);this.set(t,i??y)}connectedCallback(){if(F){if(this.debug=this.hasAttribute("debug"),this.debug)J(this,"Connected")}for(let[t,s]of Object.entries(this.states)){let r=Gs(s)?s(this.getAttribute(t),this):s;this.set(t,r??y)}Wt(this)}disconnectedCallback(){if(this.cleanup.forEach((t)=>t()),this.cleanup=[],F&&this.debug)J(this,"Disconnected")}adoptedCallback(){if(F&&this.debug)J(this,"Adopted")}has(t){return t in this.signals}get(t){let s=Kt(this.signals[t]);if(F&&this.debug)J(s,`Get current value of state <${typeof s}> ${X(t)} in ${B(this)}`);return s}set(t,s,r=!0){let i;if(!(t in this.signals)){if(F&&this.debug)i="Create";this.signals[t]=R(s,!0)}else if(r){let f=this.signals[t];if(O(s)){if(F&&this.debug)i="Replace";if(this.signals[t]=s,P(f))f.set(y)}else if(P(f)){if(F&&this.debug)i="Update";if(L(s))f.update(s);else f.set(s)}else{J(s,`Computed state ${X(t)} in ${B(this)} cannot be set`,x);return}}else return;if(F&&this.debug)J(s,`${i} state <${typeof s}> ${X(t)} in ${B(this)}`)}delete(t){if(F&&this.debug)J(t,`Delete state ${X(t)} from ${B(this)}`);return delete this.signals[t]}first(t){let s=this.root.querySelector(t);return new D(this,s?[s]:[])}all(t){return new D(this,Array.from(this.root.querySelectorAll(t)))}}var Zs=(t,s)=>{if(s==null)return;let r=t(s);return Number.isFinite(r)?r:void 0};var S=(t)=>t!=="false"&&t!=null,Ft=(t=0)=>(s)=>Zs(parseInt,s)??t,l=Ft(),Us=(t=0)=>(s)=>Zs(parseFloat,s)??t,Zr=Us(),xs=(t="")=>(s)=>s??t,Ur=xs();var Xs=(t)=>(s)=>{if(s==null)return t;let r;try{r=JSON.parse(s)}catch(i){J(i,"Failed to parse JSON",x)}return r??t},xr=Xs({});var N=(t,s)=>(r,i)=>{let{read:f,update:h}=s,o=f(i);if(z(t)&&!r.has(t)){let c=z(o)?jt(r,t,o):o;if(c!=null)r.set(t,c,!1)}K(()=>{let c=f(i),n=z(t)?r.get(t):L(t)?t(c):void 0;if(!Object.is(n,c))if(n===y||n==null){if(o)h(i,o);else if(s.delete)s.delete(i)}else h(i,n)})};var zt=(t)=>N(t,{read:(s)=>s!=null,update:(s,r)=>r?bs(s):Promise.resolve(null)}),w=(t)=>N(t,{read:(s)=>s.textContent,update:(s,r)=>ws(s,r)}),g=(t,s=t)=>N(s,{read:(r)=>(t in r)?r[t]:y,update:(r,i)=>r[t]=i}),p=(t,s=t)=>N(s,{read:(r)=>r.getAttribute(t),update:(r,i)=>gs(r,t,i),delete:(r)=>ys(r,t)}),j=(t,s=t)=>N(s,{read:(r)=>r.hasAttribute(t),update:(r,i)=>Js(r,t,i)}),e=(t,s=t)=>N(s,{read:(r)=>r.classList.contains(t),update:(r,i)=>Cs(r,t,i)});var Xr=(t)=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();function C(t,s,r){class i extends b{static get observedAttributes(){return Object.keys(s).map(Xr)}constructor(){super();this.states=s}connectedCallback(){super.connectedCallback();let f=r(this,this.signals);if(L(f))this.cleanup.push(f)}}return i.define(t),i}var Df=C("hello-world",{name:"World"},(t,{name:s})=>{t.first("span").sync(w(s)),t.first("input").on("input",(r)=>{t.set("name",r.target?.value)})});C("my-counter",{count:l},(t,{count:s})=>{t.first(".increment").on("click",()=>{s.update((r)=>++r)}),t.first(".decrement").on("click",()=>{s.update((r)=>--r)}),t.first(".count").sync(w(String(s))),t.first(".parity").sync(w(()=>s.get()%2?"odd":"even"))});var Ks=(t)=>typeof t==="function",qr=(t)=>Ks(t)&&/^async\s+/.test(t.toString()),Wr=(t)=>Ks(t)&&t.length<2,zs=(t)=>(s)=>s instanceof t,qs=zs(Error),Kr=zs(Promise),Hs="Computed",Nt=(t,s)=>{s=s??qr(t);let r=[],i,f=null,h=!0,o=()=>{if(h=!0,s)As(r)},c={[Symbol.toStringTag]:Hs,get:()=>{if(s)Ns(r);if(!s||h)$s(()=>{let n=(d)=>{i=d,h=!1,f=null},q=(d)=>{f=qs(d)?d:new Error(`Computed function failed: ${d}`)};try{let d=t(i);Kr(d)?d.then(n).catch(q):n(d)}catch(d){q(d)}},o);if(qs(f))throw f;return i},map:(n)=>Nt(()=>n(c.get()))};return c},zr=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===Hs,T,Hr=!1,Pr=[],At=(t)=>Ht(t)||zr(t),Ps=(t,s=!1)=>At(t)?t:Wr(t)?Nt(t,s):Nr(t),Ns=(t)=>{if(T&&!t.includes(T))t.push(T)},As=(t)=>t.forEach((s)=>Hr?Pr.push(s):s()),$s=(t,s)=>{let r=T;T=s,t(),T=r};var u=Symbol();class $t{$;watchers=[];constructor(t){this.value=t}get(){return Ns(this.watchers),this.value}set(t){if(Object.is(this.value,t))return;if(this.value=t,As(this.watchers),u===t)this.watchers=[]}update(t){this.set(t(this.value))}map(t){return Nt(()=>t(this.get()))}}var Nr=(t)=>new $t(t),Ht=(t)=>t instanceof $t,Ar=(t)=>{let s=()=>$s(()=>{try{t()}catch(r){console.error(r)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var Yt=new Map,st=[],Lt,Vs=()=>{Lt=null,st.forEach((t)=>t()),st=[],Yt.clear()},$r=()=>{if(Lt)cancelAnimationFrame(Lt);Lt=requestAnimationFrame(Vs)};queueMicrotask(Vs);var Vr=(t,s)=>new Promise((r,i)=>{let f=()=>{try{r(t())}catch(h){i(h)}};if(s){let[h,o]=s;if(!Yt.has(h))Yt.set(h,new Map);let c=Yt.get(h);if(c.has(o)){let n=st.indexOf(t);if(n>-1)st.splice(n,1)}c.set(o,f)}st.push(f),$r()});var Or=(t,s,r)=>Vr(()=>{return t.classList.toggle(s,r),t},[t,`c:${s}`]);var A=(t)=>typeof t==="function",Rr=(t)=>!!t&&typeof t==="object",rt=(t)=>typeof t==="string",Q=!1,Br="debug";var Dr="warn",I="error",pr=(t)=>t?`#${t}`:"",Tr=(t)=>t.length?`.${Array.from(t).join(".")}`:"",tt=(t)=>`<${t.localName}${pr(t.id)}${Tr(t.classList)}>`,H=(t)=>rt(t)?`"${t}"`:Rr(t)?JSON.stringify(t):String(t),Y=(t,s,r=Br)=>{if(Q||[I,Dr].includes(r))console[r](s,t);return t},ur=(t)=>A(t)&&t.length===2,Ws=(t,s,r=0)=>ur(t)?t(s,r):t;class St{$;B;constructor(t,s=[t]){this.host=t,this.targets=s}on(t,s){return this.targets.forEach((r,i)=>{let f=Ws(s,r,i);r.addEventListener(t,f),this.host.cleanup.push(()=>r.removeEventListener(t,f))}),this}emit(t,s){return this.targets.forEach((r)=>{r.dispatchEvent(new CustomEvent(t,{detail:s,bubbles:!0}))}),this}pass(t){return this.targets.forEach(async(s,r)=>{if(await Qt.registry.whenDefined(s.localName),s instanceof Qt)Object.entries(t).forEach(([i,f])=>{let h=Ws(f,s,r),o=rt(h)?this.host.signals[h]:Ps(h,!0);if(o)s.set(i,o);else Y(f,`Invalid source for state ${H(i)}`,I)});else Y(s,"Target is not a UIElement",I)}),this}sync(...t){return this.targets.forEach((s,r)=>t.forEach((i)=>i(this.host,s,r))),this}}var Os="context-request";class Rs extends Event{$;B;Z;constructor(t,s,r=!1){super(Os,{bubbles:!0,composed:!0});this.context=t,this.callback=s,this.subscribe=r}}var Ir=(t)=>{let s=t.constructor,r=s.consumedContexts||[];queueMicrotask(()=>{for(let f of r)t.dispatchEvent(new Rs(f,(h)=>t.set(String(f),h??u)))});let i=s.providedContexts||[];if(!i.length)return!1;return t.addEventListener(Os,(f)=>{let{context:h,callback:o}=f;if(!i.includes(h)||!A(o))return;f.stopPropagation(),o(t.signals[String(h)])}),!0},Bs=(t)=>A(t)&&!!t.length,Pt=(t)=>A(t)?Pt(t()):At(t)?Pt(t.get()):t,Ds=(t,s,r,i)=>{let f=t.states[s];return Bs(f)?f(r,t,i):r};class Qt extends HTMLElement{static registry=customElements;static tagName;static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(this.registry.define(t,this),this.tagName=t,Q)Y(t,"Registered custom element")}catch(s){Y(s,`Failed to register custom element ${t}`,I)}}states={};signals={};cleanup=[];self=new St(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,r){if(r===s)return;let i=Ds(this,t,r,s);if(Q&&this.debug)Y(r,`Attribute "${t}" of ${tt(this)} changed from ${H(s)} to ${H(r)}, parsed as <${typeof i}> ${H(i)}`);this.set(t,i??u)}connectedCallback(){if(Q){if(this.debug=this.hasAttribute("debug"),this.debug)Y(this,"Connected")}for(let[t,s]of Object.entries(this.states)){let r=Bs(s)?s(this.getAttribute(t),this):s;this.set(t,r??u)}Ir(this)}disconnectedCallback(){if(this.cleanup.forEach((t)=>t()),this.cleanup=[],Q&&this.debug)Y(this,"Disconnected")}adoptedCallback(){if(Q&&this.debug)Y(this,"Adopted")}has(t){return t in this.signals}get(t){let s=Pt(this.signals[t]);if(Q&&this.debug)Y(s,`Get current value of state <${typeof s}> ${H(t)} in ${tt(this)}`);return s}set(t,s,r=!0){let i;if(!(t in this.signals)){if(Q&&this.debug)i="Create";this.signals[t]=Ps(s,!0)}else if(r){let f=this.signals[t];if(At(s)){if(Q&&this.debug)i="Replace";if(this.signals[t]=s,Ht(f))f.set(u)}else if(Ht(f)){if(Q&&this.debug)i="Update";if(A(s))f.update(s);else f.set(s)}else{Y(s,`Computed state ${H(t)} in ${tt(this)} cannot be set`,I);return}}else return;if(Q&&this.debug)Y(s,`${i} state <${typeof s}> ${H(t)} in ${tt(this)}`)}delete(t){if(Q&&this.debug)Y(t,`Delete state ${H(t)} from ${tt(this)}`);return delete this.signals[t]}first(t){let s=this.root.querySelector(t);return new St(this,s?[s]:[])}all(t){return new St(this,Array.from(this.root.querySelectorAll(t)))}}var ps=(t,s)=>{if(s==null)return;let r=t(s);return Number.isFinite(r)?r:void 0};var Er=(t=0)=>(s)=>ps(parseInt,s)??t,uf=Er(),Mr=(t=0)=>(s)=>ps(parseFloat,s)??t,If=Mr(),_r=(t="")=>(s)=>s??t,Ef=_r();var kr=(t)=>(s)=>{if(s==null)return t;let r;try{r=JSON.parse(s)}catch(i){Y(i,"Failed to parse JSON",I)}return r??t},Mf=kr({}),mr=(t,s)=>(r,i)=>{let{read:f,update:h}=s,o=f(i);if(rt(t)&&!r.has(t)){let c=rt(o)?Ds(r,t,o):o;if(c!=null)r.set(t,c,!1)}Ar(()=>{let c=f(i),n=rt(t)?r.get(t):A(t)?t(c):void 0;if(!Object.is(n,c))if(n===u||n==null){if(o)h(i,o);else if(s.delete)s.delete(i)}else h(i,n)})};var Ts=(t,s=t)=>mr(s,{read:(r)=>r.classList.contains(t),update:(r,i)=>Or(r,t,i)});var ar=(t)=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();function us(t,s,r){class i extends Qt{static get observedAttributes(){return Object.keys(s).map(ar)}constructor(){super();this.states=s}connectedCallback(){super.connectedCallback();let f=r(this,this.signals);if(A(f))this.cleanup.push(f)}}return i.define(t),i}var af=us("my-slider",{active:0},(t,{active:s})=>{let r=t.querySelectorAll(".slide").length,i=(h)=>()=>{s.update((o)=>(o+h+r)%r)};t.first(".prev").on("click",i(-1)),t.first(".next").on("click",i(1));let f=(h,o,c)=>Ts("active",()=>s.get()===c)(h,o);t.all(".slide").sync(f),t.all(".dots span").sync(f)});var ef=C("input-button",{disabled:S},(t)=>{t.first("button").sync(w("label"),g("disabled"))});var rh=C("input-checkbox",{checked:S},(t)=>{t.first("input").on("change",(s)=>{t.set("checked",s.target?.checked)}).sync(g("checked")),t.self.sync(j("checked"))});class Is extends b{static observedAttributes=["value"];connectedCallback(){this.self.sync(p("value")),this.all("input").on("change",(t)=>{this.set("value",t.target?.value)}),this.all("label").sync((t,s)=>e("selected",()=>t.get("value")===s.querySelector("input")?.value)(t,s))}}Is.define("input-radiogroup");var Vt=(t)=>typeof t==="number",it=(t,s=!1,r=0)=>{let i=s?parseInt(t,10):parseFloat(t);return Number.isFinite(i)?i:r},Es=(t,s,r,i,f=!1)=>{let h=Math.round((r-s)/i),o=Math.round((t-s)*h/(r-s))/h;o=Math.min(Math.max(o,0),1);let c=o*(r-s)+s;return f?Math.round(c):c};class Ms extends b{static observedAttributes=["value","description"];states={value:(t,s)=>s.isNumber?it(t,s.isInteger,0):t??""};isNumber=!1;isInteger=!1;input=null;step=1;min;max;connectedCallback(){if(super.connectedCallback(),this.input=this.querySelector("input"),this.isNumber=(this.input&&this.input.type==="number")??!1,this.isInteger=this.hasAttribute("integer"),this.input&&this.isNumber)this.step=it(this.input.step,this.isInteger,1),this.min=it(this.input.min,this.isInteger,0),this.max=it(this.input.max,this.isInteger,0);if(this.set("value",this.isNumber?this.input?.valueAsNumber??0:this.input?.value??"",!1),this.set("length",this.input?.value.length??0),this.set("empty",()=>!this.get("length")),this.first("input").on("change",()=>{this.#t(this.isNumber?this.input?.valueAsNumber??0:this.input?.value??"")}).on("input",()=>{this.set("length",this.input?.value.length??0)}),this.isNumber)this.first("input").on("keydown",(r)=>{let i=r;if(["ArrowUp","ArrowDown"].includes(i.key)){if(r.stopPropagation(),r.preventDefault(),i.key==="ArrowDown")this.stepDown(i.shiftKey?this.step*10:this.step);if(i.key==="ArrowUp")this.stepUp(i.shiftKey?this.step*10:this.step)}});this.set("ariaInvalid",()=>String(Boolean(this.get("error")))),this.set("aria-errormessage",()=>this.get("error")?this.querySelector(".error")?.id:y),this.first(".error").sync(w("error")),this.first("input").sync(g("ariaInvalid"),p("aria-errormessage"));let t=this.querySelector(".description");if(t){let r=this.input?.maxLength,i=r&&t.dataset.remaining,f=t.textContent??"";this.set("description",i?()=>{let h=this.get("length");return h>0?i.replace("${x}",String(r-h)):f}:f),this.set("aria-describedby",()=>this.get("description")?t.id:y),this.first(".description").sync(w("description")),this.first("input").sync(p("aria-describedby"))}let s=this.querySelector(".spinbutton");if(!this.isNumber||!s)this.first(".decrement").on("click",(r)=>{this.stepDown(r.shiftKey?this.step*10:this.step)}).sync(g("disabled",()=>Vt(this.min)&&(this.get("value")??0-this.step<this.min))),this.first(".increment").on("click",(r)=>{this.stepUp(r.shiftKey?this.step*10:this.step)}).sync(g("disabled",()=>Vt(this.max)&&(this.get("value")??0+this.step>this.max)));this.first(".clear").on("click",()=>{this.clear(),this.input?.focus()}).sync(e("hidden","empty")),K(()=>{let r=this.get("value"),i=this.getAttribute("validate");if(r&&i)fetch(`${i}?name=${this.input?.name}value=${this.input?.value}`).then(async(f)=>{let h=await f.text();this.input?.setCustomValidity(h),this.set("error",h)}).catch((f)=>this.set("error",f.message));if(this.isNumber&&!Vt(r))return this.set("value",it(r,this.isInteger,0));if(this.input&&this.isNumber&&Number.isFinite(r))this.input.value=String(r)})}clear(){if(this.set("value",""),this.set("length",0),this.input)this.input.value="",this.input.focus()}stepUp(t=this.step){if(this.isNumber)this.#t((s)=>Es(s+t,this.min??0,this.max??100,this.step,this.isInteger))}stepDown(t=this.step){if(this.isNumber)this.#t((s)=>Es(s-t,this.min??0,this.max??100,this.step,this.isInteger))}#t=(t)=>{if(this.set("value",t),this.set("error",this.input?.validationMessage??""),typeof t==="function")t=this.get("value");if(this.input?.value!==String(t))this.self.emit("value-change",t)}}Ms.define("input-field");class _s extends b{static observedAttributes=["collapsed"];states={collapsed:S};connectedCallback(){let t=this.querySelector("code");if(t)this.first(".copy").on("click",async(s)=>{let r=s.currentTarget,i=r.textContent??"",f="success";try{await navigator.clipboard.writeText(t.textContent??"")}catch(h){console.error("Error when trying to use navigator.clipboard.writeText()",h),f="error"}r.set("disabled",!0),r.set("label",this.getAttribute(`copy-${f}`)??i),setTimeout(()=>{r.set("disabled",!1),r.set("label",i)},f==="success"?1000:3000)}),this.first(".overlay").on("click",()=>this.set("collapsed",!1)),this.self.sync(j("collapsed"))}}_s.define("code-block");var yh=C("accordion-panel",{open:S,collapsible:S},(t,{open:s,collapsible:r})=>{t.self.sync(j("open"),j("collapsible"),g("ariaHidden",()=>!s.get()&&!r.get())),t.first("details").sync(g("open"),g("ariaDisabled",()=>!r.get()))});class ks extends b{static observedAttributes=["accordion"];states={active:0,accordion:S,"media-viewport":y};static consumedContexts=["media-viewport"];connectedCallback(){super.connectedCallback(),queueMicrotask(()=>{if(this.get("media-viewport"))this.set("accordion",()=>["xs","sm"].includes(String(this.get("media-viewport"))))}),this.self.sync(j("accordion")),this.first("menu").sync(g("ariaHidden","accordion")),this.all("menu button").on("click",(t,s)=>()=>this.set("active",s)).sync((t,s,r)=>g("ariaPressed",()=>this.get("active")===r)(t,s)),this.all("accordion-panel").pass({open:(t,s)=>()=>this.get("active")===s,collapsible:"accordion"})}}ks.define("tab-list");class ms extends b{states={content:"",error:"",loaded:!1};connectedCallback(){super.connectedCallback();let t=this.getAttribute("src");if(t)this.loadContent(t).then(([s,r])=>{this.set("content",r),this.set("error",s),this.set("loaded",!0)});this.first(".loading").sync(zt("loaded")),this.first(".error").sync(w("error")),K(()=>{let s=this.get("content");if(s)U(()=>{this.root.innerHTML=s,this.root.querySelectorAll("script").forEach((r)=>{let i=document.createElement("script");i.appendChild(document.createTextNode(r.textContent??"")),this.root.appendChild(i),r.remove()})},[this.root,"h"])})}async loadContent(t){try{let s=await fetch(t);if(!s.ok)return[s.statusText,""];return["",await s.text()]}catch(s){return[s.message,""]}}}ms.define("lazy-load");var Gt=(t,s)=>{let r=t?.trim();if(!r)return s;let i=r.match(/em$/)?"em":"px",f=parseFloat(r);return Number.isFinite(f)?f+i:s},Ot="media-motion",Zt="media-theme",E="media-viewport",as="media-orientation";class vs extends b{static providedContexts=[Ot,Zt,E,as];connectedCallback(){super.connectedCallback();let t="light",s="dark",r="xs",i="sm",f="md",h="lg",o="xl",c="landscape",n="portrait",d=(()=>({sm:Gt(this.getAttribute(i),"32em"),md:Gt(this.getAttribute(f),"48em"),lg:Gt(this.getAttribute(h),"72em"),xl:Gt(this.getAttribute(o),"108em")}))(),kt=matchMedia("(prefers-reduced-motion: reduce)"),mt=matchMedia("(prefers-color-scheme: dark)"),at=matchMedia(`(min-width: ${d.sm})`),vt=matchMedia(`(min-width: ${d.md})`),lt=matchMedia(`(min-width: ${d.lg})`),et=matchMedia(`(min-width: ${d.xl})`),ts=matchMedia("(orientation: landscape)"),m=()=>{if(et.matches)return o;if(lt.matches)return h;if(vt.matches)return f;if(at.matches)return i;return r};this.set(Ot,kt.matches),this.set(Zt,mt.matches?s:t),this.set(E,m()),this.set(as,ts.matches?c:n),kt.addEventListener("change",(a)=>this.set(Ot,a.matches)),mt.addEventListener("change",(a)=>this.set(Zt,a.matches?s:t)),at.addEventListener("change",()=>this.set(E,m())),vt.addEventListener("change",()=>this.set(E,m())),lt.addEventListener("change",()=>this.set(E,m())),et.addEventListener("change",()=>this.set(E,m())),ts.addEventListener("change",(a)=>this.set(Zt,a.matches?c:n))}}vs.define("media-context");var Tt=(t)=>typeof t==="function",vr=(t)=>Tt(t)&&/^async\s+/.test(t.toString()),ut=(t)=>(s)=>s instanceof t,ls=ut(Error),lr=ut(Promise),tr="Computed",It=(t,s)=>{s=s??vr(t);let r=[],i,f=null,h=!0,o=()=>{if(h=!0,s)ir(r)},c={[Symbol.toStringTag]:tr,get:()=>{if(s)rr(r);if(!s||h)fr(()=>{let n=(d)=>{i=d,h=!1,f=null},q=(d)=>{f=ls(d)?d:new Error(`Computed function failed: ${d}`)};try{let d=t(i);lr(d)?d.then(n).catch(q):n(d)}catch(d){q(d)}},o);if(ls(f))throw f;return i},map:(n)=>It(()=>n(c.get()))};return c},er=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===tr,M,ti=!1,si=[],Rt=(t)=>Dt(t)||er(t),sr=(t,s=!1)=>Rt(t)?t:Tt(t)?It(t,s):ri(t),rr=(t)=>{if(M&&!t.includes(M))t.push(M)},ir=(t)=>t.forEach((s)=>ti?si.push(s):s()),fr=(t,s)=>{let r=M;M=s,t(),M=r};var Bt=Symbol();class Et{$;watchers=[];constructor(t){this.value=t}get(){return rr(this.watchers),this.value}set(t){if(Bt!==t){let s=Tt(t)?t(this.value):t;if(Object.is(this.value,s))return;this.value=s}if(ir(this.watchers),Bt===t)this.watchers=[]}map(t){return It(()=>t(this.get()))}}var ri=(t)=>new Et(t),Dt=ut(Et),ii=(t)=>{let s=()=>fr(()=>{try{t()}catch(r){console.error(r)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var Ut=new Map,ht=[],xt,hr=()=>{xt=null,ht.forEach((t)=>t()),ht=[],Ut.clear()},fi=()=>{if(xt)cancelAnimationFrame(xt);xt=requestAnimationFrame(hr)};queueMicrotask(hr);var Mt=(t,s)=>new Promise((r,i)=>{let f=()=>{try{r(t())}catch(h){i(h)}};if(s){let[h,o]=s;if(!Ut.has(h))Ut.set(h,new Map);let c=Ut.get(h);if(c.has(o)){let n=ht.indexOf(t);if(n>-1)ht.splice(n,1)}c.set(o,f)}ht.push(f),fi()});var hi=(t)=>t.nodeType===Node.COMMENT_NODE,oi=(t)=>!/^on/i.test(t),ci=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let s=new URL(t,window.location.origin);return!["http:","https:","ftp:"].includes(s.protocol)}catch(s){return!0}return!0},ni=(t,s,r)=>{if(!oi(s))throw new Error(`Unsafe attribute: ${s}`);if(r=String(r).trim(),!ci(r))throw new Error(`Unsafe URL for ${s}: ${r}`);t.setAttribute(s,r)};var di=(t,s)=>Mt(()=>{return Array.from(t.childNodes).filter((r)=>!hi(r)).forEach((r)=>r.remove()),t.append(document.createTextNode(s)),t},[t,"t"]),bi=(t,s,r)=>Mt(()=>{return ni(t,s,r),t},[t,`a:${s}`]),wi=(t,s)=>Mt(()=>{return t.removeAttribute(s),t},[t,`a:${s}`]);var _=(t)=>typeof t==="function",or=(t)=>!!t&&typeof t==="object",gi=(t)=>typeof t==="number",ot=(t)=>typeof t==="string",yi=(t)=>typeof t==="symbol",Ji=(t)=>ot(t)||yi(t)||gi(t),G=!1,Ci="debug";var ji="warn",ct="error",Fi=(t)=>t?`#${t}`:"",Yi=(t)=>t.length?`.${Array.from(t).join(".")}`:"",ft=(t)=>`<${t.localName}${Fi(t.id)}${Yi(t.classList)}>`,$=(t)=>ot(t)?`"${t}"`:or(t)?JSON.stringify(t):String(t),Z=(t,s,r=Ci)=>{if(G||[ct,ji].includes(r))console[r](s,t);return t},Li=(t)=>_(t)&&t.length===2,es=(t,s,r=0)=>Li(t)?t(s,r):t;class Xt{$;A;constructor(t,s=[t]){this.host=t,this.targets=s}on(t,s){return this.targets.forEach((r,i)=>{let f=es(s,r,i);r.addEventListener(t,f),this.host.listeners.push(()=>r.removeEventListener(t,f))}),this}emit(t,s){return this.targets.forEach((r)=>{r.dispatchEvent(new CustomEvent(t,{detail:s,bubbles:!0}))}),this}pass(t){return this.targets.forEach(async(s,r)=>{if(await k.registry.whenDefined(s.localName),s instanceof k)Object.entries(t).forEach(([i,f])=>{let h=es(f,s,r),o=Ji(h)?this.host.signals.get(h):sr(h,!0);if(o)s.set(i,o);else Z(f,`Invalid source for state ${$(i)}`,ct)});else Z(s,"Target is not a UIElement",ct)}),this}sync(...t){return this.targets.forEach((s,r)=>t.forEach((i)=>i(this.host,s,r))),this}}var pt=(t,s,r,i)=>{return(((f)=>_(f)&&!!f.length)(s)?s(r,t,i):r)??s};var cr="context-request";class nr extends Event{$;A;B;constructor(t,s,r=!1){super(cr,{bubbles:!0,composed:!0});this.context=t,this.callback=s,this.subscribe=r}}var Si=(t)=>{let s=t.constructor,r=s.consumedContexts||[];setTimeout(()=>{for(let f of r)t.dispatchEvent(new nr(f,(h)=>t.set(String(f),h)))});let i=s.providedContexts||[];if(!i.length)return!1;return t.addEventListener(cr,(f)=>{let{context:h,callback:o}=f;if(!i.includes(h)||!_(o))return;f.stopPropagation(),o(t.signals.get(String(h)))}),!0};class k extends HTMLElement{get ctor(){return this.constructor}static registry=customElements;static states={};static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(k.registry.define(t,this),G)Z(t,"Registered custom element")}catch(s){Z(s,`Failed to register custom element ${t}`,ct)}}signals=new Map;listeners=[];self=new Xt(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,r){if(r===s)return;if(G&&this.debug)Z(`${$(s)} => ${$(r)}`,`Attribute "${t}" of ${ft(this)} changed`);this.set(t,pt(this,this.ctor.states[t],r,s))}connectedCallback(){if(G){if(this.debug=this.hasAttribute("debug"),this.debug)Z(this,"Connected")}Object.entries(this.ctor.states).forEach(([t,s])=>{let r=_(s)?pt(this,this.ctor.states[t],this.getAttribute(t)??void 0):s;this.set(t,r,!1)}),Si(this)}disconnectedCallback(){if(this.listeners.forEach((t)=>t()),G&&this.debug)Z(this,"Disconnected")}adoptedCallback(){if(G&&this.debug)Z(this,"Adopted")}has(t){return this.signals.has(t)}get(t){let s=(i)=>!or(i)?i:_(i)?s(i()):Rt(i)?s(i.get()):i,r=s(this.signals.get(t));if(G&&this.debug)Z(r,`Get current value of state ${$(t)} in ${ft(this)}`);return r}set(t,s,r=!0){let i;if(!this.signals.has(t)){if(G&&this.debug)i="Create";this.signals.set(t,sr(s,!0))}else if(r){let f=this.signals.get(t);if(Rt(s)){if(G&&this.debug)i="Replace";if(this.signals.set(t,s),Dt(f))f.set(Bt)}else if(Dt(f)){if(G&&this.debug)i="Update";f.set(s)}else{Z(s,`Computed state ${$(t)} in ${ft(this)} cannot be set`,ct);return}}else return;if(G&&this.debug)Z(s,`${i} state ${$(t)} in ${ft(this)}`)}delete(t){if(G&&this.debug)Z(t,`Delete state ${$(t)} from ${ft(this)}`);return this.signals.delete(t)}first(t){let s=this.root.querySelector(t);return new Xt(this,s?[s]:[])}all(t){return new Xt(this,Array.from(this.root.querySelectorAll(t)))}}var _t=(t,s)=>(r,i)=>{let{read:f,update:h}=s,o=f(i);if(ot(t)){let c=ot(o)?pt(r,r.constructor.states[t],o):o;r.set(t,c,!1)}ii(()=>{let c=f(i),n=ot(t)?r.get(t):_(t)?t(c):void 0;if(!Object.is(n,c)){if(n===null&&s.delete)s.delete(i);else if(n==null&&o)h(i,o);else if(n!=null)h(i,n)}})};var dr=(t)=>_t(t,{read:(s)=>s.textContent,update:(s,r)=>di(s,r)}),br=(t,s=t)=>_t(s,{read:(r)=>(t in r)?r[t]:void 0,update:(r,i)=>r[t]=i}),wr=(t,s=t)=>_t(s,{read:(r)=>r.getAttribute(t),update:(r,i)=>bi(r,t,i),delete:(r)=>wi(r,t)});class gr extends k{connectedCallback(){let t=this.querySelector("input-field");this.#t(),this.set("total",()=>this.get("tasks").length),this.set("completed",()=>this.get("tasks").filter((r)=>r.get("checked")).length),this.set("active",()=>this.get("total")-this.get("completed")),this.set("filter",()=>this.querySelector("input-radiogroup")?.get("value")??"all"),this.first("form").on("submit",(r)=>{r.preventDefault(),queueMicrotask(()=>{let i=t?.get("value")?.trim();if(i){let f=this.querySelector("ol"),h=this.querySelector("template")?.content.cloneNode(!0),o=h.querySelector("span");if(f&&h&&o)o.textContent=i,f.appendChild(h);this.#t(),t?.clear()}})}),this.first(".submit").pass({disabled:()=>t?.get("empty")}),this.first("ol").on("click",(r)=>{let i=r.target;if(i.localName==="button")i.closest("li")?.remove(),this.#t()}).sync(wr("filter")),this.first(".count").sync(dr("active"));let s=(r)=>br("ariaHidden",()=>r(this.get("active")));this.first(".singular").sync(s((r)=>r>1)),this.first(".plural").sync(s((r)=>r===1)),this.first(".remaining").sync(s((r)=>!r)),this.first(".all-done").sync(s((r)=>!!r)),this.first(".clear-completed").on("click",()=>{this.get("tasks").filter((r)=>r.get("checked")).forEach((r)=>r.parentElement?.remove()),this.#t()}).pass({disabled:()=>!this.get("completed")})}#t(){this.set("tasks",Array.from(this.querySelectorAll("input-checkbox")))}}gr.define("todo-app");var Xh=C("product-catalog",{},(t)=>{t.first("badge-button").pass({badge:()=>{let s=t.all("spin-button").targets.reduce((r,i)=>r+i.get("count"),0);return typeof s==="number"&&s>0?String(s):""}})});var Kh=C("badge-button",{},(t)=>{t.first(".badge").sync(w("badge"))});var Ph=C("spin-button",{count:l},(t,{count:s})=>{let r=W(()=>s.get()===0),i=t.getAttribute("zero-label")||"Add to Cart",f=t.getAttribute("increment-label")||"Increment",h=Ft(9)(t.getAttribute("max"));t.first(".count").sync(w(String(s)),j("hidden",r)),t.first(".decrement").on("click",()=>{s.update((o)=>--o)}).sync(j("hidden",r)),t.first(".increment").on("click",()=>{s.update((o)=>++o)}).sync(w(()=>r.get()?i:"+"),g("ariaLabel",()=>r.get()?i:f),j("disabled",()=>s.get()>=h))});
