var w=(t)=>typeof t==="function",dt=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`,B=(t)=>t instanceof Error?t:Error(String(t));class et extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var M,I=new Set,xt=0,K=new Map,U,ut=()=>{U=void 0;let t=Array.from(K.values());K.clear();for(let e of t)e()},Ht=()=>{if(U)cancelAnimationFrame(U);U=requestAnimationFrame(ut)};queueMicrotask(ut);var lt=(t)=>{let e=new Set,o=t;return o.off=(r)=>{e.add(r)},o.cleanup=()=>{for(let r of e)r();e.clear()},o},ot=(t)=>{if(M&&!t.has(M)){let e=M;t.add(e),M.off(()=>{t.delete(e)})}},Y=(t)=>{for(let e of t)if(xt)I.add(e);else e()},Mt=()=>{while(I.size){let t=Array.from(I);I.clear();for(let e of t)e()}};var pt=(t,e)=>{let o=M;M=e;try{t()}finally{M=o}},_=(t,e)=>new Promise((o,r)=>{K.set(e||Symbol(),()=>{try{o(t())}catch(n){r(n)}}),Ht()}),bt="State",v=(t)=>{let e=new Set,o=t,r={[Symbol.toStringTag]:bt,get:()=>{return ot(e),o},set:(n)=>{if(Object.is(o,n))return;if(o=n,Y(e),T===o)e.clear()},update:(n)=>{r.set(n(o))}};return r},Z=(t)=>dt(t,bt),rt="Computed",nt=(t)=>{let e=new Set,o=T,r,n,a=!0,i=!1,s=!1,u=(h)=>{if(!Object.is(h,o))o=h,i=!0;r=void 0,a=!1},c=()=>{i=T!==o,o=T,r=void 0},d=(h)=>{let m=B(h);i=!r||m.name!==r.name||m.message!==r.message,o=T,r=m},l=(h)=>(m)=>{if(s=!1,n=void 0,h(m),i)Y(e)},g=lt(()=>{if(a=!0,n?.abort("Aborted because source signal changed"),e.size)Y(e);else g.cleanup()}),E=()=>pt(()=>{if(s)throw new et("computed");if(i=!1,w(t)&&t.constructor.name==="AsyncFunction"){if(n)return o;n=new AbortController,n.signal.addEventListener("abort",()=>{s=!1,n=void 0,E()},{once:!0})}let h;s=!0;try{h=n?t(n.signal):t()}catch(m){if(m instanceof DOMException&&m.name==="AbortError")c();else d(m);s=!1;return}if(h instanceof Promise)h.then(l(u),l(d));else if(h==null||T===h)c();else u(h);s=!1},g);return{[Symbol.toStringTag]:rt,get:()=>{if(ot(e),Mt(),a)E();if(r)throw r;return o}}},ft=(t)=>dt(t,rt),Pt=(t)=>w(t)&&t.length<2,T=Symbol(),X=(t)=>Z(t)||ft(t),gt=(t)=>X(t)?t:Pt(t)?nt(t):v(t);function ht(t){let{signals:e,ok:o,err:r=console.error,nil:n=()=>{}}=w(t)?{signals:[],ok:t}:t,a=!1,i=lt(()=>pt(()=>{if(a)throw new et("effect");a=!0;let s=[],u=!1,c=e.map((l)=>{try{let g=l.get();if(g===T)u=!0;return g}catch(g){return s.push(B(g)),T}}),d=void 0;try{d=u?n():s.length?r(...s):o(...c)}catch(l){d=r(B(l))}finally{if(w(d))i.off(d)}a=!1},i));return i(),()=>i.cleanup()}var H=!1;var q="error",kt=(t)=>t?`#${t}`:"",jt=(t)=>t.length?`.${Array.from(t).join(".")}`:"",mt=(t)=>!!t&&typeof t==="object",j=(t)=>typeof t==="string",Ot=(t)=>t.nodeType===Node.ELEMENT_NODE,S=(t)=>`<${t.localName}${kt(t.id)}${jt(t.classList)}>`,R=(t)=>j(t)?`"${t}"`:mt(t)?JSON.stringify(t):String(t),V=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},C=(t,e,o="debug")=>{if(["error","warn"].includes(o))console[o](e,t);return t};class yt extends Error{constructor(t){super(t);this.name="CircularMutationError"}}var Nt=(t)=>t instanceof HTMLElement&&t.localName.includes("-"),Rt=(t)=>{let e=new Set;if(t.includes("."))e.add("class");if(t.includes("#"))e.add("id");if(t.includes("[")){let o=t.split("[");for(let r=1;r<o.length;r++){let n=o[r];if(!n.includes("]"))continue;let a=n.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(a)e.add(a)}}return[...e]},Ft=(t,e)=>{if(t.length!==e.length)return!1;let o=new Set(t);for(let r of e)if(!o.has(r))return!1;return!0},Et=(t,e,o)=>{let r=new MutationObserver(o),n=Rt(e),a={childList:!0,subtree:!0};if(n.length)a.attributes=!0,a.attributeFilter=n;return r.observe(t,a),r},F=(t,e)=>{let o=new Set,r=()=>Array.from(t.querySelectorAll(e)),n=T,a,i=0,s=2,u=()=>{n=r(),a=Et(t,e,()=>{if(!o.size){a?.disconnect(),a=void 0;return}if(i++,i>s)throw a?.disconnect(),a=void 0,i=0,new yt("Circular mutation in element selection detected");try{let c=r();if(!Ft(n,c))n=c,Y(o)}finally{i--}})};return{[Symbol.toStringTag]:rt,get:()=>{if(ot(o),!o.size)n=r();else if(!a)u();return n}}},p=(t,e)=>(o,r=o)=>{if(!w(e))throw new TypeError(`Invalid event listener provided for "${t} event on element ${S(r)}`);return r.addEventListener(t,e),()=>r.removeEventListener(t,e)},D=(t,e)=>(o,r=o)=>{r.dispatchEvent(new CustomEvent(t,{detail:w(e)?e(r):e,bubbles:!0}))},St=(t)=>(e,o)=>{let r=o.localName;if(!Nt(o))throw new TypeError("Target element must be a custom element");let n=w(t)?t(o):t;if(!mt(n))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(r).then(()=>{for(let[a,i]of Object.entries(n)){let s=j(i)?e.getSignal(a):gt(i);o.setSignal(a,s)}}).catch((a)=>{throw new Error(`Failed to pass signals to ${S(o)}}`,{cause:a})})},A=Symbol(),Gt=new Set(Object.getOwnPropertyNames(HTMLElement.prototype)),zt=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"]),W=(t)=>w(t)&&t.length>=2,Jt=(t)=>!(Gt.has(t)||zt.has(t)),tt=(t,e,o=e)=>{let r=t.filter(w).map((n)=>n(e,o));return()=>{r.filter(w).forEach((n)=>n()),r.length=0}},It=()=>({first:(t,...e)=>(o)=>{let r=(o.shadowRoot||o).querySelector(t);if(r)tt(e,o,r)},all:(t,...e)=>(o)=>{let r=new Map,n=o.shadowRoot||o,a=(c)=>{if(!r.has(c))r.set(c,tt(e,o,c))},i=(c)=>{let d=r.get(c);if(w(d))d();r.delete(c)},s=(c)=>(d)=>{if(Ot(d)){if(d.matches(t))c(d);d.querySelectorAll(t).forEach(c)}},u=Et(n,t,(c)=>{for(let d of c)d.addedNodes.forEach(s(a)),d.removedNodes.forEach(s(i))});return n.querySelectorAll(t).forEach(a),()=>{u.disconnect(),r.forEach((c)=>c()),r.clear()}}}),f=(t,e={},o)=>{class r extends HTMLElement{debug;#t={};#e;static observedAttributes=Object.entries(e)?.filter(([,n])=>W(n)).map(([n])=>n)??[];constructor(){super();for(let[n,a]of Object.entries(e)){if(a==null)continue;let i=W(a)?a(this,null):w(a)?a(this):a;if(i!=null)this.setSignal(n,gt(i))}}connectedCallback(){if(H){if(this.debug=this.hasAttribute("debug"),this.debug)C(this,"Connected")}let n=o(this,It());if(!Array.isArray(n))throw new TypeError(`Expected array of functions as return value of setup function in ${S(this)}`);this.#e=tt(n,this)}disconnectedCallback(){if(w(this.#e))this.#e();if(H&&this.debug)C(this,"Disconnected")}attributeChangedCallback(n,a,i){if(i===a||ft(this.#t[n]))return;let s=e[n];if(!W(s))return;let u=s(this,i,a);if(H&&this.debug)C(i,`Attribute "${n}" of ${S(this)} changed from ${R(a)} to ${R(i)}, parsed as <${V(u)}> ${R(u)}`);this[n]=u}getSignal(n){let a=this.#t[n];if(H&&this.debug)C(a,`Get ${V(a)} "${String(n)}" in ${S(this)}`);return a}setSignal(n,a){if(!Jt(String(n)))throw new TypeError(`Invalid property name "${String(n)}". Property names must be valid JavaScript identifiers and not conflict with inherited HTMLElement properties.`);if(!X(a))throw new TypeError(`Expected signal as value for property "${String(n)}" on ${S(this)}.`);let i=this.#t[n],s=Z(a);if(this.#t[n]=a,Object.defineProperty(this,n,{get:a.get,set:s?a.set:void 0,enumerable:!0,configurable:s}),i&&Z(i))i.set(T);if(H&&this.debug)C(a,`Set ${V(a)} "${String(n)} in ${S(this)}`)}}return customElements.define(t,r),r},st="context-request";var wt=(t)=>(e)=>{let o=(r)=>{let{context:n,callback:a}=r;if(t.includes(n)&&w(a))r.stopPropagation(),a(e.getSignal(String(n)))};return e.addEventListener(st,o),()=>e.removeEventListener(st,o)};var Ut=(t,e)=>{if(e==null)return;let o=t(e);return Number.isFinite(o)?o:void 0},O=(t,e)=>e!=="false"&&e!=null,L=(t=0)=>(e,o)=>Ut(parseInt,o)??t;var P=(t="")=>(e,o)=>o??t;var Tt=(t,e,o)=>j(t)?e.getSignal(t).get():X(t)?t.get():w(t)?t(o):A,Yt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let e=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(e.protocol)}catch(e){return!1}return!0},_t=(t,e,o)=>{if(/^on/i.test(e))throw new Error(`Unsafe attribute: ${e}`);if(o=String(o).trim(),!Yt(o))throw new Error(`Unsafe URL for ${e}: ${o}`);t.setAttribute(e,o)},N=(t,e)=>(o,r)=>{let{op:n,name:a="",read:i,update:s}=e,u=i(r),c={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"};if(j(t)&&j(u)&&o[t]===A)o.attributeChangedCallback(t,null,u);let d=(g)=>()=>{if(H&&o.debug)C(r,`${g} ${c[n]+a} of ${S(r)} in ${S(o)}`);e.resolve?.(r)},l=(g)=>(E)=>{C(E,`Failed to ${g} ${c[n]+a} of ${S(r)} in ${S(o)}`,q),e.reject?.(E)};return ht(()=>{let g=Symbol(`${n}:${a}`),E=Symbol(`${n}-${a}`),h=A;try{h=Tt(t,o,r)}catch(m){C(m,`Failed to resolve value of ${R(t)} for ${c[n]+a} of ${S(r)} in ${S(o)}`,q);return}if(h===A)h=u;else if(h===T)h=e.delete?null:u;if(e.delete&&h===null)_(()=>{return e.delete(r),!0},E).then(d("Deleted")).catch(l("delete"));else if(h!=null){let m=i(r);if(Object.is(h,m))return;_(()=>{return s(r,h),!0},g).then(d("Updated")).catch(l("update"))}})},G=(t,e)=>(o,r)=>{let n=(i)=>()=>{if(H&&o.debug)C(r,`${i} element in ${S(r)} in ${S(o)}`);if(w(e?.resolve))e.resolve(r);else{let s=X(t)?t:j(t)?o.getSignal(t):void 0;if(Z(s))s.set(0)}},a=(i)=>(s)=>{C(s,`Failed to ${i} element in ${S(r)} in ${S(o)}`,q),e?.reject?.(s)};return ht(()=>{let i=Symbol("i"),s=Symbol("d"),u=0;try{u=Tt(t,o,r)}catch(c){C(c,`Failed to resolve value of ${R(t)} for insertion or deletion in ${S(r)} in ${S(o)}`,q);return}if(u===A)u=0;if(u>0){if(!e)throw new TypeError("No inserter provided");_(()=>{for(let c=0;c<u;c++){let d=e.create(r);if(!d)continue;r.insertAdjacentElement(e.position??"beforeend",d)}return!0},i).then(n("Inserted")).catch(a("insert"))}else if(u<0)_(()=>{if(e&&(e.position==="afterbegin"||e.position==="beforeend"))for(let c=0;c>u;c--)if(e.position==="afterbegin")r.firstElementChild?.remove();else r.lastElementChild?.remove();else r.remove();return!0},s).then(n("Removed")).catch(a("remove"))})},y=(t)=>N(t,{op:"t",read:(e)=>e.textContent,update:(e,o)=>{Array.from(e.childNodes).filter((r)=>r.nodeType!==Node.COMMENT_NODE).forEach((r)=>r.remove()),e.append(document.createTextNode(o))}}),b=(t,e=t)=>N(e,{op:"p",name:String(t),read:(o)=>(t in o)?o[t]:T,update:(o,r)=>{o[t]=r}}),k=(t,e=t)=>N(e,{op:"a",name:t,read:(o)=>o.getAttribute(t),update:(o,r)=>{_t(o,t,r)},delete:(o)=>{o.removeAttribute(t)}}),Q=(t,e=t)=>N(e,{op:"a",name:t,read:(o)=>o.hasAttribute(t),update:(o,r)=>{o.toggleAttribute(t,r)}}),z=(t,e=t)=>N(e,{op:"c",name:t,read:(o)=>o.classList.contains(t),update:(o,r)=>{o.classList.toggle(t,r)}});var vt=(t,e,o)=>N(t,{op:"h",read:(r)=>(r.shadowRoot||!e?r:null)?.innerHTML??"",update:(r,n)=>{if(!n){if(r.shadowRoot)r.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!r.shadowRoot)r.attachShadow({mode:e});let a=r.shadowRoot||r;if(a.innerHTML=n,!o)return"";return a.querySelectorAll("script").forEach((i)=>{let s=document.createElement("script");s.appendChild(document.createTextNode(i.textContent??"")),a.appendChild(s),i.remove()})," with scripts"}});var Bt=f("hello-world",{name:A},(t,{first:e})=>[e("span",y("name")),e("input",p("input",(o)=>{t.name=o.target?.value||A}))]);var ee=f("my-counter",{count:L()},(t,{first:e})=>[e(".count",y("count")),e(".parity",y(()=>t.count%2?"odd":"even")),e(".increment",p("click",()=>{t.count++})),e(".decrement",p("click",()=>{t.count--}))]);var ne=f("my-slider",{},(t,{all:e,first:o})=>{let r=v(0),n=t.querySelectorAll(".slide").length,a=(i)=>String(r.get())===i.dataset.index;return[o(".prev",p("click",()=>{r.update((i)=>(i-1+n)%n)})),o(".next",p("click",()=>{r.update((i)=>(i+1+n)%n)})),e(".slide",z("active",a)),e(".dots span",z("active",a))]});var ce=f("input-button",{disabled:O,label:P(A),badge:P(A)},(t,{first:e})=>[e("button",b("disabled")),e(".label",y("label")),e(".badge",y("badge"))]);var ue=f("input-checkbox",{checked:O,label:P(A)},(t,{first:e})=>[Q("checked"),e("input",b("checked"),p("change",(o)=>{t.checked=o.target?.checked})),e(".label",y("label"))]);var be=f("input-radiogroup",{value:P()},(t,{all:e})=>[k("value"),e("input",p("change",(o)=>{t.value=o.target?.value})),e("label",z("selected",(o)=>t.value===o.querySelector("input")?.value))]);var at=(t)=>typeof t==="number",J=(t,e=!1,o=0)=>{if(!t)return o;let r=e?parseInt(t,10):parseFloat(t);return Number.isFinite(r)?r:o},Zt=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},qt=(t,e)=>{let o=t.querySelector("input");return o&&o.type==="number"?J(e,t.hasAttribute("integer"),0):e??""},he=f("input-field",{value:qt,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let e=t.querySelector("input");if(e)e.value="",e.checkValidity(),e.focus()}}},(t,{first:e})=>{let o=[],r=t.querySelector("input");if(!r)throw new Error("No input element found");let n=r.type==="number",a=t.hasAttribute("integer"),i=t.getAttribute("validate"),s=(d)=>{let l=typeof d==="function"?d(t.value):n&&!at(d)?J(d,a,0):d;if(Object.is(t.value,l))return;if(l!==null&&i)fetch(`${i}?name=${r.name}value=${l}`).then(async(g)=>{let E=await g.text();r.setCustomValidity(E),t.error=E}).catch((g)=>{t.error=g.message});if(r.checkValidity(),t.value=l,t.error=r.validationMessage??"",r?.value!==String(d))D("value-change",d)(t)};if(o.push(e("input",b("value",()=>String(t.value)),p("change",()=>{s(n?r.valueAsNumber??0:r.value??"")}),p("input",()=>{t.length=r.value.length??0}))),n){let d=t.querySelector(".spinbutton"),l=J(d?.dataset.step||r.step,a,1),g=J(r.min,a,0),E=J(r.max,a,100),h=(m)=>{if(!Number.isFinite(m)||m<g)return g;if(m>E)return E;let $=g+Math.round((m-g)/l)*l;return a?Math.round($):parseFloat($.toFixed(Zt(l)))};if(o.push(e("input",p("keydown",(m)=>{let{key:$,shiftKey:x}=m;if(["ArrowUp","ArrowDown"].includes($)){m.stopPropagation(),m.preventDefault();let it=x?l*10:l,ct=h(r.valueAsNumber+($==="ArrowUp"?it:-it));r.value=String(ct),s(ct)}}))),d)o.push(e(".decrement",p("click",(m)=>{let $=m.shiftKey?l*10:l,x=h(r.valueAsNumber-$);r.value=String(x),s(x)}),b("disabled",()=>(at(g)?t.value:0)-l<g)),e(".increment",p("click",(m)=>{let $=m.shiftKey?l*10:l,x=h(r.valueAsNumber+$);r.value=String(x),s(x)}),b("disabled",()=>(at(E)?t.value:0)+l>E)))}else o.push(e(".clear",p("click",()=>{t.clear(),s("")}),b("hidden",()=>!t.length)));let u=t.querySelector(".error")?.id;o.push(e(".error",y("error")),e("input",b("ariaInvalid",()=>t.error?"true":"false"),k("aria-errormessage",()=>t.error&&u?u:T)));let c=t.querySelector(".description");if(c){let d=r.maxLength,l=d&&c.dataset.remaining;if(l)t.setSignal("description",nt(()=>l.replace("${x}",String(d-t.length))));o.push(e(".description",y("description")),e("input",k("aria-describedby",()=>t.description&&c.id?c.id:T)))}return o});var Ee=f("code-block",{collapsed:O},(t,{first:e})=>{let o=t.querySelector("code");return[Q("collapsed"),e(".overlay",p("click",()=>{t.collapsed=!1})),e(".copy",p("click",async(r)=>{let n=r.currentTarget,a=n.textContent?.trim()??"",i="success";try{await navigator.clipboard.writeText(o?.textContent?.trim()??"")}catch(s){console.error("Error while trying to use navigator.clipboard.writeText()",s),i="error"}n.disabled=!0,n.label=t.getAttribute(`copy-${i}`)??a,setTimeout(()=>{n.disabled=!1,n.label=a},i==="success"?1000:3000)}))]});var Xt=(t,e)=>(o)=>{if(!(o instanceof KeyboardEvent))throw new TypeError("Event is not a KeyboardEvent");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)){switch(o.preventDefault(),o.key){case"ArrowLeft":case"ArrowUp":e=e<1?t.length-1:e-1;break;case"ArrowRight":case"ArrowDown":e=e>=t.length-1?0:e+1;break;case"Home":e=0;break;case"End":e=t.length-1;break}if(t[e])t[e].focus()}},Te=f("tab-group",{selected:""},(t,{all:e,first:o})=>{t.selected=t.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls")??"";let r=(i)=>t.selected===i.getAttribute("aria-controls"),n=Array.from(t.querySelectorAll('[role="tab"]')),a=0;return[o('[role="tablist"]',p("keydown",Xt(n,a))),e('[role="tab"]',p("click",(i)=>{t.selected=i.currentTarget.getAttribute("aria-controls")??"",a=n.findIndex((s)=>r(s))}),b("ariaSelected",(i)=>String(r(i))),b("tabIndex",(i)=>r(i)?0:-1)),e('[role="tabpanel"]',b("hidden",(i)=>t.selected!==i.id))]});var Dt=(t,e)=>{let o="",r="";if(!e)r="No URL provided in src attribute";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${e}"]`))r="Recursive loading detected";else{let n=new URL(e,location.href);if(n.origin===location.origin)o=String(n);else r="Invalid URL origin"}return t.error=r,o},Qt=(t)=>async(e)=>{let o=t.src;if(!o)return"";try{let r=await fetch(o,{signal:e});if(t.querySelector(".loading")?.remove(),r.ok)return r.text();else t.error=r.statusText}catch(r){t.error=r.message}return""},Ce=f("lazy-load",{error:"",src:Dt,content:Qt},(t,{first:e})=>[vt("content"),e(".error",y("error"),b("hidden",()=>!t.error))]);var At="media-motion",Ct="media-theme",Lt="media-viewport",$t="media-orientation",xe=f("media-context",{[At]:()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),e=v(t.matches);return t.addEventListener("change",(o)=>{e.set(o.matches)}),e},[Ct]:()=>{let t=matchMedia("(prefers-color-scheme: dark)"),e=v(t.matches?"dark":"light");return t.addEventListener("change",(o)=>{e.set(o.matches?"dark":"light")}),e},[Lt]:(t)=>{let e=(u,c)=>{let l=t.getAttribute(u)?.trim();if(!l)return c;let g=l.match(/em$/)?"em":"px",E=parseFloat(l);return Number.isFinite(E)?E+g:c},o=matchMedia(`(min-width: ${e("sm","32em")})`),r=matchMedia(`(min-width: ${e("md","48em")})`),n=matchMedia(`(min-width: ${e("lg","72em")})`),a=matchMedia(`(min-width: ${e("xl","104em")})`),i=()=>{if(a.matches)return"xl";if(n.matches)return"lg";if(r.matches)return"md";if(o.matches)return"sm";return"xs"},s=v(i());return o.addEventListener("change",()=>{s.set(i())}),r.addEventListener("change",()=>{s.set(i())}),n.addEventListener("change",()=>{s.set(i())}),a.addEventListener("change",()=>{s.set(i())}),s},[$t]:()=>{let t=matchMedia("(orientation: landscape)"),e=v(t.matches?"landscape":"portrait");return t.addEventListener("change",(o)=>{e.set(o.matches?"landscape":"portrait")}),e}},()=>[wt([At,Ct,Lt,$t])]);var Pe=f("todo-app",{active:(t)=>F(t,"input-checkbox:not([checked])"),completed:(t)=>F(t,"input-checkbox[checked]")},(t,{first:e})=>{let o=t.querySelector("input-field");if(!o)throw new Error("No input field found");let r=t.querySelector("template");if(!r)throw new Error("No template found");let n=t.querySelector("ol");if(!n)throw new Error("No list found");return[e(".submit",b("disabled",()=>!o.length)),e("form",p("submit",(a)=>{a.preventDefault(),queueMicrotask(()=>{if(!o.value.toString().trim())return;let s=document.importNode(r.content,!0).firstElementChild;if(!(s instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");s.querySelector("slot")?.replaceWith(String(o.value)),n.append(s),o.clear()})})),e("ol",k("filter",()=>t.querySelector("input-radiogroup")?.value??"all"),p("click",(a)=>{let i=a.target;if(i.localName==="button")i.closest("li").remove()})),e(".count",y(()=>String(t.active.length))),e(".singular",b("hidden",()=>t.active.length>1)),e(".plural",b("hidden",()=>t.active.length===1)),e(".remaining",b("hidden",()=>!t.active.length)),e(".all-done",b("hidden",()=>!!t.active.length)),e(".clear-completed",b("disabled",()=>!t.completed.length),b("badge",()=>t.completed.length>0?String(t.completed.length):""),p("click",()=>{let a=Array.from(t.querySelectorAll("ol li"));for(let i=a.length-1;i>=0;i--)if(a[i].querySelector("input-checkbox")?.checked)a[i].remove()}))]});var Oe=f("product-catalog",{total:(t)=>()=>F(t,"spin-button").get().reduce((e,o)=>e+o.value,0)},(t,{first:e})=>[e("input-button",St({badge:()=>t.total>0?String(t.total):"",disabled:()=>!t.total}))]);var Fe=f("spin-button",{value:L()},(t,{all:e,first:o})=>{let r=t.getAttribute("zero-label")||"Add to Cart",n=t.getAttribute("increment-label")||"Increment",a=L(9)(t,t.getAttribute("max")),i=()=>t.value===0;return[o(".value",y("value"),b("hidden",i)),o(".decrement",b("hidden",i),p("click",()=>{t.value--})),o(".increment",y(()=>i()?r:"+"),b("ariaLabel",()=>i()?r:n),b("disabled",()=>t.value>=a),p("click",()=>{t.value++})),e("button",p("keydown",(s)=>{let{key:u}=s;if(["ArrowUp","ArrowDown","-","+"].includes(u)){if(s.stopPropagation(),s.preventDefault(),u==="ArrowDown"||u==="-")t.value--;if(u==="ArrowUp"||u==="+")t.value++}}))]});var Je=f("rating-stars",{value:L()},(t,{all:e})=>{let o=(r)=>parseInt(r.dataset.key||"0");return[e("input",b("checked",(r)=>t.value===o(r)),p("change",(r)=>{r.stopPropagation();let n=parseInt(r.currentTarget?.value)+1;t.value=n,D("change-rating",n)(t)})),e(".label",y((r)=>o(r)<=t.value?"\u2605":"\u2606"))]});var Ye=f("rating-feedback",{},(t,{all:e,first:o})=>{let r=v(0),n=v(!0),a=v(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let s=(u)=>r.get()!==parseInt(u.dataset.key||"0");return[p("change-rating",(u)=>{r.set(u.detail)}),p("submit",(u)=>{u.preventDefault(),a.set(!0),console.log("Feedback submitted")}),o(".hide",p("click",()=>{let u=t.querySelector(".feedback");if(u)u.hidden=!0})),o("textarea",p("input",(u)=>{n.set(u.target?.value.trim()==="")})),o(".feedback",b("hidden",()=>a.get()||!r.get())),e(".feedback p",b("hidden",s)),o("input-button",b("disabled",n))]});var qe=f("calc-table",{columns:L(),rows:L()},(t,{all:e,first:o})=>{let n=t.querySelector(".calc-table-row"),a=t.querySelector(".calc-table-colhead"),i=t.querySelector(".calc-table-cell");if(!n||!a||!i)throw new Error("Missing template elements");let s=new Map;for(let c=0;c<t.columns;c++)s.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c],v(0));let u=(c)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${c}"]`)).map((d)=>Number.isFinite(d.valueAsNumber)?d.valueAsNumber:0).reduce((d,l)=>d+l,0)};return[b("rows",()=>t.querySelector(".rows spin-button")?.value),b("columns",()=>t.querySelector(".columns spin-button")?.value),o("tbody",G((c)=>t.rows-c.querySelectorAll("tr").length,{position:"beforeend",create:(c)=>{let d=document.importNode(n.content,!0).firstElementChild;if(!(d instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${d}`);let l=String(c.querySelectorAll("tr").length+1);return d.dataset.key=l,d.querySelector("slot")?.replaceWith(document.createTextNode(l)),d},resolve:()=>{for(let[c,d]of s)d.set(u(c))}})),o("thead tr",G((c)=>t.columns-(c.querySelectorAll("th").length-1),{position:"beforeend",create:(c)=>{let d=document.importNode(a.content,!0).firstElementChild;if(!(d instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${d}`);let l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("th").length-1];return s.set(l,v(0)),d.querySelector("slot")?.replaceWith(document.createTextNode(l)),d}})),e("tbody tr",G((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let d=document.importNode(i.content,!0).firstElementChild;if(!(d instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${d}`);let l=c.dataset.key,g="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length],E=d.querySelector("input");if(!E)throw new Error("No input found in cell template");return E.dataset.key=g,d.querySelector("slot")?.replaceWith(document.createTextNode(`${g}${l}`)),d}})),o("tfoot tr",G((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let d=document.createElement("td"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length];return d.dataset.key=l,d}})),e("tbody input",p("change",(c)=>{let d=c.target?.dataset.key;s.get(d)?.set(u(d))})),e("tfoot td",y((c)=>String(s.get(c.dataset.key).get())))]});
