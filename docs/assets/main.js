var E=(t)=>typeof t==="function",Ht=(t)=>E(t)&&/^async\s+/.test(t.toString()),R=(t)=>(s)=>s instanceof t,it=R(Error),Xt=R(Promise),rt="Computed",V=(t,s)=>{s=s??Ht(t);let e=[],i,r=null,n=!0,u=()=>{if(n=!0,s)ut(e)},c={[Symbol.toStringTag]:rt,get:()=>{if(s)nt(e);if(!s||n)lt(()=>{let h=(f)=>{i=f,n=!1,r=null},z=(f)=>{r=it(f)?f:new Error(`Computed function failed: ${f}`)};try{let f=t(i);Xt(f)?f.then(h).catch(z):h(f)}catch(f){z(f)}},u);if(it(r))throw r;return i},map:(h)=>V(()=>h(c.get()))};return c},Wt=(t)=>!!t&&typeof t==="object"&&t[Symbol.toStringTag]===rt,j,Kt=!1,zt=[],L=(t)=>P(t)||Wt(t),at=(t,s=!1)=>L(t)?t:E(t)?V(t,s):Bt(t),nt=(t)=>{if(j&&!t.includes(j))t.push(j)},ut=(t)=>t.forEach((s)=>Kt?zt.push(s):s()),lt=(t,s)=>{let e=j;j=s,t(),j=e};var N=Symbol();class D{$;watchers=[];constructor(t){this.value=t}get(){return nt(this.watchers),this.value}set(t){if(N!==t){let s=E(t)?t(this.value):t;if(Object.is(this.value,s))return;this.value=s}if(ut(this.watchers),N===t)this.watchers=[]}map(t){return V(()=>t(this.get()))}}var Bt=(t)=>new D(t),P=R(D),k=(t)=>{let s=()=>lt(()=>{try{t()}catch(e){console.error(e)}},s);s()};if(!("requestAnimationFrame"in globalThis))globalThis.requestAnimationFrame=(t)=>setTimeout(t,16);var Y=new Map,S=[],x,ct=()=>{x=null,S.forEach((t)=>t()),S=[],Y.clear()},Lt=()=>{if(x)cancelAnimationFrame(x);x=requestAnimationFrame(ct)};queueMicrotask(ct);var g=(t,s)=>new Promise((e,i)=>{let r=()=>{try{e(t())}catch(n){i(n)}};if(s){let[n,u]=s;if(!Y.has(n))Y.set(n,new Map);let c=Y.get(n);if(c.has(u)){let h=S.indexOf(t);if(h>-1)S.splice(h,1)}c.set(u,r)}S.push(r),Lt()});var Nt=(t)=>t.nodeType===Node.COMMENT_NODE,Pt=(t)=>!/^on/i.test(t),$t=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let s=new URL(t,window.location.origin);return!["http:","https:","ftp:"].includes(s.protocol)}catch(s){return!0}return!0},Et=(t,s,e)=>{if(!Pt(s))throw new Error(`Unsafe attribute: ${s}`);if(e=String(e).trim(),!$t(e))throw new Error(`Unsafe URL for ${s}: ${e}`);t.setAttribute(s,e)};var Rt=(t)=>g(()=>{return t.remove(),null},[t,"r"]),Vt=(t,s)=>g(()=>{return Array.from(t.childNodes).filter((e)=>!Nt(e)).forEach((e)=>e.remove()),t.append(document.createTextNode(s)),t},[t,"t"]),Dt=(t,s,e)=>g(()=>{return Et(t,s,e),t},[t,`a:${s}`]),Ot=(t,s)=>g(()=>{return t.removeAttribute(s),t},[t,`a:${s}`]),_t=(t,s,e)=>g(()=>{return t.toggleAttribute(s,e),t},[t,`a:${s}`]),Mt=(t,s,e)=>g(()=>{return t.classList.toggle(s,e),t},[t,`c:${s}`]);var v=(t)=>typeof t==="function",ht=(t)=>!!t&&typeof t==="object",Tt=(t)=>typeof t==="number",X=(t)=>typeof t==="string",At=(t)=>typeof t==="symbol",It=(t)=>X(t)||At(t)||Tt(t),o=!1,ts="debug";var ss="warn",G="error",es=(t)=>t?`#${t}`:"",is=(t)=>t.length?`.${Array.from(t).join(".")}`:"",Z=(t)=>`<${t.localName}${es(t.id)}${is(t.classList)}>`,w=(t)=>X(t)?`"${t}"`:ht(t)?JSON.stringify(t):String(t),b=(t,s,e=ts)=>{if(o||[G,ss].includes(e))console[e](s,t);return t},rs=(t)=>v(t)&&t.length===2,B=(t,s,e=0)=>rs(t)?t(s,e):t;class H{$;A;constructor(t,s=[t]){this.host=t,this.targets=s}on(t,s){return this.targets.forEach((e,i)=>e.addEventListener(t,B(s,e,i))),this}off(t,s){return this.targets.forEach((e,i)=>e.removeEventListener(t,B(s,e,i))),this}pass(t){return this.targets.forEach(async(s,e)=>{if(await a.registry.whenDefined(s.localName),s instanceof a)Object.entries(t).forEach(([i,r])=>{let n=B(r,s,e),u=It(n)?this.host.signals.get(n):at(n,!0);if(u)s.set(i,u);else b(r,`Invalid source for state ${w(i)}`,G)});else b(s,"Target is not a UIElement",G)}),this}sync(...t){return this.targets.forEach((s,e)=>t.forEach((i)=>i(this.host,s,e))),this}}var as=(t,s)=>{if(s==null)return;let e=t(s);return Number.isFinite(e)?e:void 0},$=(t,s,e,i=void 0)=>{let r=t.constructor.states[s];return v(r)&&!!r.length?r(e,t,i):e},m=(t)=>t!=null,ft=(t)=>as(parseInt,t);var dt="context-request";class ot extends Event{$;A;B;constructor(t,s,e=!1){super(dt,{bubbles:!0,composed:!0});this.context=t,this.callback=s,this.subscribe=e}}var ns=(t)=>{let s=t.constructor,e=s.consumedContexts||[];setTimeout(()=>{for(let r of e)t.dispatchEvent(new ot(r,(n)=>t.set(String(r),n)))});let i=s.providedContexts||[];if(!i.length)return!1;return t.addEventListener(dt,(r)=>{let{context:n,callback:u}=r;if(!i.includes(n)||!v(u))return;r.stopPropagation(),u(t.signals.get(String(n)))}),!0};class a extends HTMLElement{static registry=customElements;static states={};static observedAttributes;static consumedContexts;static providedContexts;static define(t){try{if(a.registry.define(t,this),o)b(t,"Registered custom element")}catch(s){b(s,`Failed to register custom element ${t}`,G)}}signals=new Map;self=new H(this);root=this.shadowRoot||this;debug=!1;attributeChangedCallback(t,s,e){if(e===s)return;if(o&&this.debug)b(`${w(s)} => ${w(e)}`,`Attribute "${t}" of ${Z(this)} changed`);this.set(t,$(this,t,e,s))}connectedCallback(){if(o){if(this.debug=this.hasAttribute("debug"),this.debug)b(this,"Connected")}Object.entries(this.constructor.states).forEach(([t,s])=>{let e=v(s)?$(this,t,this.getAttribute(t)??void 0,void 0):s;this.set(t,e,!1)}),ns(this)}disconnectedCallback(){if(o&&this.debug)b(this,"Disconnected")}adoptedCallback(){if(o&&this.debug)b(this,"Adopted")}has(t){return this.signals.has(t)}get(t){let s=(i)=>!ht(i)?i:v(i)?s(i()):L(i)?s(i.get()):i,e=s(this.signals.get(t));if(o&&this.debug)b(e,`Get current value of state ${w(t)} in ${Z(this)}`);return e}set(t,s,e=!0){let i;if(!this.signals.has(t)){if(o&&this.debug)i="Create";this.signals.set(t,at(s,!0))}else if(e){let r=this.signals.get(t);if(L(s)){if(o&&this.debug)i="Replace";if(this.signals.set(t,s),P(r))r.set(N)}else if(P(r)){if(o&&this.debug)i="Update";r.set(s)}else{b(s,`Computed state ${w(t)} in ${Z(this)} cannot be set`,G);return}}else return;if(o&&this.debug)b(s,`${i} state ${w(t)} in ${Z(this)}`)}delete(t){if(o&&this.debug)b(t,`Delete state ${w(t)} from ${Z(this)}`);return this.signals.delete(t)}first(t){let s=this.root.querySelector(t);return new H(this,s?[s]:[])}all(t){return new H(this,Array.from(this.root.querySelectorAll(t)))}}var J=(t,s)=>(e,i)=>{let{read:r,update:n}=s,u=r(i);if(!v(t)){let c=X(t)&&X(u)?$(e,t,u):u;e.set(t,c,!1)}k(()=>{let c=r(i),h=v(t)?t(c):e.get(t);if(!Object.is(h,c)){if(h===null&&s.delete)s.delete(i);else if(h==null&&u)n(i,u);else if(h!=null)n(i,h)}})};var bt=(t)=>J(t,{read:(s)=>s!=null,update:(s,e)=>e?Rt(s):Promise.resolve(null)}),d=(t)=>J(t,{read:(s)=>s.textContent,update:(s,e)=>Vt(s,e)}),l=(t,s=t)=>J(s,{read:(e)=>e[t],update:(e,i)=>e[t]=i}),C=(t,s=t)=>J(s,{read:(e)=>e.getAttribute(t),update:(e,i)=>Dt(e,t,i),delete:(e)=>Ot(e,t)}),y=(t,s=t)=>J(s,{read:(e)=>e.hasAttribute(t),update:(e,i)=>_t(e,t,i)}),F=(t,s=t)=>J(s,{read:(e)=>e.classList.contains(t),update:(e,i)=>Mt(e,t,i)});class yt extends a{connectedCallback(){this.first("span").sync(d("name")),this.first("input").on("input",(t)=>{this.set("name",t.target?.value||void 0)})}}yt.define("hello-world");class gt extends a{static observedAttributes=["count"];static states={count:ft};connectedCallback(){this.set("parity",()=>(this.get("count")??0)%2?"odd":"even"),this.first(".increment").on("click",()=>{this.set("count",(t)=>t!=null?++t:1)}),this.first(".decrement").on("click",()=>{this.set("count",(t)=>t!=null?--t:0)}),this.first(".count").sync(d("count")),this.first(".parity").sync(d("parity"))}}gt.define("my-counter");var mt=(t=0,s,e)=>(t+s+e)%e;class wt extends a{connectedCallback(){this.set("active",0);let t=this.querySelectorAll(".slide").length;this.first(".prev").on("click",()=>{this.set("active",(s)=>mt(s,-1,t))}),this.first(".next").on("click",()=>{this.set("active",(s)=>mt(s,1,t))}),this.all(".slide").sync((s,e,i)=>F("active",()=>i===this.get("active"))(s,e)),this.all(".dots span").sync((s,e,i)=>F("active",()=>i===this.get("active"))(s,e))}}wt.define("my-slider");class vt extends a{static observedAttributes=["disabled"];static states={disabled:m};connectedCallback(){this.first("button").sync(d("label"),l("disabled"))}}vt.define("input-button");class Ct extends a{static observedAttributes=["checked"];static states={checked:m};connectedCallback(){this.first("input").on("change",(t)=>{this.set("checked",Boolean(t.target?.checked))}).sync(l("checked")),this.self.sync(y("checked"))}}Ct.define("input-checkbox");class Ft extends a{static observedAttributes=["value"];connectedCallback(){this.self.sync(C("value")),this.all("input").on("change",(t)=>{this.set("value",t.target?.value)}),this.all("label").sync((t,s)=>F("selected",()=>t.get("value")===s.querySelector("input")?.value)(t,s))}}Ft.define("input-radiogroup");var O=(t)=>typeof t==="number",Q=(t,s=!1,e=0)=>{let i=s?parseInt(t,10):parseFloat(t);return Number.isFinite(i)?i:e},jt=(t,s,e,i,r=!1)=>{let n=Math.round((e-s)/i),u=Math.round((t-s)*n/(e-s))/n;u=Math.min(Math.max(u,0),1);let c=u*(e-s)+s;return r?Math.round(c):c};class Jt extends a{static observedAttributes=["value","description"];static states={value:(t,s)=>s.isNumber?Q(t,s.isInteger,0):t};isNumber;isInteger;input=null;step=1;min;max;connectedCallback(){if(this.input=this.querySelector("input"),this.isNumber=(this.input&&this.input.type==="number")??!1,this.isInteger=this.hasAttribute("integer"),this.input&&this.isNumber)this.step=Q(this.input.step,this.isInteger,1),this.min=Q(this.input.min,this.isInteger,0),this.max=Q(this.input.max,this.isInteger,0);if(this.set("value",this.isNumber?this.input?.valueAsNumber:this.input?.value,!1),this.set("length",this.input?.value.length),this.set("empty",()=>!this.get("length")),this.first("input").on("change",()=>{this.#t(this.isNumber?this.input?.valueAsNumber:this.input?.value)}).on("input",()=>{this.set("length",this.input?.value.length)}),this.isNumber)this.first("input").on("keydown",(e)=>{let i=e;if(["ArrowUp","ArrowDown"].includes(i.key)){if(e.stopPropagation(),e.preventDefault(),i.key==="ArrowDown")this.stepDown(i.shiftKey?this.step*10:this.step);if(i.key==="ArrowUp")this.stepUp(i.shiftKey?this.step*10:this.step)}});this.set("ariaInvalid",()=>String(Boolean(this.get("error")))),this.set("aria-errormessage",()=>this.get("error")?this.querySelector(".error")?.id:void 0),this.first(".error").sync(d("error")),this.first("input").sync(l("ariaInvalid"),C("aria-errormessage"));let t=this.querySelector(".description");if(t){let e=this.input?.maxLength,i=e&&t.dataset.remaining,r=t.textContent;this.set("description",i?()=>{let n=this.get("length")??0;return n>0?i.replace("${x}",String(e-n)):r}:r),this.set("aria-describedby",()=>this.get("description")?t.id:void 0),this.first(".description").sync(d("description")),this.first("input").sync(C("aria-describedby"))}let s=this.querySelector(".spinbutton");if(!this.isNumber||!s)this.first(".decrement").on("click",(e)=>{this.stepDown(e.shiftKey?this.step*10:this.step)}).sync(l("disabled",()=>O(this.min)&&(this.get("value")??0-this.step<this.min))),this.first(".increment").on("click",(e)=>{this.stepUp(e.shiftKey?this.step*10:this.step)}).sync(l("disabled",()=>O(this.max)&&(this.get("value")??0+this.step>this.max)));this.first(".clear").on("click",()=>{this.clear(),this.input?.focus()}).sync(F("hidden","empty")),k(()=>{let e=this.get("value"),i=this.getAttribute("validate");if(e&&i)fetch(`${i}?name=${this.input?.name}value=${this.input?.value}`).then(async(r)=>{let n=await r.text();this.input?.setCustomValidity(n),this.set("error",n)}).catch((r)=>this.set("error",r.message));if(this.isNumber&&!O(e))return this.set("value",Q(e,this.isInteger,0));if(this.input&&this.isNumber&&Number.isFinite(e))this.input.value=String(e)})}clear(){if(this.set("value",""),this.set("length",0),this.input)this.input.value="",this.input.focus()}stepUp(t=this.step){if(this.isNumber)this.#t((s)=>jt(s+t,this.min??0,this.max??100,this.step,this.isInteger))}stepDown(t=this.step){if(this.isNumber)this.#t((s)=>jt(s-t,this.min??0,this.max??100,this.step,this.isInteger))}#t=(t)=>{if(this.set("value",t),this.set("error",this.input?.validationMessage),typeof t==="function")t=this.get("value");if(this.input?.value!==String(t))this.dispatchEvent(new CustomEvent("value-change",{detail:t,bubbles:!0}))}}Jt.define("input-field");class pt extends a{static observedAttributes=["collapsed"];static states={collapsed:m};connectedCallback(){let t=this.querySelector("code");if(t)this.first(".copy").on("click",async(s)=>{let e=s.currentTarget,i=e.textContent,r="success";try{await navigator.clipboard.writeText(t.textContent??"")}catch(n){console.error("Error when trying to use navigator.clipboard.writeText()",n),r="error"}e.set("disabled",!0),e.set("label",this.getAttribute(`copy-${r}`)),setTimeout(()=>{e.set("disabled",!1),e.set("label",i)},r==="success"?1000:3000)}),this.first(".overlay").on("click",()=>this.set("collapsed",!1)),this.self.sync(y("collapsed"))}}pt.define("code-block");class Ut extends a{connectedCallback(){this.set("open",this.hasAttribute("open"),!1),this.set("collapsible",this.hasAttribute("collapsible"),!1),this.self.sync(y("open"),y("collapsible"),l("ariaHidden",()=>!this.get("open")&&!this.get("collapsible"))),this.first("details").sync(l("open"),l("ariaDisabled",()=>!this.get("collapsible")))}}Ut.define("accordion-panel");class qt extends a{static observedAttributes=["accordion"];static states={accordion:m};static consumedContexts=["media-viewport"];connectedCallback(){super.connectedCallback(),this.set("active",0,!1),setTimeout(()=>{if(this.get("media-viewport"))this.set("accordion",()=>["xs","sm"].includes(String(this.get("media-viewport"))))},0),this.self.sync(y("accordion")),this.first("menu").sync(l("ariaHidden","accordion")),this.all("menu button").on("click",(t,s)=>()=>this.set("active",s)).sync((t,s,e)=>l("ariaPressed",()=>this.get("active")===e)(t,s)),this.all("accordion-panel").pass({open:(t,s)=>()=>this.get("active")===s,collapsible:"accordion"})}}qt.define("tab-list");class Zt extends a{static states={content:"",error:"",loaded:!1};connectedCallback(){super.connectedCallback();let t=this.getAttribute("src");if(t)this.loadContent(t).then(([s,e])=>{this.set("content",e),this.set("error",s),this.set("loaded",!0)});this.first(".loading").sync(bt("loaded")),this.first(".error").sync(d("error")),k(()=>{let s=this.get("content");if(s)g(()=>{this.root.innerHTML=s,this.root.querySelectorAll("script").forEach((e)=>{let i=document.createElement("script");i.appendChild(document.createTextNode(e.textContent??"")),this.root.appendChild(i),e.remove()})},[this.root,"h"])})}async loadContent(t){try{let s=await fetch(t);if(!s.ok)return[s.statusText,""];return["",await s.text()]}catch(s){return[s.message,""]}}}Zt.define("lazy-load");var W=(t,s)=>{let e=t?.trim();if(!e)return s;let i=e.match(/em$/)?"em":"px",r=parseFloat(e);return Number.isFinite(r)?r+i:s},_="media-motion",K="media-theme",p="media-viewport",St="media-orientation";class Gt extends a{static providedContexts=[_,K,p,St];connectedCallback(){super.connectedCallback();let t="light",s="dark",e="xs",i="sm",r="md",n="lg",u="xl",c="landscape",h="portrait",f=(()=>({sm:W(this.getAttribute(i),"32em"),md:W(this.getAttribute(r),"48em"),lg:W(this.getAttribute(n),"72em"),xl:W(this.getAttribute(u),"108em")}))(),M=matchMedia("(prefers-reduced-motion: reduce)"),T=matchMedia("(prefers-color-scheme: dark)"),A=matchMedia(`(min-width: ${f.sm})`),I=matchMedia(`(min-width: ${f.md})`),tt=matchMedia(`(min-width: ${f.lg})`),st=matchMedia(`(min-width: ${f.xl})`),et=matchMedia("(orientation: landscape)"),U=()=>{if(st.matches)return u;if(tt.matches)return n;if(I.matches)return r;if(A.matches)return i;return e};this.set(_,M.matches),this.set(K,T.matches?s:t),this.set(p,U()),this.set(St,et.matches?c:h),M.addEventListener("change",(q)=>this.set(_,q.matches)),T.addEventListener("change",(q)=>this.set(K,q.matches?s:t)),A.addEventListener("change",()=>this.set(p,U())),I.addEventListener("change",()=>this.set(p,U())),tt.addEventListener("change",()=>this.set(p,U())),st.addEventListener("change",()=>this.set(p,U())),et.addEventListener("change",(q)=>{this.set(K,q.matches?c:h)})}}Gt.define("media-context");class kt extends a{connectedCallback(){let t=this.querySelector("input-field");this.first("form").on("submit",(s)=>{s.preventDefault(),setTimeout(()=>{this.dispatchEvent(new CustomEvent("add-todo",{bubbles:!0,detail:t?.get("value")??""})),t?.clear()},0)}),this.first("input-button").pass({disabled:()=>t?.get("empty")})}}kt.define("todo-form");class Qt extends a{static states={tasks:[],filter:"all"};connectedCallback(){this.#t(),this.self.on("click",(t)=>{if(t.target.localName==="button")this.removeItem(t.target)}).sync(C("filter")),this.set("count",()=>{let t=this.get("tasks").map((i)=>i.signals.get("checked")),s=t.filter((i)=>i?.get()).length,e=t.length;return{active:e-s,completed:s,total:e}})}addItem=(t)=>{let s=this.querySelector("template")?.content.cloneNode(!0);if(s&&s.querySelector("span"))s.querySelector("span").textContent=t,this.querySelector("ol")?.appendChild(s),this.#t()};removeItem=(t)=>{t.closest("li")?.remove(),this.#t()};clearCompleted=()=>{this.get("tasks").filter((t)=>t.get("checked")).forEach((t)=>t.parentElement?.remove()),this.#t()};#t(){this.set("tasks",Array.from(this.querySelectorAll("input-checkbox")))}}Qt.define("todo-list");class Yt extends a{static states={active:0};connectedCallback(){this.first(".count").sync(d("active")),this.first(".singular").sync(l("ariaHidden",()=>this.get("active")>1)),this.first(".plural").sync(l("ariaHidden",()=>this.get("active")===1)),this.first(".remaining").sync(l("ariaHidden",()=>!this.get("active"))),this.first(".all-done").sync(l("ariaHidden",()=>!!this.get("active")))}}Yt.define("todo-count");class xt extends a{connectedCallback(){let t=this.querySelector("todo-list"),s=this.querySelector("input-radiogroup");this.self.on("add-todo",(e)=>{t?.addItem(e.detail)}),this.first("todo-count").pass({active:()=>(t?.get("count")).active}),this.first("todo-list").pass({filter:()=>s?.get("value")}),this.first(".clear-completed").on("click",()=>t?.clearCompleted()).pass({disabled:()=>!(t?.get("count")).completed})}}xt.define("todo-app");
