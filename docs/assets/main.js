var w=(t)=>typeof t==="function",dt=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`,B=(t)=>t instanceof Error?t:Error(String(t));class et extends Error{constructor(t){super(`Circular dependency in ${t} detected`);return this}}var x,J=new Set,$t=0,K=new Map,U,ut=()=>{U=void 0;let t=Array.from(K.values());K.clear();for(let e of t)e()},Mt=()=>{if(U)cancelAnimationFrame(U);U=requestAnimationFrame(ut)};queueMicrotask(ut);var lt=(t)=>{let e=new Set,o=t;return o.off=(n)=>{e.add(n)},o.cleanup=()=>{for(let n of e)n();e.clear()},o},ot=(t)=>{if(x&&!t.has(x)){let e=x;t.add(e),x.off(()=>{t.delete(e)})}},Y=(t)=>{for(let e of t)if($t)J.add(e);else e()},xt=()=>{while(J.size){let t=Array.from(J);J.clear();for(let e of t)e()}};var pt=(t,e)=>{let o=x;x=e;try{t()}finally{x=o}},_=(t,e)=>new Promise((o,n)=>{K.set(e||Symbol(),()=>{try{o(t())}catch(r){n(r)}}),Mt()}),bt="State",L=(t)=>{let e=new Set,o=t,n={[Symbol.toStringTag]:bt,get:()=>{return ot(e),o},set:(r)=>{if(Object.is(o,r))return;if(o=r,Y(e),T===o)e.clear()},update:(r)=>{n.set(r(o))}};return n},Z=(t)=>dt(t,bt),nt="Computed",rt=(t)=>{let e=new Set,o=T,n,r,a=!0,i=!1,s=!1,u=(h)=>{if(!Object.is(h,o))o=h,i=!0;n=void 0,a=!1},c=()=>{i=T!==o,o=T,n=void 0},d=(h)=>{let m=B(h);i=!n||m.name!==n.name||m.message!==n.message,o=T,n=m},l=(h)=>(m)=>{if(s=!1,r=void 0,h(m),i)Y(e)},g=lt(()=>{if(a=!0,r?.abort("Aborted because source signal changed"),e.size)Y(e);else g.cleanup()}),E=()=>pt(()=>{if(s)throw new et("computed");if(i=!1,w(t)&&t.constructor.name==="AsyncFunction"){if(r)return o;r=new AbortController,r.signal.addEventListener("abort",()=>{s=!1,r=void 0,E()},{once:!0})}let h;s=!0;try{h=r?t(r.signal):t()}catch(m){if(m instanceof DOMException&&m.name==="AbortError")c();else d(m);s=!1;return}if(h instanceof Promise)h.then(l(u),l(d));else if(h==null||T===h)c();else u(h);s=!1},g);return{[Symbol.toStringTag]:nt,get:()=>{if(ot(e),xt(),a)E();if(n)throw n;return o}}},ft=(t)=>dt(t,nt),Pt=(t)=>w(t)&&t.length<2,T=Symbol(),X=(t)=>Z(t)||ft(t),gt=(t)=>X(t)?t:Pt(t)?rt(t):L(t);function ht(t){let{signals:e,ok:o,err:n=console.error,nil:r=()=>{}}=w(t)?{signals:[],ok:t}:t,a=!1,i=lt(()=>pt(()=>{if(a)throw new et("effect");a=!0;let s=[],u=!1,c=e.map((l)=>{try{let g=l.get();if(g===T)u=!0;return g}catch(g){return s.push(B(g)),T}}),d=void 0;try{d=u?r():s.length?n(...s):o(...c)}catch(l){d=n(B(l))}finally{if(w(d))i.off(d)}a=!1},i));return i(),()=>i.cleanup()}var M=!1;var q="error",kt=(t)=>t?`#${t}`:"",jt=(t)=>t.length?`.${Array.from(t).join(".")}`:"",mt=(t)=>!!t&&typeof t==="object",j=(t)=>typeof t==="string",Ot=(t)=>t.nodeType===Node.ELEMENT_NODE,S=(t)=>`<${t.localName}${kt(t.id)}${jt(t.classList)}>`,R=(t)=>j(t)?`"${t}"`:mt(t)?JSON.stringify(t):String(t),V=(t)=>{if(t===null)return"null";if(typeof t!=="object")return typeof t;if(Array.isArray(t))return"Array";if(Symbol.toStringTag in Object(t))return t[Symbol.toStringTag];return t.constructor?.name||"Object"},A=(t,e,o="debug")=>{if(["error","warn"].includes(o))console[o](e,t);return t};class yt extends Error{constructor(t){super(t);this.name="CircularMutationError"}}var Nt=(t)=>t instanceof HTMLElement&&t.localName.includes("-"),Rt=(t)=>{let e=new Set;if(t.includes("."))e.add("class");if(t.includes("#"))e.add("id");if(t.includes("[")){let o=t.split("[");for(let n=1;n<o.length;n++){let r=o[n];if(!r.includes("]"))continue;let a=r.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(a)e.add(a)}}return[...e]},Ft=(t,e)=>{if(t.length!==e.length)return!1;let o=new Set(t);for(let n of e)if(!o.has(n))return!1;return!0},Et=(t,e,o)=>{let n=new MutationObserver(o),r=Rt(e),a={childList:!0,subtree:!0};if(r.length)a.attributes=!0,a.attributeFilter=r;return n.observe(t,a),n},F=(t,e)=>{let o=new Set,n=()=>Array.from(t.querySelectorAll(e)),r=T,a,i=0,s=2,u=()=>{r=n(),a=Et(t,e,()=>{if(!o.size){a?.disconnect(),a=void 0;return}if(i++,i>s)throw a?.disconnect(),a=void 0,i=0,new yt("Circular mutation in element selection detected");try{let c=n();if(!Ft(r,c))r=c,Y(o)}finally{i--}})};return{[Symbol.toStringTag]:nt,get:()=>{if(ot(o),!o.size)r=n();else if(!a)u();return r}}},p=(t,e)=>(o,n=o)=>{if(!w(e))throw new TypeError(`Invalid event listener provided for "${t} event on element ${S(n)}`);return n.addEventListener(t,e),()=>n.removeEventListener(t,e)},D=(t,e)=>(o,n=o)=>{n.dispatchEvent(new CustomEvent(t,{detail:w(e)?e(n):e,bubbles:!0}))},St=(t)=>(e,o)=>{let n=o.localName;if(!Nt(o))throw new TypeError("Target element must be a custom element");let r=w(t)?t(o):t;if(!mt(r))throw new TypeError("Passed signals must be an object or a provider function");customElements.whenDefined(n).then(()=>{for(let[a,i]of Object.entries(r)){let s=j(i)?e.getSignal(a):gt(i);o.setSignal(a,s)}}).catch((a)=>{throw new Error(`Failed to pass signals to ${S(o)}}`,{cause:a})})},v=Symbol(),Gt=new Set(Object.getOwnPropertyNames(HTMLElement.prototype)),It=new Set(["constructor","prototype","__proto__","toString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"]),W=(t)=>w(t)&&t.length>=2,zt=(t)=>!(Gt.has(t)||It.has(t)),tt=(t,e,o=e)=>{let n=t.filter(w).map((r)=>r(e,o));return()=>{n.filter(w).forEach((r)=>r()),n.length=0}},Jt=()=>({first:(t,...e)=>(o)=>{let n=(o.shadowRoot||o).querySelector(t);if(n)tt(e,o,n)},all:(t,...e)=>(o)=>{let n=new Map,r=o.shadowRoot||o,a=(c)=>{if(!n.has(c))n.set(c,tt(e,o,c))},i=(c)=>{let d=n.get(c);if(w(d))d();n.delete(c)},s=(c)=>(d)=>{if(Ot(d)){if(d.matches(t))c(d);d.querySelectorAll(t).forEach(c)}},u=Et(r,t,(c)=>{for(let d of c)d.addedNodes.forEach(s(a)),d.removedNodes.forEach(s(i))});return r.querySelectorAll(t).forEach(a),()=>{u.disconnect(),n.forEach((c)=>c()),n.clear()}}}),f=(t,e={},o)=>{class n extends HTMLElement{debug;#t={};#e;static observedAttributes=Object.entries(e)?.filter(([,r])=>W(r)).map(([r])=>r)??[];constructor(){super();for(let[r,a]of Object.entries(e)){if(a==null)continue;let i=W(a)?a(this,null):w(a)?a(this):a;if(i!=null)this.setSignal(r,gt(i))}}connectedCallback(){if(M){if(this.debug=this.hasAttribute("debug"),this.debug)A(this,"Connected")}let r=o(this,Jt());if(!Array.isArray(r))throw new TypeError(`Expected array of functions as return value of setup function in ${S(this)}`);this.#e=tt(r,this)}disconnectedCallback(){if(w(this.#e))this.#e();if(M&&this.debug)A(this,"Disconnected")}attributeChangedCallback(r,a,i){if(i===a||ft(this.#t[r]))return;let s=e[r];if(!W(s))return;let u=s(this,i,a);if(M&&this.debug)A(i,`Attribute "${r}" of ${S(this)} changed from ${R(a)} to ${R(i)}, parsed as <${V(u)}> ${R(u)}`);this[r]=u}getSignal(r){let a=this.#t[r];if(M&&this.debug)A(a,`Get ${V(a)} "${String(r)}" in ${S(this)}`);return a}setSignal(r,a){if(!zt(String(r)))throw new TypeError(`Invalid property name "${String(r)}". Property names must be valid JavaScript identifiers and not conflict with inherited HTMLElement properties.`);if(!X(a))throw new TypeError(`Expected signal as value for property "${String(r)}" on ${S(this)}.`);let i=this.#t[r],s=Z(a);if(this.#t[r]=a,Object.defineProperty(this,r,{get:a.get,set:s?a.set:void 0,enumerable:!0,configurable:s}),i&&Z(i))i.set(T);if(M&&this.debug)A(a,`Set ${V(a)} "${String(r)} in ${S(this)}`)}}return customElements.define(t,n),n},st="context-request";var wt=(t)=>(e)=>{let o=(n)=>{let{context:r,callback:a}=n;if(t.includes(r)&&w(a))n.stopPropagation(),a(e.getSignal(String(r)))};return e.addEventListener(st,o),()=>e.removeEventListener(st,o)};var Ut=(t,e)=>{if(e==null)return;let o=t(e);return Number.isFinite(o)?o:void 0},O=(t,e)=>e!=="false"&&e!=null,C=(t=0)=>(e,o)=>Ut(parseInt,o)??t;var P=(t="")=>(e,o)=>o??t;var Tt=(t,e,o)=>j(t)?e.getSignal(t).get():X(t)?t.get():w(t)?t(o):v,Yt=(t)=>{if(/^(mailto|tel):/i.test(t))return!0;if(t.includes("://"))try{let e=new URL(t,window.location.origin);return["http:","https:","ftp:"].includes(e.protocol)}catch(e){return!1}return!0},_t=(t,e,o)=>{if(/^on/i.test(e))throw new Error(`Unsafe attribute: ${e}`);if(o=String(o).trim(),!Yt(o))throw new Error(`Unsafe URL for ${e}: ${o}`);t.setAttribute(e,o)},N=(t,e)=>(o,n)=>{let{op:r,name:a="",read:i,update:s}=e,u=i(n),c={a:"attribute ",c:"class ",h:"inner HTML",p:"property ",s:"style property ",t:"text content"};if(j(t)&&j(u)&&o[t]===v)o.attributeChangedCallback(t,null,u);let d=(g)=>()=>{if(M&&o.debug)A(n,`${g} ${c[r]+a} of ${S(n)} in ${S(o)}`);e.resolve?.(n)},l=(g)=>(E)=>{A(E,`Failed to ${g} ${c[r]+a} of ${S(n)} in ${S(o)}`,q),e.reject?.(E)};return ht(()=>{let g=Symbol(`${r}:${a}`),E=Symbol(`${r}-${a}`),h=v;try{h=Tt(t,o,n)}catch(m){A(m,`Failed to resolve value of ${R(t)} for ${c[r]+a} of ${S(n)} in ${S(o)}`,q);return}if(h===v)h=u;else if(h===T)h=e.delete?null:u;if(e.delete&&h===null)_(()=>{return e.delete(n),!0},E).then(d("Deleted")).catch(l("delete"));else if(h!=null){let m=i(n);if(Object.is(h,m))return;_(()=>{return s(n,h),!0},g).then(d("Updated")).catch(l("update"))}})},G=(t,e)=>(o,n)=>{let r=(i)=>()=>{if(M&&o.debug)A(n,`${i} element in ${S(n)} in ${S(o)}`);if(w(e?.resolve))e.resolve(n);else{let s=X(t)?t:j(t)?o.getSignal(t):void 0;if(Z(s))s.set(0)}},a=(i)=>(s)=>{A(s,`Failed to ${i} element in ${S(n)} in ${S(o)}`,q),e?.reject?.(s)};return ht(()=>{let i=Symbol("i"),s=Symbol("d"),u=0;try{u=Tt(t,o,n)}catch(c){A(c,`Failed to resolve value of ${R(t)} for insertion or deletion in ${S(n)} in ${S(o)}`,q);return}if(u===v)u=0;if(u>0){if(!e)throw new TypeError("No inserter provided");_(()=>{for(let c=0;c<u;c++){let d=e.create(n);if(!d)continue;n.insertAdjacentElement(e.position??"beforeend",d)}return!0},i).then(r("Inserted")).catch(a("insert"))}else if(u<0)_(()=>{if(e&&(e.position==="afterbegin"||e.position==="beforeend"))for(let c=0;c>u;c--)if(e.position==="afterbegin")n.firstElementChild?.remove();else n.lastElementChild?.remove();else n.remove();return!0},s).then(r("Removed")).catch(a("remove"))})},y=(t)=>N(t,{op:"t",read:(e)=>e.textContent,update:(e,o)=>{Array.from(e.childNodes).filter((n)=>n.nodeType!==Node.COMMENT_NODE).forEach((n)=>n.remove()),e.append(document.createTextNode(o))}}),b=(t,e=t)=>N(e,{op:"p",name:String(t),read:(o)=>(t in o)?o[t]:T,update:(o,n)=>{o[t]=n}}),k=(t,e=t)=>N(e,{op:"a",name:t,read:(o)=>o.getAttribute(t),update:(o,n)=>{_t(o,t,n)},delete:(o)=>{o.removeAttribute(t)}}),Q=(t,e=t)=>N(e,{op:"a",name:t,read:(o)=>o.hasAttribute(t),update:(o,n)=>{o.toggleAttribute(t,n)}}),I=(t,e=t)=>N(e,{op:"c",name:t,read:(o)=>o.classList.contains(t),update:(o,n)=>{o.classList.toggle(t,n)}});var Lt=(t,e,o)=>N(t,{op:"h",read:(n)=>(n.shadowRoot||!e?n:null)?.innerHTML??"",update:(n,r)=>{if(!r){if(n.shadowRoot)n.shadowRoot.innerHTML="<slot></slot>";return""}if(e&&!n.shadowRoot)n.attachShadow({mode:e});let a=n.shadowRoot||n;if(a.innerHTML=r,!o)return"";return a.querySelectorAll("script").forEach((i)=>{let s=document.createElement("script");s.appendChild(document.createTextNode(i.textContent??"")),a.appendChild(s),i.remove()})," with scripts"}});var Bt=f("hello-world",{name:v},(t,{first:e})=>[e("span",y("name")),e("input",p("input",(o)=>{t.name=o.target?.value||v}))]);var ee=f("my-counter",{count:C()},(t,{first:e})=>[e(".count",y("count")),e(".parity",y(()=>t.count%2?"odd":"even")),e(".increment",p("click",()=>{t.count++})),e(".decrement",p("click",()=>{t.count--}))]);var re=f("my-slider",{},(t,{all:e,first:o})=>{let n=L(0),r=t.querySelectorAll(".slide").length,a=(i)=>String(n.get())===i.dataset.index;return[o(".prev",p("click",()=>{n.update((i)=>(i-1+r)%r)})),o(".next",p("click",()=>{n.update((i)=>(i+1+r)%r)})),e(".slide",I("active",a)),e(".dots span",I("active",a))]});var ce=f("input-button",{disabled:O,label:P(v),badge:P(v)},(t,{first:e})=>[e("button",b("disabled")),e(".label",y("label")),e(".badge",y("badge"))]);var ue=f("input-checkbox",{checked:O,label:P(v)},(t,{first:e})=>[Q("checked"),e("input",b("checked"),p("change",(o)=>{t.checked=o.target?.checked})),e(".label",y("label"))]);var be=f("input-radiogroup",{value:P()},(t,{all:e})=>[k("value"),e("input",p("change",(o)=>{t.value=o.target?.value})),e("label",I("selected",(o)=>t.value===o.querySelector("input")?.value))]);var at=(t)=>typeof t==="number",z=(t,e=!1,o=0)=>{if(!t)return o;let n=e?parseInt(t,10):parseFloat(t);return Number.isFinite(n)?n:o},Zt=(t)=>{if(Math.floor(t)===t||String(t).indexOf(".")===-1)return 0;return String(t).split(".")[1].length||0},qt=(t,e)=>{let o=t.querySelector("input");return o&&o.type==="number"?z(e,t.hasAttribute("integer"),0):e??""},he=f("input-field",{value:qt,length:0,error:"",description:"",clear:(t)=>{t.clear=()=>{t.value="",t.length=0;let e=t.querySelector("input");if(e)e.value="",e.checkValidity(),e.focus()}}},(t,{first:e})=>{let o=[],n=t.querySelector("input");if(!n)throw new Error("No input element found");let r=n.type==="number",a=t.hasAttribute("integer"),i=t.getAttribute("validate"),s=(d)=>{let l=typeof d==="function"?d(t.value):r&&!at(d)?z(d,a,0):d;if(Object.is(t.value,l))return;if(l!==null&&i)fetch(`${i}?name=${n.name}value=${l}`).then(async(g)=>{let E=await g.text();n.setCustomValidity(E),t.error=E}).catch((g)=>{t.error=g.message});if(n.checkValidity(),t.value=l,t.error=n.validationMessage??"",n?.value!==String(d))D("value-change",d)(t)};if(o.push(e("input",b("value",()=>String(t.value)),p("change",()=>{s(r?n.valueAsNumber??0:n.value??"")}),p("input",()=>{t.length=n.value.length??0}))),r){let d=t.querySelector(".spinbutton"),l=z(d?.dataset.step||n.step,a,1),g=z(n.min,a,0),E=z(n.max,a,100),h=(m)=>{if(!Number.isFinite(m)||m<g)return g;if(m>E)return E;let H=g+Math.round((m-g)/l)*l;return a?Math.round(H):parseFloat(H.toFixed(Zt(l)))};if(o.push(e("input",p("keydown",(m)=>{let{key:H,shiftKey:$}=m;if(["ArrowUp","ArrowDown"].includes(H)){m.stopPropagation(),m.preventDefault();let it=$?l*10:l,ct=h(n.valueAsNumber+(H==="ArrowUp"?it:-it));n.value=String(ct),s(ct)}}))),d)o.push(e(".decrement",p("click",(m)=>{let H=m.shiftKey?l*10:l,$=h(n.valueAsNumber-H);n.value=String($),s($)}),b("disabled",()=>(at(g)?t.value:0)-l<g)),e(".increment",p("click",(m)=>{let H=m.shiftKey?l*10:l,$=h(n.valueAsNumber+H);n.value=String($),s($)}),b("disabled",()=>(at(E)?t.value:0)+l>E)))}else o.push(e(".clear",p("click",()=>{t.clear(),s("")}),b("hidden",()=>!t.length)));let u=t.querySelector(".error")?.id;o.push(e(".error",y("error")),e("input",b("ariaInvalid",()=>t.error?"true":"false"),k("aria-errormessage",()=>t.error&&u?u:T)));let c=t.querySelector(".description");if(c){let d=n.maxLength,l=d&&c.dataset.remaining;if(l)t.setSignal("description",rt(()=>l.replace("${x}",String(d-t.length))));o.push(e(".description",y("description")),e("input",k("aria-describedby",()=>t.description&&c.id?c.id:T)))}return o});var Ee=f("code-block",{collapsed:O},(t,{first:e})=>{let o=t.querySelector("code");return[Q("collapsed"),e(".overlay",p("click",()=>{t.collapsed=!1})),e(".copy",p("click",async(n)=>{let r=n.currentTarget,a=r.textContent?.trim()??"",i="success";try{await navigator.clipboard.writeText(o?.textContent?.trim()??"")}catch(s){console.error("Error while trying to use navigator.clipboard.writeText()",s),i="error"}r.disabled=!0,r.label=t.getAttribute(`copy-${i}`)??a,setTimeout(()=>{r.disabled=!1,r.label=a},i==="success"?1000:3000)}))]});var Xt=(t,e)=>(o)=>{if(!(o instanceof KeyboardEvent))throw new TypeError("Event is not a KeyboardEvent");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)){switch(o.preventDefault(),o.key){case"ArrowLeft":case"ArrowUp":e=e<1?t.length-1:e-1;break;case"ArrowRight":case"ArrowDown":e=e>=t.length-1?0:e+1;break;case"Home":e=0;break;case"End":e=t.length-1;break}if(t[e])t[e].focus()}},Te=f("tab-group",{selected:""},(t,{all:e,first:o})=>{t.selected=t.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls")??"";let n=(i)=>t.selected===i.getAttribute("aria-controls"),r=Array.from(t.querySelectorAll('[role="tab"]')),a=0;return[o('[role="tablist"]',p("keydown",Xt(r,a))),e('[role="tab"]',p("click",(i)=>{t.selected=i.currentTarget.getAttribute("aria-controls")??"",a=r.findIndex((s)=>n(s))}),b("ariaSelected",(i)=>String(n(i))),b("tabIndex",(i)=>n(i)?0:-1)),e('[role="tabpanel"]',b("hidden",(i)=>t.selected!==i.id))]});var Dt=(t,e)=>{let o="",n="";if(!e)n="No URL provided in src attribute";else if((t.parentElement||t.getRootNode().host)?.closest(`${t.localName}[src="${e}"]`))n="Recursive loading detected";else{let r=new URL(e,location.href);if(r.origin===location.origin)o=String(r);else n="Invalid URL origin"}return t.error=n,o},Qt=(t)=>async(e)=>{let o=t.src;if(!o)return"";try{let n=await fetch(o,{signal:e});if(t.querySelector(".loading")?.remove(),n.ok)return n.text();else t.error=n.statusText}catch(n){t.error=n.message}return""},Ae=f("lazy-load",{error:"",src:Dt,content:Qt},(t,{first:e})=>[Lt("content"),e(".error",y("error"),b("hidden",()=>!t.error))]);var vt="media-motion",At="media-theme",Ct="media-viewport",Ht="media-orientation",$e=f("media-context",{[vt]:()=>{let t=matchMedia("(prefers-reduced-motion: reduce)"),e=L(t.matches);return t.addEventListener("change",(o)=>{e.set(o.matches)}),e},[At]:()=>{let t=matchMedia("(prefers-color-scheme: dark)"),e=L(t.matches?"dark":"light");return t.addEventListener("change",(o)=>{e.set(o.matches?"dark":"light")}),e},[Ct]:(t)=>{let e=(u,c)=>{let l=t.getAttribute(u)?.trim();if(!l)return c;let g=l.match(/em$/)?"em":"px",E=parseFloat(l);return Number.isFinite(E)?E+g:c},o=matchMedia(`(min-width: ${e("sm","32em")})`),n=matchMedia(`(min-width: ${e("md","48em")})`),r=matchMedia(`(min-width: ${e("lg","72em")})`),a=matchMedia(`(min-width: ${e("xl","104em")})`),i=()=>{if(a.matches)return"xl";if(r.matches)return"lg";if(n.matches)return"md";if(o.matches)return"sm";return"xs"},s=L(i());return o.addEventListener("change",()=>{s.set(i())}),n.addEventListener("change",()=>{s.set(i())}),r.addEventListener("change",()=>{s.set(i())}),a.addEventListener("change",()=>{s.set(i())}),s},[Ht]:()=>{let t=matchMedia("(orientation: landscape)"),e=L(t.matches?"landscape":"portrait");return t.addEventListener("change",(o)=>{e.set(o.matches?"landscape":"portrait")}),e}},()=>[wt([vt,At,Ct,Ht])]);var Pe=f("todo-app",{active:(t)=>F(t,"input-checkbox:not([checked])"),completed:(t)=>F(t,"input-checkbox[checked]")},(t,{first:e})=>{let o=t.querySelector("input-field");if(!o)throw new Error("No input field found");let n=t.querySelector("template");if(!n)throw new Error("No template found");let r=t.querySelector("ol");if(!r)throw new Error("No list found");return[e(".submit",b("disabled",()=>!o.length)),e("form",p("submit",(a)=>{a.preventDefault(),queueMicrotask(()=>{if(!o.value.toString().trim())return;let s=document.importNode(n.content,!0).firstElementChild;if(!(s instanceof HTMLLIElement))throw new Error("Invalid template for list item; expected <li>");s.querySelector("slot")?.replaceWith(String(o.value)),r.append(s),o.clear()})})),e("ol",k("filter",()=>t.querySelector("input-radiogroup")?.value??"all"),p("click",(a)=>{let i=a.target;if(i.localName==="button")i.closest("li").remove()})),e(".count",y(()=>String(t.active.length))),e(".singular",b("hidden",()=>t.active.length>1)),e(".plural",b("hidden",()=>t.active.length===1)),e(".remaining",b("hidden",()=>!t.active.length)),e(".all-done",b("hidden",()=>!!t.active.length)),e(".clear-completed",b("disabled",()=>!t.completed.length),b("badge",()=>t.completed.length>0?String(t.completed.length):""),p("click",()=>{let a=Array.from(t.querySelectorAll("ol li"));for(let i=a.length-1;i>=0;i--)if(a[i].querySelector("input-checkbox")?.checked)a[i].remove()}))]});var Oe=f("product-catalog",{total:(t)=>()=>F(t,"spin-button").get().reduce((e,o)=>e+o.value,0)},(t,{first:e})=>[e("input-button",St({badge:()=>t.total>0?String(t.total):"",disabled:()=>!t.total}))]);var Fe=f("spin-button",{value:C()},(t,{all:e,first:o})=>{let n=t.getAttribute("zero-label")||"Add to Cart",r=t.getAttribute("increment-label")||"Increment",a=C(9)(t,t.getAttribute("max")),i=()=>t.value===0;return[o(".value",y("value"),b("hidden",i)),o(".decrement",b("hidden",i),p("click",()=>{t.value--})),o(".increment",y(()=>i()?n:"+"),b("ariaLabel",()=>i()?n:r),b("disabled",()=>t.value>=a),p("click",()=>{t.value++})),e("button",p("keydown",(s)=>{let{key:u}=s;if(["ArrowUp","ArrowDown","-","+"].includes(u)){if(s.stopPropagation(),s.preventDefault(),u==="ArrowDown"||u==="-")t.value--;if(u==="ArrowUp"||u==="+")t.value++}}))]});var ze=f("rating-stars",{value:C()},(t,{all:e})=>{let o=(n)=>parseInt(n.dataset.key||"0");return[e("input",b("checked",(n)=>t.value===o(n)),p("change",(n)=>{n.stopPropagation();let r=parseInt(n.currentTarget?.value)+1;t.value=r,D("change-rating",r)(t)})),e(".label",y((n)=>o(n)<=t.value?"\u2605":"\u2606"))]});var Ye=f("rating-feedback",{},(t,{all:e,first:o})=>{let n=L(0),r=L(!0),a=L(!1);if(!t.querySelector("rating-stars"))throw new Error("No rating-stars component found");let s=(u)=>n.get()!==parseInt(u.dataset.key||"0");return[p("change-rating",(u)=>{n.set(u.detail)}),p("submit",(u)=>{u.preventDefault(),a.set(!0),console.log("Feedback submitted")}),o(".hide",p("click",()=>{let u=t.querySelector(".feedback");if(u)u.hidden=!0})),o("textarea",p("input",(u)=>{r.set(u.target?.value.trim()==="")})),o(".feedback",b("hidden",()=>a.get()||!n.get())),e(".feedback p",b("hidden",s)),o("input-button",b("disabled",r))]});var qe=f("calc-table",{columns:C(),rows:C()},(t,{all:e,first:o})=>{let r=t.querySelector(".calc-table-row"),a=t.querySelector(".calc-table-colhead"),i=t.querySelector(".calc-table-cell");if(!r||!a||!i)throw new Error("Missing template elements");let s=new Map;for(let c=0;c<t.columns;c++)s.set("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c],L(0));let u=(c)=>{return Array.from(t.querySelectorAll(`tbody input[data-key="${c}"]`)).map((d)=>Number.isFinite(d.valueAsNumber)?d.valueAsNumber:0).reduce((d,l)=>d+l,0)};return[b("rows",()=>t.querySelector(".rows spin-button")?.value),b("columns",()=>t.querySelector(".columns spin-button")?.value),o("tbody",G((c)=>t.rows-c.querySelectorAll("tr").length,{position:"beforeend",create:(c)=>{let d=document.importNode(r.content,!0).firstElementChild;if(!(d instanceof HTMLTableRowElement))throw new Error(`Expected <tr> as root in table row template, got ${d}`);let l=String(c.querySelectorAll("tr").length+1);return d.dataset.key=l,d.querySelector("slot")?.replaceWith(document.createTextNode(l)),d},resolve:()=>{for(let[c,d]of s)d.set(u(c))}})),o("thead tr",G((c)=>t.columns-(c.querySelectorAll("th").length-1),{position:"beforeend",create:(c)=>{let d=document.importNode(a.content,!0).firstElementChild;if(!(d instanceof HTMLTableCellElement))throw new Error(`Expected <th> as root in column header template, got ${d}`);let l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("th").length-1];return s.set(l,L(0)),d.querySelector("slot")?.replaceWith(document.createTextNode(l)),d}})),e("tbody tr",G((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let d=document.importNode(i.content,!0).firstElementChild;if(!(d instanceof HTMLTableCellElement))throw new Error(`Expected <td> as root in cell template, got ${d}`);let l=c.dataset.key,g="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length],E=d.querySelector("input");if(!E)throw new Error("No input found in cell template");return E.dataset.key=g,d.querySelector("slot")?.replaceWith(document.createTextNode(`${g}${l}`)),d}})),o("tfoot tr",G((c)=>t.columns-c.querySelectorAll("td").length,{position:"beforeend",create:(c)=>{let d=document.createElement("td"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[c.querySelectorAll("td").length];return d.dataset.key=l,d}})),e("tbody input",p("change",(c)=>{let d=c.target?.dataset.key;s.get(d)?.set(u(d))})),e("tfoot td",y((c)=>String(s.get(c.dataset.key).get())))]});
