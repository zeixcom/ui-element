<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Flow – UIElement Docs</title>
    <meta name="description" content="Passing state, events, context">
    <link rel="stylesheet" href="assets/main.css">
	<script type="module" src="assets/main.js"></script>
</head>
<body>
	<header class="content-grid">
		<h1 class="content">UIElement Docs <small>Version 0.9.4</small></h1>
		
	<nav class="breakout">
		<ol>
			
				<li>
					<a href="index.html">
						<span class="icon">📖</span>
						<strong>Introduction</strong>
						<small>Overview and key benefits of UIElement</small>
					</a>
				</li>

				<li>
					<a href="getting-started.html">
						<span class="icon">🚀</span>
						<strong>Getting Started</strong>
						<small>Installation, setup, and first steps</small>
					</a>
				</li>

				<li>
					<a href="building-components.html">
						<span class="icon">🏗️</span>
						<strong>Building Components</strong>
						<small>Anatomy, lifecycle, signals, effects</small>
					</a>
				</li>

				<li>
					<a href="styling-components.html">
						<span class="icon">🎨</span>
						<strong>Styling Components</strong>
						<small>Scoped styles, CSS custom properties</small>
					</a>
				</li>

				<li>
					<a href="data-flow.html" class="active">
						<span class="icon">🔄</span>
						<strong>Data Flow</strong>
						<small>Passing state, events, context</small>
					</a>
				</li>

				<li>
					<a href="patterns-techniques.html">
						<span class="icon">💡</span>
						<strong>Patterns & Techniques</strong>
						<small>Composition, scheduling, best practices</small>
					</a>
				</li>

				<li>
					<a href="examples-recipes.html">
						<span class="icon">🍽️</span>
						<strong>Examples & Recipes</strong>
						<small>Common use cases and demos</small>
					</a>
				</li>

				<li>
					<a href="api-reference.html">
						<span class="icon">📚</span>
						<strong>API Reference</strong>
						<small>Detailed documentation of classes and methods</small>
					</a>
				</li>

				<li>
					<a href="about-community.html">
						<span class="icon">🤝</span>
						<strong>About & Community</strong>
						<small>License, versioning, getting involved</small>
					</a>
				</li>
		</ol>
	</nav>
	</header>
    
    <main>
        <section class="hero">

<h1>🔄 Data Flow</h1>
<p class="lead"></p>
</section>

<section>

<h2>Passing State Down</h2>
<p>Let’s consider a <strong>product catalog</strong> where users can add items to a shopping cart. We have <strong>three independent components</strong> that work together:</p>
<ul>
<li><code>ProductCatalog</code> <strong>(Parent)</strong>:<ul>
<li><strong>Tracks all <code>SpinButton</code> components</strong> in its subtree and derives the <strong>total count</strong> of items in the shopping cart.</li>
<li><strong>Passes that total</strong> to a <code>BadgeButton</code>, which displays the number of items in the cart.</li>
</ul>
</li>
<li><code>BadgeButton</code> <strong>(Child)</strong>:<ul>
<li>Displays a <strong>cart badge</strong> when the <code>&#39;badge&#39;</code> signal is set.</li>
<li><strong>Does not track any state</strong> – it simply renders whatever value is passed down.</li>
</ul>
</li>
<li><code>SpinButton</code> <strong>(Child)</strong>:<ul>
<li>Displays an <strong>“Add to Cart”</strong> button initially.</li>
<li>When an item is added, it transforms into a <strong>stepper</strong> (increment/decrement buttons).</li>
</ul>
</li>
</ul>
<p>Although <code>BadgeButton</code> <strong>and</strong> <code>SpinButton</code> are completely independent, they need to work together.<br>So <code>ProductCatalog</code> <strong>coordinates the data flow between them</strong>.</p>
<h3>Parent Component: ProductCatalog</h3>
<p>The <strong>parent component (<code>ProductCatalog</code>) knows about its children</strong>, meaning it can <strong>observe and pass state</strong> to them.</p>
<p>Use the <code>.pass()</code> method to send values to child components. It takes an object where:</p>
<ul>
<li><strong>Keys</strong> = Signal names in the <strong>child</strong> (<code>BadgeButton</code>)</li>
<li><strong>Values</strong> = Signal names in the parent (<code>ProductCatalog</code>) or functions returning computed values</li>
</ul>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FD971F">this</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'badge-button'</span><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">pass</span><span style="color:#F8F8F2">({ </span><span style="color:#A6E22E">badge</span><span style="color:#F8F8F2">: () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">	const</span><span style="color:#F8F8F2"> total </span><span style="color:#F92672">=</span><span style="color:#FD971F"> this</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">get</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'total'</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F92672">	return</span><span style="color:#F92672"> typeof</span><span style="color:#F8F8F2"> total </span><span style="color:#F92672">===</span><span style="color:#E6DB74"> 'number'</span><span style="color:#F92672"> &#x26;&#x26;</span><span style="color:#F8F8F2"> total </span><span style="color:#F92672">></span><span style="color:#AE81FF"> 0</span><span style="color:#F92672"> ?</span><span style="color:#A6E22E"> String</span><span style="color:#F8F8F2">(total) </span><span style="color:#F92672">:</span><span style="color:#E6DB74"> ''</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}});</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">Copy</button>
	</input-button>
	
</code-block>
<ul>
<li>✅ <strong>Whenever the <code>total</code> signal updates, <code>&lt;badge-button&gt;</code> automatically updates.</strong></li>
<li>✅ <strong>No need for event listeners or manual updates!</strong></li>
</ul>
<h3>Child Component: BadgeButton</h3>
<p>The <code>BadgeButton</code> component <strong>displays a badge when needed</strong> – it does not track state itself.</p>
<p>Whenever the <code>&#39;badge&#39;</code> <strong>signal assigned by a parent component</strong> updates, the badge text updates.</p>
<code-block language="js" copy-success="Copied!" copy-error="Error trying to copy to clipboard!">
	<p class="meta">
		
		<span class="language">js</span>
	</p>
	<pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline">BadgeButton</span><span style="color:#F92672"> extends</span><span> </span><span style="color:#A6E22E;font-style:italic;text-decoration:underline">UIElement</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#A6E22E">	connectedCallback</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FD971F">		this</span><span style="color:#F8F8F2">.</span><span style="color:#A6E22E">first</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'.badge'</span><span style="color:#F8F8F2">).</span><span style="color:#A6E22E">sync</span><span style="color:#F8F8F2">(</span><span style="color:#A6E22E">setText</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'badge'</span><span style="color:#F8F8F2">));</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span></code></pre>
	<input-button class="copy">
		<button type="button" class="secondary small">Copy</button>
	</input-button>
	
</code-block>
<ul>
<li>✅ The <code>setText(&#39;badge&#39;)</code> effect <strong>keeps the badge in sync</strong> with the <code>&#39;badge&#39;</code> signal.</li>
<li>✅ If badge is an <strong>empty string</strong>, the badge is <strong>hidden</strong>.</li>
</ul>
<p>The <code>BadgeButton</code> <strong>doesn’t care how the badge value is calculated</strong> – just that it gets one!</p>
<h3>Full Example</h3>
<p>Here’s how everything comes together:</p>
<ul>
<li>Each <code>SpinButton</code> <strong>tracks its own count</strong>.</li>
<li>The <code>ProductCatalog</code> <strong>sums all counts and passes the total to <code>BadgeButton</code></strong>.</li>
<li>The <code>BadgeButton</code> <strong>displays the total</strong> if it’s greater than zero.</li>
</ul>
<p><strong>No custom events are needed – state flows naturally!</strong></p>
<component-demo>
<div class="preview">
<product-catalog>
<header>
<p>Shop</p>
<badge-button>
<button type="button">
<span class="label">🛒 Shopping Cart</span>
<span class="badge"></span>
</button>
</badge-button>
</header>
<ul>
<li>
<p>Product 1</p>
<spin-button count="0" zero-label="Add to Cart" increment-label="Increment">
<button type="button" class="decrement" aria-label="Decrement" hidden>−</button>
<p class="count" hidden>0</p>
<button type="button" class="increment">Add to Cart</button>
</spin-button>
</li>
<li>
<p>Product 2</p>
<spin-button count="0" zero-label="Add to Cart" increment-label="Increment">
<button type="button" class="decrement" aria-label="Decrement" hidden>−</button>
<p class="count" hidden>0</p>
<button type="button" class="increment">Add to Cart</button>
</spin-button>
</li>
<li>
<p>Product 3</p>
<spin-button count="0" zero-label="Add to Cart" increment-label="Increment">
<button type="button" class="decrement" aria-label="Decrement" hidden>−</button>
<p class="count" hidden>0</p>
<button type="button" class="increment">Add to Cart</button>
</spin-button>
</li>
</ul>
</product-catalog>
</div>
<accordion-panel collapsible>
<details>
<summary>
<div class="summary">ProductCatalog Source Code</div>
</summary>
<lazy-load src="./examples/product-catalog.html">
<p class="loading">Loading...</p>
</lazy-load>
</details>
</accordion-panel>
<accordion-panel collapsible>
<details>
<summary>
<div class="summary">BadgeButton Source Code</div>
</summary>
<lazy-load src="./examples/badge-button.html">
<p class="loading">Loading...</p>
</lazy-load>
</details>
</accordion-panel>
<accordion-panel collapsible>
<details>
<summary>
<div class="summary">SpinButton Source Code</div>
</summary>
<lazy-load src="./examples/spin-button.html">
<p class="loading">Loading...</p>
</lazy-load>
</details>
</accordion-panel>
</component-demo>

</section>

<section>

<h2>Events Bubbling Up</h2>
</section>

<section>

<h2>Providing Context</h2>
</section>

<section>

<h2>Consuming Context</h2>
</section>
    </main>
    <footer class="content-grid">
		<div class="content">
			<h2 class="visually-hidden">Footer</h2>
			<p>© 2025 Zeix AG</p>
		</div>
	</footer>
</body>
</html>