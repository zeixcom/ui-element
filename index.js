var z=(K)=>typeof K==="function",s=(K,$)=>Object.prototype.toString.call(K)===`[object ${$}]`,v=(K)=>K instanceof Error?K:Error(String(K));class p extends Error{constructor(K){super(`Circular dependency in ${K} detected`);return this}}var k,l=new Set,ZK=0,JK=new Map,r,IK=()=>{r=void 0;let K=Array.from(JK.values());JK.clear();for(let $ of K)$()},DK=()=>{if(r)cancelAnimationFrame(r);r=requestAnimationFrame(IK)};queueMicrotask(IK);var c=(K)=>{let $=new Set,B=K;return B.off=(H)=>{$.add(H)},B.cleanup=()=>{for(let H of $)H();$.clear()},B},_=(K)=>{if(k&&!K.has(k)){let $=k;K.add($),k.off(()=>{K.delete($)})}},F=(K)=>{for(let $ of K)if(ZK)l.add($);else $()},a=()=>{while(l.size){let K=Array.from(l);l.clear();for(let $ of K)$()}},t=(K)=>{ZK++;try{K()}finally{a(),ZK--}},u=(K,$)=>{let B=k;k=$;try{K()}finally{k=B}},b=(K,$)=>new Promise((B,H)=>{JK.set($||Symbol(),()=>{try{B(K())}catch(Z){H(Z)}}),DK()});var LK="State",e=(K)=>{let $=new Set,B=K,H={[Symbol.toStringTag]:LK,get:()=>{return _($),B},set:(Z)=>{if(Object.is(B,Z))return;if(B=Z,F($),V===B)$.clear()},update:(Z)=>{H.set(Z(B))}};return H},P=(K)=>s(K,LK);var E="Computed",N=(K)=>{let $=new Set,B=V,H,Z,J=!0,L=!1,W=!1,A=(x)=>{if(!Object.is(x,B))B=x,L=!0;H=void 0,J=!1},G=()=>{L=V!==B,B=V,H=void 0},j=(x)=>{let q=v(x);L=!H||q.name!==H.name||q.message!==H.message,B=V,H=q},Q=(x)=>(q)=>{if(W=!1,Z=void 0,x(q),L)F($)},X=c(()=>{if(J=!0,Z?.abort("Aborted because source signal changed"),$.size)F($);else X.cleanup()}),C=()=>u(()=>{if(W)throw new p("computed");if(L=!1,z(K)&&K.constructor.name==="AsyncFunction"){if(Z)return B;Z=new AbortController,Z.signal.addEventListener("abort",()=>{W=!1,Z=void 0,C()},{once:!0})}let x;W=!0;try{x=Z?K(Z.signal):K()}catch(q){if(q instanceof DOMException&&q.name==="AbortError")G();else j(q);W=!1;return}if(x instanceof Promise)x.then(Q(A),Q(j));else if(x==null||V===x)G();else A(x);W=!1},X);return{[Symbol.toStringTag]:E,get:()=>{if(_($),a(),J)C();if(H)throw H;return B}}},g=(K)=>s(K,E),WK=(K)=>z(K)&&K.length<2;var V=Symbol(),D=(K)=>P(K)||g(K),R=(K)=>D(K)?K:WK(K)?N(K):e(K);function f(K){let{signals:$,ok:B,err:H=console.error,nil:Z=()=>{}}=z(K)?{signals:[],ok:K}:K,J=!1,L=c(()=>u(()=>{if(J)throw new p("effect");J=!0;let W=[],A=!1,G=$.map((Q)=>{try{let X=Q.get();if(X===V)A=!0;return X}catch(X){return W.push(v(X)),V}}),j=void 0;try{j=A?Z():W.length?H(...W):B(...G)}catch(Q){j=H(v(Q))}finally{if(z(j))L.off(j)}J=!1},L));return L(),()=>L.cleanup()}var M=!1,PK="debug",RK="info",UK="warn",T="error",TK=(K)=>K?`#${K}`:"",wK=(K)=>K?.length?`.${Array.from(K).join(".")}`:"",i=(K)=>!!K&&typeof K==="object",U=(K)=>typeof K==="string",FK=(K,$)=>U($)&&($ in K)&&z(K[$]),MK=(K)=>K.nodeType===Node.ELEMENT_NODE,n=(K)=>K.localName.includes("-");var Y=(K)=>K?`<${K.localName}${TK(K.id)}${wK(K.classList)}>`:"<unknown>",d=(K)=>U(K)?`"${K}"`:i(K)?JSON.stringify(K):String(K),KK=(K)=>{if(K===null)return"null";if(typeof K!=="object")return typeof K;if(Array.isArray(K))return"Array";if(Symbol.toStringTag in Object(K))return K[Symbol.toStringTag];return K.constructor?.name||"Object"},y=(K,$,B=PK)=>{if(M||[T,UK].includes(B))console[B]($,K);return K};class AK extends Error{constructor(K,$){super(`Circular dependency detected in selection signal for component ${Y(K)} with selector "${$}"`);this.name="CircularMutationError"}}class QK extends Error{constructor(K){super(`Invalid component name "${K}". Custom element names must contain a hyphen, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.`);this.name="InvalidComponentNameError"}}class XK extends Error{constructor(K,$,B){super(`Expected element ${Y($)} in ${Y(K)} to be a custom element.${B?` ${B}`:""}`);this.name="InvalidCustomElementError"}}class $K extends Error{constructor(K,$,B){super(`Invalid property name "${$}" for component <${K}>. ${B}`);this.name="InvalidPropertyNameError"}}class YK extends Error{constructor(K,$){super(`Invalid effects in component <${Y(K)}>. Effects must be an array of effects, a single effect function, or a Promise that resolves to effects.`);if(this.name="InvalidEffectsError",$)this.cause=$}}class GK extends Error{constructor(K,$){super(`Expected signal as value for property "${String($)}" in component ${Y(K)}.`);this.name="InvalidSignalError"}}class h extends Error{constructor(K,$,B){super(`Missing required element <${$}> in component ${Y(K)}. ${B}`);this.name="MissingElementError"}}var NK=(K)=>{let $=new Set;if(K.includes("."))$.add("class");if(K.includes("#"))$.add("id");if(K.includes("[")){let B=K.split("[");for(let H=1;H<B.length;H++){let Z=B[H];if(!Z.includes("]"))continue;let J=Z.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(J)$.add(J)}}return[...$]},SK=(K,$)=>{if(K.length!==$.length)return!1;let B=new Set(K);for(let H of $)if(!B.has(H))return!1;return!0},o=(K)=>z(K)&&K.length>=2,I=(K,$)=>z($)?$(K):$,BK=(K,$)=>(B)=>{let H=B.shadowRoot??B,Z=(L,W)=>{let A=H.querySelector(L);if(!A)return;let G=W(A);if(G!=null)return G},J=void 0;for(let[L,W]of Object.entries($))if(J=Z(L,W),J!=null)break;return U(J)&&o(K)?K(B,J):J??I(B,K)},jK=(K,$,B)=>{let H=new MutationObserver(B),Z={childList:!0,subtree:!0},J=NK($);if(J.length)Z.attributes=!0,Z.attributeFilter=J;return H.observe(K,Z),H};function CK(K){return($)=>{let B=new Set,H=()=>Array.from(($.shadowRoot??$).querySelectorAll(K)),Z=V,J,L=0,W=2,A=()=>{Z=H(),J=jK($,K,()=>{if(!B.size){J?.disconnect(),J=void 0;return}if(L++,L>W)throw J?.disconnect(),J=void 0,L=0,new AK($,K);try{let G=H();if(!SK(Z,G))Z=G,F(B)}finally{L--}})};return{[Symbol.toStringTag]:E,get(){if(_(B),!B.size)Z=H();else if(!J)A();return Z}}}}var kK=(K,$,B,H)=>N(()=>CK($)(K).get().reduce(B,H)),bK=(K,$,B)=>{if(!K)return()=>B;if(!n(K))throw new TypeError("Target element must be a custom element");let H=N(async()=>{return await customElements.whenDefined(K.localName),K.getSignal($)});return()=>{let Z=H.get();return Z===V?B:Z.get()}};function OK(K,$,B,H){let Z=(K.shadowRoot||K).querySelector($);if(Z){if(H&&!n(Z))throw new XK(K,Z,B);return Z}throw new h(K,$,B)}function EK(K,$,B){return(H)=>{let Z=OK(H,K,B,!0);return N(async()=>{return await customElements.whenDefined(Z.localName),$(Z)})}}var fK=new Set(["constructor","prototype"]),pK=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),qK=(K)=>{if(fK.has(K))return`Property name "${K}" is a reserved word`;if(pK.has(K))return`Property name "${K}" conflicts with inherited HTMLElement property`;return null},HK=(K,$,B=$)=>{try{if(K instanceof Promise)throw K;if(!Array.isArray(K))return K($,B);let H=K.filter(z).map((Z)=>Z($,B));return()=>{H.filter(z).forEach((Z)=>Z()),H.length=0}}catch(H){if(H instanceof Promise)H.then(()=>HK(K,$,B));else throw new YK($,H instanceof Error?H:new Error(String(H)))}},gK=()=>({first(K,$,B){return(H)=>{let Z=(H.shadowRoot??H).querySelector(K);if(!Z&&B!=null)throw new h(H,K,B);if(Z)HK($,H,Z)}},all(K,$,B){return(H)=>{let Z=new Map,J=H.shadowRoot??H,L=(Q)=>{let X=HK($,H,Q);if(X&&!Z.has(Q))Z.set(Q,X)},W=(Q)=>{let X=Z.get(Q);if(X)X();Z.delete(Q)},A=(Q)=>(X)=>{if(MK(X)){if(X.matches(K))Q(X);X.querySelectorAll(K).forEach(Q)}},G=jK(J,K,(Q)=>{for(let X of Q)X.addedNodes.forEach(A(L)),X.removedNodes.forEach(A(W))}),j=J.querySelectorAll(K);if(!j.length&&B!=null)throw new h(H,K,B);if(j.length)j.forEach(L);return()=>{G.disconnect(),Z.forEach((Q)=>Q()),Z.clear()}}}}),dK=(K,$={},B)=>{if(!K.includes("-")||!K.match(/^[a-z][a-z0-9-]*$/))throw new QK(K);for(let Z of Object.keys($)){let J=qK(Z);if(J)throw new $K(K,Z,J)}class H extends HTMLElement{debug;#K={};#$;static observedAttributes=Object.entries($)?.filter(([,Z])=>o(Z)).map(([Z])=>Z)??[];connectedCallback(){if(M){if(this.debug=this.hasAttribute("debug"),this.debug)y(this,"Connected")}for(let[J,L]of Object.entries($)){if(L==null||J in this)continue;let W=z(L)?L(this,null):L;if(W!=null)this.setSignal(J,R(W))}let Z=HK(B(this,gK()),this);if(Z)this.#$=Z}disconnectedCallback(){if(z(this.#$))this.#$();if(M&&this.debug)y(this,"Disconnected")}attributeChangedCallback(Z,J,L){if(L===J||g(this.#K[Z]))return;let W=$[Z];if(!o(W))return;let A=W(this,L,J);if(M&&this.debug)y(L,`Attribute "${String(Z)}" of ${Y(this)} changed from ${d(J)} to ${d(L)}, parsed as <${KK(A)}> ${d(A)}`);if(Z in this)this[Z]=A;else this.setSignal(Z,R(A))}getSignal(Z){let J=this.#K[Z];if(M&&this.debug)y(J,`Get ${KK(J)} "${String(Z)}" in ${Y(this)}`);return J}setSignal(Z,J){let L=qK(String(Z));if(L)throw new $K(this.localName,Z,L);if(!D(J))throw new GK(this,Z);let W=this.#K[Z],A=P(J);if(this.#K[Z]=J,Object.defineProperty(this,Z,{get:J.get,set:A?J.set:void 0,enumerable:!0,configurable:A}),W&&P(W))W.set(V);if(M&&this.debug)y(J,`Set ${KK(J)} "${String(Z)} in ${Y(this)}`)}}customElements.define(K,H)};var S=Symbol("RESET"),m=(K,$,B,H)=>{try{return U(K)?$.getSignal(K).get():D(K)?K.get():z(K)?K(B):S}catch(Z){if(H)y(Z,`Failed to resolve value of ${d(K)}${H?` for ${H}`:""} in ${Y(B)}${$!==B?` in ${Y($)}`:""}`,T);return S}};var hK=(K,$,B)=>(H)=>{let Z=new Set,J=I(H,K),L=new Map,W,A=()=>{for(let[G,j]of Object.entries(B)){let Q=(X)=>{let C=X.target;if(!C)return;let O=C.closest($);if(!O||!H.contains(O))return;X.stopPropagation();try{let x=j({event:X,host:H,target:O,value:J});if(x==null)return;if(!Object.is(x,J)){if(J=x,Z.size>0)F(Z);else if(W)W()}}catch(x){throw X.stopImmediatePropagation(),x}};L.set(G,Q),H.addEventListener(G,Q)}W=()=>{if(L.size){for(let[G,j]of L)H.removeEventListener(G,j);L.clear()}W=void 0}};return{[Symbol.toStringTag]:E,get(){if(_(Z),Z.size&&!L.size)A();return J}}},mK=(K,$,B=!1)=>(H,Z)=>{let J=(L)=>{let W=$({host:H,target:Z,event:L});if(!i(W))return;t(()=>{for(let[A,G]of Object.entries(W)){let j=H.getSignal(A);if(P(j))j.set(G);else y(G,`Reactive property "${A}" on ${Y(H)} from event ${K} on ${Y(Z)} could not be set, because it is read-only.`,T)}})};return Z.addEventListener(K,J,B),()=>Z.removeEventListener(K,J)},vK=(K,$)=>(B,H)=>f(()=>{let Z=m($,B,H,`custom event "${K}" detail`);if(Z===S||Z===V)return;H.dispatchEvent(new CustomEvent(K,{detail:Z,bubbles:!0}))});var zK="context-request";class _K extends Event{K;$;B;constructor(K,$,B=!1){super(zK,{bubbles:!0,composed:!0});this.context=K;this.callback=$;this.subscribe=B}}var cK=(K)=>($)=>{let B=(H)=>{let{context:Z,callback:J}=H;if(K.includes(Z)&&z(J))H.stopImmediatePropagation(),J($.getSignal(String(Z)))};return $.addEventListener(zK,B),()=>$.removeEventListener(zK,B)},uK=(K,$)=>(B)=>{let H=R(I(B,$));return B.dispatchEvent(new _K(K,(Z)=>{H=Z})),H};var VK=(K,$)=>{if($==null)return;let B=K($);return Number.isFinite(B)?B:void 0},iK=()=>(K,$)=>$!=null&&$!=="false",nK=(K=0)=>($,B)=>{if(B==null)return I($,K);let H=B.trim();if(H.toLowerCase().startsWith("0x"))return VK((J)=>parseInt(J,16),H)??I($,K);let Z=VK(parseFloat,B);return Z!=null?Math.trunc(Z):I($,K)},oK=(K=0)=>($,B)=>VK(parseFloat,B)??I($,K),sK=(K="")=>($,B)=>B??I($,K),lK=(K)=>($,B)=>{if(B==null)return K[0];let H=B.toLowerCase();return K.find((J)=>J.toLowerCase()===H)?B:K[0]},rK=(K)=>($,B)=>{if((B??K)==null)throw new TypeError("asJSON: Value and fallback are both null or undefined");if(B==null)return I($,K);if(B==="")throw new TypeError("Empty string is not valid JSON");let H;try{H=JSON.parse(B)}catch(Z){throw new SyntaxError(`Failed to parse JSON: ${String(Z)}`,{cause:Z})}return H??I($,K)};var aK=(K,$="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[K]+$},tK=(K,$,B,H,Z)=>{return{ok:(W)=>()=>{if(M&&K.debug)y($,`${W} ${B} of ${Y($)} in ${Y(K)}`);H?.($)},err:(W)=>(A)=>{y(A,`Failed to ${W} ${B} of ${Y($)} in ${Y(K)}`,T),Z?.(A)}}},eK=(K)=>{if(/^(mailto|tel):/i.test(K))return!0;if(K.includes("://"))try{let $=new URL(K,window.location.origin);return["http:","https:","ftp:"].includes($.protocol)}catch{return!1}return!0},K$=(K,$,B)=>{if(/^on/i.test($))throw new Error(`Unsafe attribute: ${$}`);if(B=String(B).trim(),!eK(B))throw new Error(`Unsafe URL for ${$}: ${B}`);K.setAttribute($,B)},w=(K,$)=>(B,H)=>{let{op:Z,name:J="",read:L,update:W}=$,A=L(H),G=aK(Z,J);if(U(K)&&U(A)&&B[K]===S)B.attributeChangedCallback(K,null,A);let{ok:j,err:Q}=tK(B,H,G,$.resolve,$.reject);return f(()=>{let X=Symbol(J?`${Z}:${J}`:Z),C=m(K,B,H,G),O=C===S?A:C===V?$.delete?null:A:C;if($.delete&&O===null)b(()=>{return $.delete(H),!0},X).then(j("Deleted")).catch(Q("delete"));else if(O!=null){let x=L(H);if(Object.is(O,x))return;b(()=>{return W(H,O),!0},X).then(j("Updated")).catch(Q("update"))}})},$$=(K,$)=>(B,H)=>{let Z=(L)=>()=>{if(M&&B.debug)y(H,`${L} element in ${Y(H)} in ${Y(B)}`);if(z($?.resolve))$.resolve(H);else{let W=D(K)?K:U(K)?B.getSignal(K):void 0;if(P(W))W.set(0)}},J=(L)=>(W)=>{y(W,`Failed to ${L} element in ${Y(H)} in ${Y(B)}`,T),$?.reject?.(W)};return f(()=>{let L=Symbol("i"),W=Symbol("r"),A=m(K,B,H,"insertion or deletion"),G=A===S?0:A;if(G>0){if(!$)throw new TypeError("No inserter provided");b(()=>{for(let j=0;j<G;j++){let Q=$.create(H);if(!Q)continue;H.insertAdjacentElement($.position??"beforeend",Q)}return!0},L).then(Z("Inserted")).catch(J("insert"))}else if(G<0)b(()=>{if($&&($.position==="afterbegin"||$.position==="beforeend"))for(let j=0;j>G;j--)if($.position==="afterbegin")H.firstElementChild?.remove();else H.lastElementChild?.remove();else H.remove();return!0},W).then(Z("Removed")).catch(J("remove"))})},B$=(K)=>w(K,{op:"t",read:($)=>$.textContent,update:($,B)=>{Array.from($.childNodes).filter((H)=>H.nodeType!==Node.COMMENT_NODE).forEach((H)=>H.remove()),$.append(document.createTextNode(B))}}),H$=(K,$=K)=>w($,{op:"p",name:K,read:(B)=>(K in B)?B[K]:V,update:(B,H)=>{B[K]=H}}),Z$=(K)=>w(K,{op:"p",name:"hidden",read:($)=>!$.hidden,update:($,B)=>{$.hidden=!B}});var J$=(K,$=K)=>w($,{op:"a",name:K,read:(B)=>B.getAttribute(K),update:(B,H)=>{K$(B,K,H)},delete:(B)=>{B.removeAttribute(K)}}),L$=(K,$=K)=>w($,{op:"a",name:K,read:(B)=>B.hasAttribute(K),update:(B,H)=>{B.toggleAttribute(K,H)}}),W$=(K,$=K)=>w($,{op:"c",name:K,read:(B)=>B.classList.contains(K),update:(B,H)=>{B.classList.toggle(K,H)}}),A$=(K,$=K)=>w($,{op:"s",name:K,read:(B)=>B.style.getPropertyValue(K),update:(B,H)=>{B.style.setProperty(K,H)},delete:(B)=>{B.style.removeProperty(K)}}),Q$=(K,$={})=>w(K,{op:"h",read:(B)=>(B.shadowRoot||!$.shadowRootMode?B:null)?.innerHTML??"",update:(B,H)=>{let{shadowRootMode:Z,allowScripts:J}=$;if(!H){if(B.shadowRoot)B.shadowRoot.innerHTML="<slot></slot>";return""}if(Z&&!B.shadowRoot)B.attachShadow({mode:Z});let L=B.shadowRoot||B;if(L.innerHTML=H,!J)return"";return L.querySelectorAll("script").forEach((W)=>{let A=document.createElement("script");A.appendChild(document.createTextNode(W.textContent??"")),L.appendChild(A),W.remove()})," with scripts"}}),X$=(K)=>($,B)=>{if(!i(K))throw new TypeError("Reactives must be an object of passed signals");if(!n(B))throw new TypeError(`Target ${Y(B)} is not a custom element`);customElements.whenDefined(B.localName).then(()=>{if(!FK(B,"setSignal"))throw new TypeError(`Target ${Y(B)} is not a UIElement component`);for(let[H,Z]of Object.entries(K))B.setSignal(H,U(Z)?$.getSignal(Z):R(Z))}).catch((H)=>{throw new Error(`Failed to pass signals to ${Y(B)}`,{cause:H})})};var xK=()=>(K)=>K.textContent?.trim(),Y$=(K)=>($)=>$[K],G$=(K)=>($)=>$.hasAttribute(K),yK=(K)=>($)=>$.getAttribute(K),j$=(K)=>($)=>$.classList.contains(K),z$=(K)=>($)=>window.getComputedStyle($).getPropertyValue(K),V$=(K)=>BK("",{".label":xK(),[K]:yK("aria-label")}),x$=(K)=>BK("",{".description":xK(),[K]:yK("aria-describedby")});export{w as updateElement,W$ as toggleClass,L$ as toggleAttribute,R as toSignal,e as state,Z$ as show,B$ as setText,A$ as setStyle,H$ as setProperty,J$ as setAttribute,m as resolveReactive,OK as requireElement,kK as reduced,bK as read,cK as provideContexts,X$ as pass,mK as on,y as log,P as isState,D as isSignal,o as isParser,g as isComputed,$$ as insertOrRemoveElement,j$ as hasClass,G$ as hasAttribute,xK as getText,z$ as getStyle,Y$ as getProperty,V$ as getLabel,I as getFallback,x$ as getDescription,yK as getAttribute,CK as fromSelector,hK as fromEvents,BK as fromDOM,uK as fromContext,EK as fromComponent,b as enqueue,vK as emitEvent,f as effect,Q$ as dangerouslySetInnerHTML,N as computed,dK as component,t as batch,sK as asString,oK as asNumber,rK as asJSON,nK as asInteger,lK as asEnum,iK as asBoolean,V as UNSET,UK as LOG_WARN,RK as LOG_INFO,T as LOG_ERROR,PK as LOG_DEBUG};

//# debugId=44F3FC45CE89F5D364756E2164756E21
