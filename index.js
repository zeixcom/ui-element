var G=(K)=>typeof K==="function",o=(K,$)=>Object.prototype.toString.call(K)===`[object ${$}]`,m=(K)=>K instanceof Error?K:Error(String(K));class d extends Error{constructor(K){super(`Circular dependency in ${K} detected`);return this}}var N,n=new Set,e=0,KK=new Map,s,GK=()=>{s=void 0;let K=Array.from(KK.values());KK.clear();for(let $ of K)$()},UK=()=>{if(s)cancelAnimationFrame(s);s=requestAnimationFrame(GK)};queueMicrotask(GK);var v=(K)=>{let $=new Set,B=K;return B.off=(H)=>{$.add(H)},B.cleanup=()=>{for(let H of $)H();$.clear()},B},_=(K)=>{if(N&&!K.has(N)){let $=N;K.add($),N.off(()=>{K.delete($)})}},P=(K)=>{for(let $ of K)if(e)n.add($);else $()},l=()=>{while(n.size){let K=Array.from(n);n.clear();for(let $ of K)$()}},YK=(K)=>{e++;try{K()}finally{l(),e--}},u=(K,$)=>{let B=N;N=$;try{K()}finally{N=B}},S=(K,$)=>new Promise((B,H)=>{KK.set($||Symbol(),()=>{try{B(K())}catch(Z){H(Z)}}),UK()});var $K="State",r=(K)=>{let $=new Set,B=K,H={[Symbol.toStringTag]:$K,get:()=>{return _($),B},set:(Z)=>{if(Object.is(B,Z))return;if(B=Z,P($),I===B)$.clear()},update:(Z)=>{H.set(Z(B))}};return H},R=(K)=>o(K,$K);var E="Computed",k=(K)=>{let $=new Set,B=I,H,Z,L=!0,J=!1,W=!1,A=(y)=>{if(!Object.is(y,B))B=y,J=!0;H=void 0,L=!1},Q=()=>{J=I!==B,B=I,H=void 0},X=(y)=>{let O=m(y);J=!H||O.name!==H.name||O.message!==H.message,B=I,H=O},j=(y)=>(O)=>{if(W=!1,Z=void 0,y(O),J)P($)},x=v(()=>{if(L=!0,Z?.abort("Aborted because source signal changed"),$.size)P($);else x.cleanup()}),M=()=>u(()=>{if(W)throw new d("computed");if(J=!1,G(K)&&K.constructor.name==="AsyncFunction"){if(Z)return B;Z=new AbortController,Z.signal.addEventListener("abort",()=>{W=!1,Z=void 0,M()},{once:!0})}let y;W=!0;try{y=Z?K(Z.signal):K()}catch(O){if(O instanceof DOMException&&O.name==="AbortError")Q();else X(O);W=!1;return}if(y instanceof Promise)y.then(j(A),j(X));else if(y==null||I===y)Q();else A(y);W=!1},x);return{[Symbol.toStringTag]:E,get:()=>{if(_($),l(),L)M();if(H)throw H;return B}}},p=(K)=>o(K,E),BK=(K)=>G(K)&&K.length<2;var I=Symbol(),D=(K)=>R(K)||p(K),T=(K)=>D(K)?K:BK(K)?k(K):r(K);function b(K){let{signals:$,ok:B,err:H=console.error,nil:Z=()=>{}}=G(K)?{signals:[],ok:K}:K,L=!1,J=v(()=>u(()=>{if(L)throw new d("effect");L=!0;let W=[],A=!1,Q=$.map((j)=>{try{let x=j.get();if(x===I)A=!0;return x}catch(x){return W.push(m(x)),I}}),X=void 0;try{X=A?Z():W.length?H(...W):B(...Q)}catch(j){X=H(m(j))}finally{if(G(X))J.off(X)}L=!1},J));return J(),()=>J.cleanup()}var C=!1,IK="debug",MK="info",yK="warn",f="error",FK=(K)=>K?`#${K}`:"",OK=(K)=>K?.length?`.${Array.from(K).join(".")}`:"",HK=(K)=>!!K&&typeof K==="object",V=(K)=>typeof K==="string",ZK=(K,$)=>V($)&&($ in K)&&G(K[$]),jK=(K)=>K.nodeType===Node.ELEMENT_NODE,c=(K)=>K.localName.includes("-"),xK=(K)=>{if(!c(K))return!0;let $=customElements.get(K.localName);return!!$&&K instanceof $},Y=(K)=>K?`<${K.localName}${FK(K.id)}${OK(K.classList)}>`:"<unknown>",g=(K)=>V(K)?`"${K}"`:HK(K)?JSON.stringify(K):String(K),a=(K)=>{if(K===null)return"null";if(typeof K!=="object")return typeof K;if(Array.isArray(K))return"Array";if(Symbol.toStringTag in Object(K))return K[Symbol.toStringTag];return K.constructor?.name||"Object"},q=(K,$,B=IK)=>{if(C||[f,yK].includes(B))console[B]($,K);return K};class zK extends Error{constructor(K){super(K);this.name="CircularMutationError"}}var _K=(K)=>{let $=new Set;if(K.includes("."))$.add("class");if(K.includes("#"))$.add("id");if(K.includes("[")){let B=K.split("[");for(let H=1;H<B.length;H++){let Z=B[H];if(!Z.includes("]"))continue;let L=Z.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(L)$.add(L)}}return[...$]},RK=(K,$)=>{if(K.length!==$.length)return!1;let B=new Set(K);for(let H of $)if(!B.has(H))return!1;return!0},i=(K)=>G(K)&&K.length>=2,z=(K,$)=>G($)?$(K):$,DK=(K,...$)=>(B)=>{let H=B.querySelector(K);if(!H)return;for(let Z of $){let L=Z(H);if(L!==void 0)return L}},t=(K,$)=>(B)=>{let H=(L,J)=>{let W=B.querySelector(L);if(!W)return;let A=J(W);if(A!=null)return A},Z=void 0;for(let[L,J]of Object.entries($))if(Z=H(L,J),Z!=null)break;return V(Z)&&i(K)?K(B,Z):Z??z(B,K)},LK=(K,$,B)=>{let H=new MutationObserver(B),Z={childList:!0,subtree:!0},L=_K($);if(L.length)Z.attributes=!0,Z.attributeFilter=L;return H.observe(K,Z),H},qK=(K)=>($)=>{let B=new Set,H=()=>Array.from($.querySelectorAll(K)),Z=I,L,J=0,W=2,A=()=>{Z=H(),L=LK($,K,()=>{if(!B.size){L?.disconnect(),L=void 0;return}if(J++,J>W)throw L?.disconnect(),L=void 0,J=0,new zK("Circular mutation in element selection detected");try{let Q=H();if(!RK(Z,Q))Z=Q,P(B)}finally{J--}})};return{[Symbol.toStringTag]:E,get(){if(_(B),!B.size)Z=H();else if(!L)A();return Z}}},TK=(K,$,B,H)=>k(()=>qK($)(K).get().reduce(B,H)),wK=(K,$,B)=>{let H=K.querySelector($);return B(H,H?xK(H):!1)},VK=(K,$,B=!1)=>{let H=K.querySelector($);if(H){if(B&&!c(H))throw new Error(`Element ${$} is not a custom element`);return H}throw new Error(`Component ${Y(K)} does not contain required <${$}> element`)},NK=(K,$,B)=>(H)=>{let Z=VK(H,K,!0);return k(async()=>{return await customElements.whenDefined(Z.localName),$(Z)??z(H,B)})};var SK=new Set(["constructor","prototype"]),EK=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),PK=(K)=>{if(SK.has(K))return`Property name "${K}" is a reserved word`;if(EK.has(K))return`Property name "${K}" conflicts with inherited HTMLElement property`;return null},JK=(K,$,B=$)=>{let H=K.filter(G).map((Z)=>Z($,B));return()=>{H.filter(G).forEach((Z)=>Z()),H.length=0}},kK=()=>({first:(K,...$)=>(B)=>{let H=(B.shadowRoot||B).querySelector(K);if(H)JK($,B,H)},all:(K,...$)=>(B)=>{let H=new Map,Z=B.shadowRoot||B,L=(Q)=>{if(!H.has(Q))H.set(Q,JK($,B,Q))},J=(Q)=>{let X=H.get(Q);if(G(X))X();H.delete(Q)},W=(Q)=>(X)=>{if(jK(X)){if(X.matches(K))Q(X);X.querySelectorAll(K).forEach(Q)}},A=LK(Z,K,(Q)=>{for(let X of Q)X.addedNodes.forEach(W(L)),X.removedNodes.forEach(W(J))});return Z.querySelectorAll(K).forEach(L),()=>{A.disconnect(),H.forEach((Q)=>Q()),H.clear()}}}),bK=(K,$={},B)=>{for(let Z of Object.keys($)){let L=PK(Z);if(L)throw new TypeError(`${L} in component "${K}".`)}class H extends HTMLElement{debug;#K={};#$;static observedAttributes=Object.entries($)?.filter(([,Z])=>i(Z)).map(([Z])=>Z)??[];connectedCallback(){if(C){if(this.debug=this.hasAttribute("debug"),this.debug)q(this,"Connected")}for(let[L,J]of Object.entries($)){if(J==null||L in this)continue;let W=G(J)?J(this,null):J;if(W!=null)this.setSignal(L,T(W))}let Z=B(this,kK());if(!Array.isArray(Z))throw new TypeError(`Expected array of functions as return value of setup function in ${Y(this)}`);this.#$=JK(Z,this)}disconnectedCallback(){if(G(this.#$))this.#$();if(C&&this.debug)q(this,"Disconnected")}attributeChangedCallback(Z,L,J){if(J===L||p(this.#K[Z]))return;let W=$[Z];if(!i(W))return;let A=W(this,J,L);if(C&&this.debug)q(J,`Attribute "${String(Z)}" of ${Y(this)} changed from ${g(L)} to ${g(J)}, parsed as <${a(A)}> ${g(A)}`);if(Z in this)this[Z]=A;else this.setSignal(Z,T(A))}getSignal(Z){let L=this.#K[Z];if(C&&this.debug)q(L,`Get ${a(L)} "${String(Z)}" in ${Y(this)}`);return L}setSignal(Z,L){let J=PK(String(Z));if(J)throw new TypeError(`${J} on ${Y(this)}.`);if(!D(L))throw new TypeError(`Expected signal as value for property "${String(Z)}" on ${Y(this)}.`);let W=this.#K[Z],A=R(L);if(this.#K[Z]=L,Object.defineProperty(this,Z,{get:L.get,set:A?L.set:void 0,enumerable:!0,configurable:A}),W&&R(W))W.set(I);if(C&&this.debug)q(L,`Set ${a(L)} "${String(Z)} in ${Y(this)}`)}}customElements.define(K,H)};var w=Symbol("RESET"),h=(K,$,B,H)=>{try{return V(K)?$.getSignal(K).get():D(K)?K.get():G(K)?K(B):w}catch(Z){if(H)q(Z,`Failed to resolve value of ${g(K)}${H?` for ${H}`:""} in ${Y(B)}${$!==B?` in ${Y($)}`:""}`,f);return w}};var fK=(K,$,B)=>(H)=>{let Z=new Set,L=z(H,K),J=new Map,W,A=()=>{for(let[Q,X]of Object.entries(B)){let j=(x)=>{let M=x.target;if(!M)return;let F=M.closest($);if(!F||!H.contains(F))return;x.stopPropagation();try{let y=X({event:x,host:H,target:F,value:L});if(y==null)return;if(!Object.is(y,L)){if(L=y,Z.size>0)P(Z);else if(W)W()}}catch(y){throw x.stopImmediatePropagation(),y}};J.set(Q,j),H.addEventListener(Q,j)}W=()=>{if(J.size){for(let[Q,X]of J)H.removeEventListener(Q,X);J.clear()}W=void 0}};return{[Symbol.toStringTag]:E,get(){if(_(Z),Z.size&&!J.size)A();return L}}},dK=(K,$,B=!1)=>(H,Z)=>{if(!G($))throw new TypeError(`Invalid event listener provided for "${K} event on element ${Y(Z)}`);return Z.addEventListener(K,$,B),()=>Z.removeEventListener(K,$)},pK=(K,$)=>(B,H)=>b(()=>{let Z=h($,B,H,`custom event "${K}" detail`);if(Z===w||Z===I)return;H.dispatchEvent(new CustomEvent(K,{detail:Z,bubbles:!0}))});var WK="context-request";class CK extends Event{K;$;B;constructor(K,$,B=!1){super(WK,{bubbles:!0,composed:!0});this.context=K;this.callback=$;this.subscribe=B}}var gK=(K)=>($)=>{let B=(H)=>{let{context:Z,callback:L}=H;if(K.includes(Z)&&G(L))H.stopImmediatePropagation(),L($.getSignal(String(Z)))};return $.addEventListener(WK,B),()=>$.removeEventListener(WK,B)},hK=(K,$)=>(B)=>{let H=T(z(B,$));return B.dispatchEvent(new CK(K,(Z)=>{H=Z})),H};var AK=(K,$)=>{if($==null)return;let B=K($);return Number.isFinite(B)?B:void 0},mK=()=>(K,$)=>$!=null&&$!=="false",vK=(K=0)=>($,B)=>{if(B==null)return z($,K);let H=B.trim();if(H.toLowerCase().startsWith("0x"))return AK((L)=>parseInt(L,16),H)??z($,K);let Z=AK(parseFloat,B);return Z!=null?Math.trunc(Z):z($,K)},uK=(K=0)=>($,B)=>AK(parseFloat,B)??z($,K),cK=(K="")=>($,B)=>B??z($,K),iK=(K)=>($,B)=>{if(B==null)return K[0];let H=B.toLowerCase();return K.find((L)=>L.toLowerCase()===H)?B:K[0]},oK=(K)=>($,B)=>{if((B??K)==null)throw new TypeError("asJSON: Value and fallback are both null or undefined");if(B==null)return z($,K);if(B==="")throw new TypeError("Empty string is not valid JSON");let H;try{H=JSON.parse(B)}catch(Z){throw new SyntaxError(`Failed to parse JSON: ${String(Z)}`,{cause:Z})}return H??z($,K)};var nK=(K,$="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[K]+$},sK=(K,$,B,H,Z)=>{return{ok:(W)=>()=>{if(C&&K.debug)q($,`${W} ${B} of ${Y($)} in ${Y(K)}`);H?.($)},err:(W)=>(A)=>{q(A,`Failed to ${W} ${B} of ${Y($)} in ${Y(K)}`,f),Z?.(A)}}},lK=(K)=>{if(/^(mailto|tel):/i.test(K))return!0;if(K.includes("://"))try{let $=new URL(K,window.location.origin);return["http:","https:","ftp:"].includes($.protocol)}catch{return!1}return!0},rK=(K,$,B)=>{if(/^on/i.test($))throw new Error(`Unsafe attribute: ${$}`);if(B=String(B).trim(),!lK(B))throw new Error(`Unsafe URL for ${$}: ${B}`);K.setAttribute($,B)},U=(K,$)=>(B,H)=>{let{op:Z,name:L="",read:J,update:W}=$,A=J(H),Q=nK(Z,L);if(V(K)&&V(A)&&B[K]===w)B.attributeChangedCallback(K,null,A);let{ok:X,err:j}=sK(B,H,Q,$.resolve,$.reject);return b(()=>{let x=Symbol(L?`${Z}:${L}`:Z),M=h(K,B,H,Q),F=M===w?A:M===I?$.delete?null:A:M;if($.delete&&F===null)S(()=>{return $.delete(H),!0},x).then(X("Deleted")).catch(j("delete"));else if(F!=null){let y=J(H);if(Object.is(F,y))return;S(()=>{return W(H,F),!0},x).then(X("Updated")).catch(j("update"))}})},aK=(K,$)=>(B,H)=>{let Z=(J)=>()=>{if(C&&B.debug)q(H,`${J} element in ${Y(H)} in ${Y(B)}`);if(G($?.resolve))$.resolve(H);else{let W=D(K)?K:V(K)?B.getSignal(K):void 0;if(R(W))W.set(0)}},L=(J)=>(W)=>{q(W,`Failed to ${J} element in ${Y(H)} in ${Y(B)}`,f),$?.reject?.(W)};return b(()=>{let J=Symbol("i"),W=Symbol("r"),A=h(K,B,H,"insertion or deletion"),Q=A===w?0:A;if(Q>0){if(!$)throw new TypeError("No inserter provided");S(()=>{for(let X=0;X<Q;X++){let j=$.create(H);if(!j)continue;H.insertAdjacentElement($.position??"beforeend",j)}return!0},J).then(Z("Inserted")).catch(L("insert"))}else if(Q<0)S(()=>{if($&&($.position==="afterbegin"||$.position==="beforeend"))for(let X=0;X>Q;X--)if($.position==="afterbegin")H.firstElementChild?.remove();else H.lastElementChild?.remove();else H.remove();return!0},W).then(Z("Removed")).catch(L("remove"))})},tK=(K)=>U(K,{op:"t",read:($)=>$.textContent,update:($,B)=>{Array.from($.childNodes).filter((H)=>H.nodeType!==Node.COMMENT_NODE).forEach((H)=>H.remove()),$.append(document.createTextNode(B))}}),eK=(K,$=K)=>U($,{op:"p",name:K,read:(B)=>(K in B)?B[K]:I,update:(B,H)=>{B[K]=H}}),K$=(K)=>U(K,{op:"p",name:"hidden",read:($)=>!$.hidden,update:($,B)=>{$.hidden=!B}});var $$=(K)=>U(K,{op:"m",name:"focus",read:($)=>$===document.activeElement,update:($,B)=>{if(B&&ZK($,"focus"))$.focus()}}),B$=(K,$=K)=>U($,{op:"a",name:K,read:(B)=>B.getAttribute(K),update:(B,H)=>{rK(B,K,H)},delete:(B)=>{B.removeAttribute(K)}}),H$=(K,$=K)=>U($,{op:"a",name:K,read:(B)=>B.hasAttribute(K),update:(B,H)=>{B.toggleAttribute(K,H)}}),Z$=(K,$=K)=>U($,{op:"c",name:K,read:(B)=>B.classList.contains(K),update:(B,H)=>{B.classList.toggle(K,H)}}),L$=(K,$=K)=>U($,{op:"s",name:K,read:(B)=>B.style.getPropertyValue(K),update:(B,H)=>{B.style.setProperty(K,H)},delete:(B)=>{B.style.removeProperty(K)}}),J$=(K,$={})=>U(K,{op:"h",read:(B)=>(B.shadowRoot||!$.shadowRootMode?B:null)?.innerHTML??"",update:(B,H)=>{let{shadowRootMode:Z,allowScripts:L}=$;if(!H){if(B.shadowRoot)B.shadowRoot.innerHTML="<slot></slot>";return""}if(Z&&!B.shadowRoot)B.attachShadow({mode:Z});let J=B.shadowRoot||B;if(J.innerHTML=H,!L)return"";return J.querySelectorAll("script").forEach((W)=>{let A=document.createElement("script");A.appendChild(document.createTextNode(W.textContent??"")),J.appendChild(A),W.remove()})," with scripts"}}),W$=(K)=>($,B)=>{if(!HK(K))throw new TypeError("Reactives must be an object of passed signals");if(!c(B))throw new TypeError(`Target ${Y(B)} is not a custom element`);customElements.whenDefined(B.localName).then(()=>{if(!ZK(B,"setSignal"))throw new TypeError(`Target ${Y(B)} is not a UIElement component`);for(let[H,Z]of Object.entries(K))B.setSignal(H,V(Z)?$.getSignal(Z):T(Z))}).catch((H)=>{throw new Error(`Failed to pass signals to ${Y(B)}`,{cause:H})})};var QK=()=>(K)=>K.textContent?.trim(),A$=(K)=>($)=>$[K],Q$=(K)=>($)=>$.hasAttribute(K),XK=(K)=>($)=>$.getAttribute(K),X$=(K)=>($)=>$.classList.contains(K),G$=(K)=>($)=>window.getComputedStyle($).getPropertyValue(K),Y$=(K)=>t("",{".label":QK(),[K]:XK("aria-label")}),I$=(K)=>t("",{".description":QK(),[K]:XK("aria-describedby")});export{U as updateElement,Z$ as toggleClass,H$ as toggleAttribute,T as toSignal,r as state,K$ as show,tK as setText,L$ as setStyle,eK as setProperty,B$ as setAttribute,h as resolveReactive,VK as requireElement,TK as reduced,wK as read,gK as provideContexts,W$ as pass,dK as on,q as log,R as isState,D as isSignal,i as isParser,p as isComputed,aK as insertOrRemoveElement,X$ as hasClass,Q$ as hasAttribute,QK as getText,G$ as getStyle,A$ as getProperty,Y$ as getLabel,z as getFallback,I$ as getDescription,XK as getAttribute,qK as fromSelector,DK as fromFirst,fK as fromEvents,t as fromDOM,hK as fromContext,NK as fromComponent,$$ as focus,S as enqueue,pK as emitEvent,b as effect,J$ as dangerouslySetInnerHTML,k as computed,bK as component,YK as batch,cK as asString,uK as asNumber,oK as asJSON,vK as asInteger,iK as asEnum,mK as asBoolean,I as UNSET,w as RESET,yK as LOG_WARN,MK as LOG_INFO,f as LOG_ERROR,IK as LOG_DEBUG};

//# debugId=77E0300DA9024AB764756E2164756E21
