var I=(K)=>typeof K==="function",n=(K,$)=>Object.prototype.toString.call(K)===`[object ${$}]`,m=(K)=>K instanceof Error?K:Error(String(K));class d extends Error{constructor(K){super(`Circular dependency in ${K} detected`);return this}}var w,o=new Set,t=0,e=new Map,s,YK=()=>{s=void 0;let K=Array.from(e.values());e.clear();for(let $ of K)$()},UK=()=>{if(s)cancelAnimationFrame(s);s=requestAnimationFrame(YK)};queueMicrotask(YK);var v=(K)=>{let $=new Set,B=K;return B.off=(H)=>{$.add(H)},B.cleanup=()=>{for(let H of $)H();$.clear()},B},T=(K)=>{if(w&&!K.has(w)){let $=w;K.add($),w.off(()=>{K.delete($)})}},C=(K)=>{for(let $ of K)if(t)o.add($);else $()},l=()=>{while(o.size){let K=Array.from(o);o.clear();for(let $ of K)$()}},GK=(K)=>{t++;try{K()}finally{l(),t--}},u=(K,$)=>{let B=w;w=$;try{K()}finally{w=B}},S=(K,$)=>new Promise((B,H)=>{e.set($||Symbol(),()=>{try{B(K())}catch(Z){H(Z)}}),UK()});var KK="State",r=(K)=>{let $=new Set,B=K,H={[Symbol.toStringTag]:KK,get:()=>{return T($),B},set:(Z)=>{if(Object.is(B,Z))return;if(B=Z,C($),L===B)$.clear()},update:(Z)=>{H.set(Z(B))}};return H},_=(K)=>n(K,KK);var k="Computed",E=(K)=>{let $=new Set,B=L,H,Z,J=!0,W=!1,A=!1,X=(j)=>{if(!Object.is(j,B))B=j,W=!0;H=void 0,J=!1},Q=()=>{W=L!==B,B=L,H=void 0},Y=(j)=>{let O=m(j);W=!H||O.name!==H.name||O.message!==H.message,B=L,H=O},q=(j)=>(O)=>{if(A=!1,Z=void 0,j(O),W)C($)},y=v(()=>{if(J=!0,Z?.abort("Aborted because source signal changed"),$.size)C($);else y.cleanup()}),V=()=>u(()=>{if(A)throw new d("computed");if(W=!1,I(K)&&K.constructor.name==="AsyncFunction"){if(Z)return B;Z=new AbortController,Z.signal.addEventListener("abort",()=>{A=!1,Z=void 0,V()},{once:!0})}let j;A=!0;try{j=Z?K(Z.signal):K()}catch(O){if(O instanceof DOMException&&O.name==="AbortError")Q();else Y(O);A=!1;return}if(j instanceof Promise)j.then(q(X),q(Y));else if(j==null||L===j)Q();else X(j);A=!1},y);return{[Symbol.toStringTag]:k,get:()=>{if(T($),l(),J)V();if(H)throw H;return B}}},g=(K)=>n(K,k),$K=(K)=>I(K)&&K.length<2;var L=Symbol(),R=(K)=>_(K)||g(K),D=(K)=>R(K)?K:$K(K)?E(K):r(K);function b(K){let{signals:$,ok:B,err:H=console.error,nil:Z=()=>{}}=I(K)?{signals:[],ok:K}:K,J=!1,W=v(()=>u(()=>{if(J)throw new d("effect");J=!0;let A=[],X=!1,Q=$.map((q)=>{try{let y=q.get();if(y===L)X=!0;return y}catch(y){return A.push(m(y)),L}}),Y=void 0;try{Y=X?Z():A.length?H(...A):B(...Q)}catch(q){Y=H(m(q))}finally{if(I(Y))W.off(Y)}J=!1},W));return W(),()=>W.cleanup()}var U=!1,IK="debug",MK="info",LK="warn",f="error",VK=(K)=>K?`#${K}`:"",xK=(K)=>K?.length?`.${Array.from(K).join(".")}`:"",BK=(K)=>!!K&&typeof K==="object",P=(K)=>typeof K==="string",HK=(K,$)=>P($)&&($ in K)&&I(K[$]),jK=(K)=>K.nodeType===Node.ELEMENT_NODE,c=(K)=>K.localName.includes("-"),zK=(K)=>{if(!c(K))return!0;let $=customElements.get(K.localName);return!!$&&K instanceof $},G=(K)=>K?`<${K.localName}${VK(K.id)}${xK(K.classList)}>`:"<unknown>",h=(K)=>P(K)?`"${K}"`:BK(K)?JSON.stringify(K):String(K),a=(K)=>{if(K===null)return"null";if(typeof K!=="object")return typeof K;if(Array.isArray(K))return"Array";if(Symbol.toStringTag in Object(K))return K[Symbol.toStringTag];return K.constructor?.name||"Object"},F=(K,$,B=IK)=>{if(U||[f,LK].includes(B))console[B]($,K);return K};class qK extends Error{constructor(K){super(K);this.name="CircularMutationError"}}var OK=(K)=>{let $=new Set;if(K.includes("."))$.add("class");if(K.includes("#"))$.add("id");if(K.includes("[")){let B=K.split("[");for(let H=1;H<B.length;H++){let Z=B[H];if(!Z.includes("]"))continue;let J=Z.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(J)$.add(J)}}return[...$]},TK=(K,$)=>{if(K.length!==$.length)return!1;let B=new Set(K);for(let H of $)if(!B.has(H))return!1;return!0},ZK=(K)=>I(K)&&K.length>=2,i=(K,$,B)=>B?B($,K):K??"",z=(K,$,B)=>{if(I(K)){let H=K($);return P(H)&&B?i(H,$,B):H}else return K},JK=(K,$,B)=>{let H=new MutationObserver(B),Z={childList:!0,subtree:!0},J=OK($);if(J.length)Z.attributes=!0,Z.attributeFilter=J;return H.observe(K,Z),H},yK=(K)=>($)=>{let B=new Set,H=()=>Array.from($.querySelectorAll(K)),Z=L,J,W=0,A=2,X=()=>{Z=H(),J=JK($,K,()=>{if(!B.size){J?.disconnect(),J=void 0;return}if(W++,W>A)throw J?.disconnect(),J=void 0,W=0,new qK("Circular mutation in element selection detected");try{let Q=H();if(!TK(Z,Q))Z=Q,C(B)}finally{W--}})};return{[Symbol.toStringTag]:k,get(){if(T(B),!B.size)Z=H();else if(!J)X();return Z}}},_K=(K,$,B,H)=>E(()=>yK($)(K).get().reduce(B,H)),RK=(K,$,B)=>{let H=K.querySelector($);return B(H,H?zK(H):!1)},FK=(K,$)=>{let B=K.querySelector($);if(!B)throw new Error(`Component ${G(K)} does not contain required <${$}> element`);return B},DK=(K,$,B,H)=>(Z)=>{let J=Z.querySelector(K);if(J){let W=$(J);if(W!=null)return z(W,Z,H)}if(B!=null)return z(B,Z,H);throw new Error(`Component ${G(Z)} does not contain required <${K}> element`)},NK=(K,$,B,H)=>(Z)=>{let J=FK(Z,K);if(!c(J))throw new Error(`Element ${K} is not a custom element`);return E(async()=>{return await customElements.whenDefined(J.localName),$(J)??z(B,Z,H)})};var wK=new Set(["constructor","prototype"]),SK=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),PK=(K)=>{if(wK.has(K))return`Property name "${K}" is a reserved word`;if(SK.has(K))return`Property name "${K}" conflicts with inherited HTMLElement property`;return null},WK=(K,$,B=$)=>{let H=K.filter(I).map((Z)=>Z($,B));return()=>{H.filter(I).forEach((Z)=>Z()),H.length=0}},kK=()=>({first:(K,...$)=>(B)=>{let H=(B.shadowRoot||B).querySelector(K);if(H)WK($,B,H)},all:(K,...$)=>(B)=>{let H=new Map,Z=B.shadowRoot||B,J=(Q)=>{if(!H.has(Q))H.set(Q,WK($,B,Q))},W=(Q)=>{let Y=H.get(Q);if(I(Y))Y();H.delete(Q)},A=(Q)=>(Y)=>{if(jK(Y)){if(Y.matches(K))Q(Y);Y.querySelectorAll(K).forEach(Q)}},X=JK(Z,K,(Q)=>{for(let Y of Q)Y.addedNodes.forEach(A(J)),Y.removedNodes.forEach(A(W))});return Z.querySelectorAll(K).forEach(J),()=>{X.disconnect(),H.forEach((Q)=>Q()),H.clear()}}}),EK=(K,$={},B)=>{for(let Z of Object.keys($)){let J=PK(Z);if(J)throw new TypeError(`${J} in component "${K}".`)}class H extends HTMLElement{debug;#K={};#$;static observedAttributes=Object.entries($)?.filter(([,Z])=>ZK(Z)).map(([Z])=>Z)??[];connectedCallback(){if(U){if(this.debug=this.hasAttribute("debug"),this.debug)F(this,"Connected")}for(let[J,W]of Object.entries($)){if(W==null||J in this)continue;let A=I(W)?W(this,null):W;if(A!=null)this.setSignal(J,D(A))}let Z=B(this,kK());if(!Array.isArray(Z))throw new TypeError(`Expected array of functions as return value of setup function in ${G(this)}`);this.#$=WK(Z,this)}disconnectedCallback(){if(I(this.#$))this.#$();if(U&&this.debug)F(this,"Disconnected")}attributeChangedCallback(Z,J,W){if(W===J||g(this.#K[Z]))return;let A=$[Z];if(!ZK(A))return;let X=A(this,W,J);if(U&&this.debug)F(W,`Attribute "${String(Z)}" of ${G(this)} changed from ${h(J)} to ${h(W)}, parsed as <${a(X)}> ${h(X)}`);if(Z in this)this[Z]=X;else this.setSignal(Z,D(X))}getSignal(Z){let J=this.#K[Z];if(U&&this.debug)F(J,`Get ${a(J)} "${String(Z)}" in ${G(this)}`);return J}setSignal(Z,J){let W=PK(String(Z));if(W)throw new TypeError(`${W} on ${G(this)}.`);if(!R(J))throw new TypeError(`Expected signal as value for property "${String(Z)}" on ${G(this)}.`);let A=this.#K[Z],X=_(J);if(this.#K[Z]=J,Object.defineProperty(this,Z,{get:J.get,set:X?J.set:void 0,enumerable:!0,configurable:X}),A&&_(A))A.set(L);if(U&&this.debug)F(J,`Set ${a(J)} "${String(Z)} in ${G(this)}`)}}customElements.define(K,H)};var N=Symbol("RESET"),p=(K,$,B,H)=>{try{return P(K)?$.getSignal(K).get():R(K)?K.get():I(K)?K(B):N}catch(Z){if(H)F(Z,`Failed to resolve value of ${h(K)}${H?` for ${H}`:""} in ${G(B)}${$!==B?` in ${G($)}`:""}`,f);return N}};var bK=(K,$,B)=>(H)=>{let Z=new Set,J=z(K,H),W=new Map,A,X=()=>{for(let[Q,Y]of Object.entries(B)){let q=(y)=>{let V=y.target;if(!V)return;let x=V.closest($);if(!x||!H.contains(x))return;y.stopPropagation();try{let j=Y({event:y,host:H,target:x,value:J});if(j==null)return;if(!Object.is(j,J)){if(J=j,Z.size>0)C(Z);else if(A)A()}}catch(j){throw y.stopImmediatePropagation(),j}};W.set(Q,q),H.addEventListener(Q,q)}A=()=>{if(W.size){for(let[Q,Y]of W)H.removeEventListener(Q,Y);W.clear()}A=void 0}};return{[Symbol.toStringTag]:k,get(){if(T(Z),Z.size&&!W.size)X();return J}}},fK=(K,$,B=!1)=>(H,Z)=>{if(!I($))throw new TypeError(`Invalid event listener provided for "${K} event on element ${G(Z)}`);return Z.addEventListener(K,$,B),()=>Z.removeEventListener(K,$)},dK=(K,$)=>(B,H)=>b(()=>{let Z=p($,B,H,`custom event "${K}" detail`);if(Z===N||Z===L)return;H.dispatchEvent(new CustomEvent(K,{detail:Z,bubbles:!0}))});var AK="context-request";class CK extends Event{K;$;B;constructor(K,$,B=!1){super(AK,{bubbles:!0,composed:!0});this.context=K;this.callback=$;this.subscribe=B}}var gK=(K)=>($)=>{let B=(H)=>{let{context:Z,callback:J}=H;if(K.includes(Z)&&I(J))H.stopImmediatePropagation(),J($.getSignal(String(Z)))};return $.addEventListener(AK,B),()=>$.removeEventListener(AK,B)},hK=(K,$)=>(B)=>{let H=D(z($,B));return B.dispatchEvent(new CK(K,(Z)=>{H=Z})),H};var QK=(K,$)=>{if($==null)return;let B=K($);return Number.isFinite(B)?B:void 0},pK=()=>(K,$)=>$!=null&&$!=="false",mK=(K=0)=>{let $=(B,H)=>{if(H==null)return z(K,B,$);let Z=H.trim();if(Z.toLowerCase().startsWith("0x"))return QK((W)=>parseInt(W,16),Z)??z(K,B,$);let J=QK(parseFloat,H);return J!=null?Math.trunc(J):z(K,B,$)};return $},vK=(K=0)=>{let $=(B,H)=>QK(parseFloat,H)??z(K,B,$);return $},uK=(K="")=>($,B)=>B??z(K,$,void 0),cK=(K)=>($,B)=>{if(B==null)return K[0];let H=B.toLowerCase();return K.find((J)=>J.toLowerCase()===H)?B:K[0]},iK=(K)=>{let $=(B,H)=>{if((H??K)==null)throw new TypeError("asJSON: Value and fallback are both null or undefined");if(H==null)return z(K,B,$);if(H==="")throw new TypeError("Empty string is not valid JSON");let Z;try{Z=JSON.parse(H)}catch(J){throw new SyntaxError(`Failed to parse JSON: ${String(J)}`,{cause:J})}return Z??z(K,B,$)};return $};var nK=(K,$="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[K]+$},oK=(K,$,B,H,Z)=>{return{ok:(A)=>()=>{if(U&&K.debug)F($,`${A} ${B} of ${G($)} in ${G(K)}`);H?.($)},err:(A)=>(X)=>{F(X,`Failed to ${A} ${B} of ${G($)} in ${G(K)}`,f),Z?.(X)}}},XK=(K,$)=>{return Symbol($?`${K}:${$}`:K)},sK=(K)=>{if(/^(mailto|tel):/i.test(K))return!0;if(K.includes("://"))try{let $=new URL(K,window.location.origin);return["http:","https:","ftp:"].includes($.protocol)}catch{return!1}return!0},lK=(K,$,B)=>{if(/^on/i.test($))throw new Error(`Unsafe attribute: ${$}`);if(B=String(B).trim(),!sK(B))throw new Error(`Unsafe URL for ${$}: ${B}`);K.setAttribute($,B)},M=(K,$)=>(B,H)=>{let{op:Z,name:J="",read:W,update:A}=$,X=W(H),Q=nK(Z,J);if(P(K)&&P(X)&&B[K]===N)B.attributeChangedCallback(K,null,X);let{ok:Y,err:q}=oK(B,H,Q,$.resolve,$.reject);return b(()=>{let y=XK(Z,J),V=p(K,B,H,Q),x=V===N?X:V===L?$.delete?null:X:V;if($.delete&&x===null)S(()=>{return $.delete(H),!0},y).then(Y("Deleted")).catch(q("delete"));else if(x!=null){let j=W(H);if(Object.is(x,j))return;S(()=>{return A(H,x),!0},y).then(Y("Updated")).catch(q("update"))}})},rK=(K,$)=>(B,H)=>{let Z=(W)=>()=>{if(U&&B.debug)F(H,`${W} element in ${G(H)} in ${G(B)}`);if(I($?.resolve))$.resolve(H);else{let A=R(K)?K:P(K)?B.getSignal(K):void 0;if(_(A))A.set(0)}},J=(W)=>(A)=>{F(A,`Failed to ${W} element in ${G(H)} in ${G(B)}`,f),$?.reject?.(A)};return b(()=>{let W=XK("i"),A=XK("r"),X=p(K,B,H,"insertion or deletion"),Q=X===N?0:X;if(Q>0){if(!$)throw new TypeError("No inserter provided");S(()=>{for(let Y=0;Y<Q;Y++){let q=$.create(H);if(!q)continue;H.insertAdjacentElement($.position??"beforeend",q)}return!0},W).then(Z("Inserted")).catch(J("insert"))}else if(Q<0)S(()=>{if($&&($.position==="afterbegin"||$.position==="beforeend"))for(let Y=0;Y>Q;Y--)if($.position==="afterbegin")H.firstElementChild?.remove();else H.lastElementChild?.remove();else H.remove();return!0},A).then(Z("Removed")).catch(J("remove"))})},aK=(K)=>M(K,{op:"t",read:($)=>$.textContent,update:($,B)=>{Array.from($.childNodes).filter((H)=>H.nodeType!==Node.COMMENT_NODE).forEach((H)=>H.remove()),$.append(document.createTextNode(B))}}),tK=(K,$=K)=>M($,{op:"p",name:String(K),read:(B)=>(K in B)?B[K]:L,update:(B,H)=>{B[K]=H}}),eK=(K)=>M(K,{op:"p",name:"hidden",read:($)=>!$.hidden,update:($,B)=>{$.hidden=!B}});var K$=(K)=>M(K,{op:"m",name:"focus",read:($)=>$===document.activeElement,update:($,B)=>{if(B&&HK($,"focus"))$.focus()}}),$$=(K,$=K)=>M($,{op:"a",name:K,read:(B)=>B.getAttribute(K),update:(B,H)=>{lK(B,K,H)},delete:(B)=>{B.removeAttribute(K)}}),B$=(K,$=K)=>M($,{op:"a",name:K,read:(B)=>B.hasAttribute(K),update:(B,H)=>{B.toggleAttribute(K,H)}}),H$=(K,$=K)=>M($,{op:"c",name:K,read:(B)=>B.classList.contains(K),update:(B,H)=>{B.classList.toggle(K,H)}}),Z$=(K,$=K)=>M($,{op:"s",name:K,read:(B)=>B.style.getPropertyValue(K),update:(B,H)=>{B.style.setProperty(K,H)},delete:(B)=>{B.style.removeProperty(K)}}),J$=(K,$={})=>M(K,{op:"h",read:(B)=>(B.shadowRoot||!$.shadowRootMode?B:null)?.innerHTML??"",update:(B,H)=>{let{shadowRootMode:Z,allowScripts:J}=$;if(!H){if(B.shadowRoot)B.shadowRoot.innerHTML="<slot></slot>";return""}if(Z&&!B.shadowRoot)B.attachShadow({mode:Z});let W=B.shadowRoot||B;if(W.innerHTML=H,!J)return"";return W.querySelectorAll("script").forEach((A)=>{let X=document.createElement("script");X.appendChild(document.createTextNode(A.textContent??"")),W.appendChild(X),A.remove()})," with scripts"}}),W$=(K)=>($,B)=>{if(!BK(K))throw new TypeError("Reactives must be an object of passed signals");if(!c(B))throw new TypeError(`Target ${G(B)} is not a custom element`);customElements.whenDefined(B.localName).then(()=>{if(!HK(B,"setSignal"))throw new TypeError(`Target ${G(B)} is not a UIElement component`);for(let[H,Z]of Object.entries(K))B.setSignal(H,P(Z)?$.getSignal(Z):D(Z))}).catch((H)=>{throw new Error(`Failed to pass signals to ${G(B)}`,{cause:H})})};var A$=(K)=>($)=>i($.textContent,$,K),Q$=(K,$,B)=>(H)=>H[K]??z($,H,B),X$=(K)=>($)=>$.hasAttribute(K),Y$=(K,$)=>(B)=>i(B.getAttribute(K),B,$),G$=(K)=>($)=>$.classList.contains(K),I$=(K,$)=>(B)=>i(window.getComputedStyle(B).getPropertyValue(K),B,$);export{M as updateElement,H$ as toggleClass,B$ as toggleAttribute,D as toSignal,r as state,eK as show,aK as setText,Z$ as setStyle,tK as setProperty,$$ as setAttribute,p as resolveReactive,FK as requireElement,_K as reduced,RK as read,gK as provideContexts,W$ as pass,fK as on,F as log,_ as isState,R as isSignal,g as isComputed,rK as insertOrRemoveElement,G$ as hasClass,X$ as hasAttribute,A$ as getText,I$ as getStyle,Q$ as getProperty,Y$ as getAttribute,yK as fromSelector,bK as fromEvents,DK as fromDOM,hK as fromContext,NK as fromComponent,K$ as focus,S as enqueue,dK as emitEvent,b as effect,J$ as dangerouslySetInnerHTML,E as computed,EK as component,GK as batch,uK as asString,vK as asNumber,iK as asJSON,mK as asInteger,cK as asEnum,pK as asBoolean,L as UNSET,N as RESET,LK as LOG_WARN,MK as LOG_INFO,f as LOG_ERROR,IK as LOG_DEBUG};

//# debugId=CDF8B70EF1F3D8CE64756E2164756E21
