var G=($)=>typeof $==="function",v=($,B)=>Object.prototype.toString.call($)===`[object ${B}]`,p=($)=>$ instanceof Error?$:Error(String($));class S extends Error{constructor($){super(`Circular dependency in ${$} detected`);return this}}var R,c=new Set,r=0,a=new Map,u,X$=()=>{u=void 0;let $=Array.from(a.values());a.clear();for(let B of $)B()},P$=()=>{if(u)cancelAnimationFrame(u);u=requestAnimationFrame(X$)};queueMicrotask(X$);var h=($)=>{let B=new Set,Z=$;return Z.off=(W)=>{B.add(W)},Z.cleanup=()=>{for(let W of B)W();B.clear()},Z},_=($)=>{if(R&&!$.has(R)){let B=R;$.add(B),R.off(()=>{$.delete(B)})}},y=($)=>{for(let B of $)if(r)c.add(B);else B()},o=()=>{while(c.size){let $=Array.from(c);c.clear();for(let B of $)B()}},Y$=($)=>{r++;try{$()}finally{o(),r--}},m=($,B)=>{let Z=R;R=B;try{$()}finally{R=Z}},w=($,B)=>new Promise((Z,W)=>{a.set(B||Symbol(),()=>{try{Z($())}catch(J){W(J)}}),P$()});var t="State",i=($)=>{let B=new Set,Z=$,W={[Symbol.toStringTag]:t,get:()=>{return _(B),Z},set:(J)=>{if(Object.is(Z,J))return;if(Z=J,y(B),A===Z)B.clear()},update:(J)=>{W.set(J(Z))}};return W},M=($)=>v($,t);var k="Computed",b=($)=>{let B=new Set,Z=A,W,J,K=!0,H=!1,I=!1,Y=(j)=>{if(!Object.is(j,Z))Z=j,H=!0;W=void 0,K=!1},Q=()=>{H=A!==Z,Z=A,W=void 0},X=(j)=>{let x=p(j);H=!W||x.name!==W.name||x.message!==W.message,Z=A,W=x},q=(j)=>(x)=>{if(I=!1,J=void 0,j(x),H)y(B)},F=h(()=>{if(K=!0,J?.abort("Aborted because source signal changed"),B.size)y(B);else F.cleanup()}),P=()=>m(()=>{if(I)throw new S("computed");if(H=!1,G($)&&$.constructor.name==="AsyncFunction"){if(J)return Z;J=new AbortController,J.signal.addEventListener("abort",()=>{I=!1,J=void 0,P()},{once:!0})}let j;I=!0;try{j=J?$(J.signal):$()}catch(x){if(x instanceof DOMException&&x.name==="AbortError")Q();else X(x);I=!1;return}if(j instanceof Promise)j.then(q(Y),q(X));else if(j==null||A===j)Q();else Y(j);I=!1},F);return{[Symbol.toStringTag]:k,get:()=>{if(_(B),o(),K)P();if(W)throw W;return Z}}},E=($)=>v($,k),e=($)=>G($)&&$.length<2;var A=Symbol(),O=($)=>M($)||E($),T=($)=>O($)?$:e($)?b($):i($);function f($){let{signals:B,ok:Z,err:W=console.error,nil:J=()=>{}}=G($)?{signals:[],ok:$}:$,K=!1,H=h(()=>m(()=>{if(K)throw new S("effect");K=!0;let I=[],Y=!1,Q=B.map((q)=>{try{let F=q.get();if(F===A)Y=!0;return F}catch(F){return I.push(p(F)),A}}),X=void 0;try{X=Y?J():I.length?W(...I):Z(...Q)}catch(q){X=W(p(q))}finally{if(G(X))H.off(X)}K=!1},H));return H(),()=>H.cleanup()}var U=!1,G$="debug",U$="info",z$="warn",g="error",V$=($)=>$?`#${$}`:"",x$=($)=>$?.length?`.${Array.from($).join(".")}`:"",$$=($)=>!!$&&typeof $==="object",D=($)=>typeof $==="string",n=($,B)=>D(B)&&(B in $)&&G($[B]),j$=($)=>$.nodeType===Node.ELEMENT_NODE,B$=($)=>$.localName.includes("-"),A$=($)=>{if(!B$($))return!0;let B=customElements.get($.localName);return!!B&&$ instanceof B},z=($)=>$?`<${$.localName}${V$($.id)}${x$($.classList)}>`:"<unknown>",d=($)=>D($)?`"${$}"`:$$($)?JSON.stringify($):String($),s=($)=>{if($===null)return"null";if(typeof $!=="object")return typeof $;if(Array.isArray($))return"Array";if(Symbol.toStringTag in Object($))return $[Symbol.toStringTag];return $.constructor?.name||"Object"},L=($,B,Z=G$)=>{if(U||[g,z$].includes(Z))console[Z](B,$);return $};class q$ extends Error{constructor($){super($);this.name="CircularMutationError"}}var y$=($)=>{let B=new Set;if($.includes("."))B.add("class");if($.includes("#"))B.add("id");if($.includes("[")){let Z=$.split("[");for(let W=1;W<Z.length;W++){let J=Z[W];if(!J.includes("]"))continue;let K=J.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(K)B.add(K)}}return[...B]},M$=($,B)=>{if($.length!==B.length)return!1;let Z=new Set($);for(let W of B)if(!Z.has(W))return!1;return!0},_$=($,B,Z)=>(W)=>{let J=new Set,K=G($)?$(W):$,H=new Map,I,Y=()=>{for(let[Q,X]of Object.entries(Z)){let q=(F)=>{let P=F.target;if(!P)return;let V=P.closest(B);if(!V||!W.contains(V))return;F.stopPropagation();try{let j=X({event:F,host:W,target:V,value:K});if(j==null)return;if(!Object.is(j,K)){if(K=j,J.size>0)y(J);else if(I)I()}}catch(j){throw F.stopImmediatePropagation(),j}};H.set(Q,q),W.addEventListener(Q,q)}I=()=>{if(H.size){for(let[Q,X]of H)W.removeEventListener(Q,X);H.clear()}I=void 0}};return{[Symbol.toStringTag]:k,get(){if(_(J),J.size&&!H.size)Y();return K}}},Z$=($,B,Z)=>{let W=new MutationObserver(Z),J={childList:!0,subtree:!0},K=y$(B);if(K.length)J.attributes=!0,J.attributeFilter=K;return W.observe($,J),W},F$=($)=>(B)=>{let Z=new Set,W=()=>Array.from(B.querySelectorAll($)),J=A,K,H=0,I=2,Y=()=>{J=W(),K=Z$(B,$,()=>{if(!Z.size){K?.disconnect(),K=void 0;return}if(H++,H>I)throw K?.disconnect(),K=void 0,H=0,new q$("Circular mutation in element selection detected");try{let Q=W();if(!M$(J,Q))J=Q,y(Z)}finally{H--}})};return{[Symbol.toStringTag]:k,get(){if(_(Z),!Z.size)J=W();else if(!K)Y();return J}}},O$=($,B,Z,W)=>b(()=>F$(B)($).get().reduce(Z,W)),T$=($,B,Z)=>{let W=$.querySelector(B);return Z(W,W?A$(W):!1)},D$=($,B)=>{let Z=$.querySelector(B);if(!Z)throw new Error(`Component ${z($)} does not contain required <${B}> element`);return Z};var N=Symbol(),R$=new Set(["constructor","prototype"]),w$=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),W$=($)=>G($)&&$.length>=2,L$=($)=>{if(R$.has($))return`Property name "${$}" is a reserved word`;if(w$.has($))return`Property name "${$}" conflicts with inherited HTMLElement property`;return null},J$=($,B,Z=B)=>{let W=$.filter(G).map((J)=>J(B,Z));return()=>{W.filter(G).forEach((J)=>J()),W.length=0}},N$=()=>({first:($,...B)=>(Z)=>{let W=(Z.shadowRoot||Z).querySelector($);if(W)J$(B,Z,W)},all:($,...B)=>(Z)=>{let W=new Map,J=Z.shadowRoot||Z,K=(Q)=>{if(!W.has(Q))W.set(Q,J$(B,Z,Q))},H=(Q)=>{let X=W.get(Q);if(G(X))X();W.delete(Q)},I=(Q)=>(X)=>{if(j$(X)){if(X.matches($))Q(X);X.querySelectorAll($).forEach(Q)}},Y=Z$(J,$,(Q)=>{for(let X of Q)X.addedNodes.forEach(I(K)),X.removedNodes.forEach(I(H))});return J.querySelectorAll($).forEach(K),()=>{Y.disconnect(),W.forEach((Q)=>Q()),W.clear()}}}),S$=($,B={},Z)=>{for(let W of Object.keys(B)){let J=L$(W);if(J)throw new TypeError(`${J} in component "${$}".`)}customElements.define($,class extends HTMLElement{debug;#$={};#B;static observedAttributes=Object.entries(B)?.filter(([,W])=>W$(W)).map(([W])=>W)??[];constructor(){super();for(let[W,J]of Object.entries(B)){if(J==null)continue;let K=W$(J)?J(this,null):G(J)?J(this):J;if(K!=null)this.setSignal(W,T(K))}}connectedCallback(){if(U){if(this.debug=this.hasAttribute("debug"),this.debug)L(this,"Connected")}let W=Z(this,N$());if(!Array.isArray(W))throw new TypeError(`Expected array of functions as return value of setup function in ${z(this)}`);this.#B=J$(W,this)}disconnectedCallback(){if(G(this.#B))this.#B();if(U&&this.debug)L(this,"Disconnected")}attributeChangedCallback(W,J,K){if(K===J||E(this.#$[W]))return;let H=B[W];if(!W$(H))return;let I=H(this,K,J);if(U&&this.debug)L(K,`Attribute "${W}" of ${z(this)} changed from ${d(J)} to ${d(K)}, parsed as <${s(I)}> ${d(I)}`);this[W]=I}getSignal(W){let J=this.#$[W];if(U&&this.debug)L(J,`Get ${s(J)} "${String(W)}" in ${z(this)}`);return J}setSignal(W,J){let K=L$(String(W));if(K)throw new TypeError(`${K} on ${z(this)}.`);if(!O(J))throw new TypeError(`Expected signal as value for property "${String(W)}" on ${z(this)}.`);let H=this.#$[W],I=M(J);if(this.#$[W]=J,Object.defineProperty(this,W,{get:J.get,set:I?J.set:void 0,enumerable:!0,configurable:I}),H&&M(H))H.set(A);if(U&&this.debug)L(J,`Set ${s(J)} "${String(W)} in ${z(this)}`)}})};var K$="context-request";class C$ extends Event{$;B;Z;constructor($,B,Z=!1){super(K$,{bubbles:!0,composed:!0});this.context=$;this.callback=B;this.subscribe=Z}}var k$=($)=>(B)=>{let Z=(W)=>{let{context:J,callback:K}=W;if($.includes(J)&&G(K))W.stopImmediatePropagation(),K(B.getSignal(String(J)))};return B.addEventListener(K$,Z),()=>B.removeEventListener(K$,Z)},b$=($,B)=>(Z)=>{let W=T(B);return Z.dispatchEvent(new C$($,(J)=>{W=J})),W};var H$=($,B)=>{if(B==null)return;let Z=$(B);return Number.isFinite(Z)?Z:void 0},E$=()=>($,B)=>B!=null&&B!=="false",f$=($=0)=>(B,Z)=>{if(Z==null)return $;let W=Z.trim();if(W.toLowerCase().startsWith("0x"))return H$((K)=>parseInt(K,16),W)??$;let J=H$(parseFloat,Z);return J!=null?Math.trunc(J):$},g$=($=0)=>(B,Z)=>H$(parseFloat,Z)??$,d$=($="")=>(B,Z)=>Z??$,p$=($)=>(B,Z)=>{if(Z==null)return $[0];let W=Z.toLowerCase();return $.find((K)=>K.toLowerCase()===W)?Z:$[0]},h$=($)=>(B,Z)=>{if((Z??$)==null)throw new ReferenceError("Value and fallback are both null or undefined");if(Z==null)return $;if(Z==="")throw new SyntaxError("Empty string is not valid JSON");let W;try{W=JSON.parse(Z)}catch(J){throw new SyntaxError(`Failed to parse JSON: ${String(J)}`,{cause:J})}return W??$};var l=Symbol("RESOLVE_ERROR"),Q$=($,B,Z,W)=>{try{return D($)?B.getSignal($).get():O($)?$.get():G($)?$(Z):N}catch(J){if(W)L(J,`Failed to resolve value of ${d($)}${W?` for ${W}`:""} in ${z(Z)}${B!==Z?` in ${z(B)}`:""}`,g);return l}},m$=($,B="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[$]+B},v$=($,B,Z,W,J)=>{return{ok:(I)=>()=>{if(U&&$.debug)L(B,`${I} ${Z} of ${z(B)} in ${z($)}`);W?.(B)},err:(I)=>(Y)=>{L(Y,`Failed to ${I} ${Z} of ${z(B)} in ${z($)}`,g),J?.(Y)}}},I$=($,B)=>{return Symbol(B?`${$}:${B}`:$)},c$=($,B,Z,W,J)=>{return f(()=>{let K=Q$($,B,Z,W);if(K===l)return;J(K)})},u$=($)=>{if(/^(mailto|tel):/i.test($))return!0;if($.includes("://"))try{let B=new URL($,window.location.origin);return["http:","https:","ftp:"].includes(B.protocol)}catch{return!1}return!0},o$=($,B,Z)=>{if(/^on/i.test(B))throw new Error(`Unsafe attribute: ${B}`);if(Z=String(Z).trim(),!u$(Z))throw new Error(`Unsafe URL for ${B}: ${Z}`);$.setAttribute(B,Z)},C=($,B)=>(Z,W)=>{let{op:J,name:K="",read:H,update:I}=B,Y=H(W),Q=m$(J,K);if(D($)&&D(Y)&&Z[$]===N)Z.attributeChangedCallback($,null,Y);let{ok:X,err:q}=v$(Z,W,Q,B.resolve,B.reject);return f(()=>{let F=I$(J,K),P=Q$($,Z,W,Q);if(P===l)return;let V=P===N?Y:P===A?B.delete?null:Y:P;if(B.delete&&V===null)w(()=>{return B.delete(W),!0},F).then(X("Deleted")).catch(q("delete"));else if(V!=null){let j=H(W);if(Object.is(V,j))return;w(()=>{return I(W,V),!0},F).then(X("Updated")).catch(q("update"))}})},i$=($,B)=>(Z,W)=>{let J=(H)=>()=>{if(U&&Z.debug)L(W,`${H} element in ${z(W)} in ${z(Z)}`);if(G(B?.resolve))B.resolve(W);else{let I=O($)?$:D($)?Z.getSignal($):void 0;if(M(I))I.set(0)}},K=(H)=>(I)=>{L(I,`Failed to ${H} element in ${z(W)} in ${z(Z)}`,g),B?.reject?.(I)};return f(()=>{let H=I$("i"),I=I$("r"),Y=Q$($,Z,W,"insertion or deletion");if(Y===l)return;let Q=Y===N?0:Y;if(Q>0){if(!B)throw new TypeError("No inserter provided");w(()=>{for(let X=0;X<Q;X++){let q=B.create(W);if(!q)continue;W.insertAdjacentElement(B.position??"beforeend",q)}return!0},H).then(J("Inserted")).catch(K("insert"))}else if(Q<0)w(()=>{if(B&&(B.position==="afterbegin"||B.position==="beforeend"))for(let X=0;X>Q;X--)if(B.position==="afterbegin")W.firstElementChild?.remove();else W.lastElementChild?.remove();else W.remove();return!0},I).then(J("Removed")).catch(K("remove"))})},n$=($)=>C($,{op:"t",read:(B)=>B.textContent,update:(B,Z)=>{Array.from(B.childNodes).filter((W)=>W.nodeType!==Node.COMMENT_NODE).forEach((W)=>W.remove()),B.append(document.createTextNode(Z))}}),s$=($,B=$)=>C(B,{op:"p",name:String($),read:(Z)=>($ in Z)?Z[$]:A,update:(Z,W)=>{Z[$]=W}}),l$=($)=>C($,{op:"p",name:"hidden",read:(B)=>!B.hidden,update:(B,Z)=>{B.hidden=!Z}}),r$=($,B,Z)=>C(B,{op:"m",name:String($),read:()=>null,update:(W,J)=>{if(J&&n(W,$))if(Z)W[$](...Z);else W[$]()}}),a$=($)=>C($,{op:"m",name:"focus",read:(B)=>B===document.activeElement,update:(B,Z)=>{if(Z&&n(B,"focus"))B.focus()}}),t$=($,B=$)=>C(B,{op:"a",name:$,read:(Z)=>Z.getAttribute($),update:(Z,W)=>{o$(Z,$,W)},delete:(Z)=>{Z.removeAttribute($)}}),e$=($,B=$)=>C(B,{op:"a",name:$,read:(Z)=>Z.hasAttribute($),update:(Z,W)=>{Z.toggleAttribute($,W)}}),$B=($,B=$)=>C(B,{op:"c",name:$,read:(Z)=>Z.classList.contains($),update:(Z,W)=>{Z.classList.toggle($,W)}}),BB=($,B=$)=>C(B,{op:"s",name:$,read:(Z)=>Z.style.getPropertyValue($),update:(Z,W)=>{Z.style.setProperty($,W)},delete:(Z)=>{Z.style.removeProperty($)}}),ZB=($,B={})=>C($,{op:"h",read:(Z)=>(Z.shadowRoot||!B.shadowRootMode?Z:null)?.innerHTML??"",update:(Z,W)=>{let{shadowRootMode:J,allowScripts:K}=B;if(!W){if(Z.shadowRoot)Z.shadowRoot.innerHTML="<slot></slot>";return""}if(J&&!Z.shadowRoot)Z.attachShadow({mode:J});let H=Z.shadowRoot||Z;if(H.innerHTML=W,!K)return"";return H.querySelectorAll("script").forEach((I)=>{let Y=document.createElement("script");Y.appendChild(document.createTextNode(I.textContent??"")),H.appendChild(Y),I.remove()})," with scripts"}}),WB=($,B,Z=!1)=>(W,J)=>{if(!G(B))throw new TypeError(`Invalid event listener provided for "${$} event on element ${z(J)}`);return J.addEventListener($,B,Z),()=>J.removeEventListener($,B)},JB=($,B)=>(Z,W)=>c$(B,Z,W,`custom event "${$}" detail`,(J)=>{if(J===N||J===A)return;W.dispatchEvent(new CustomEvent($,{detail:J,bubbles:!0}))}),KB=($)=>(B,Z)=>{if(!$$($))throw new TypeError("Reactives must be an object of passed signals");if(!B$(Z))throw new TypeError(`Target ${z(Z)} is not a custom element`);customElements.whenDefined(Z.localName).then(()=>{if(!n(Z,"setSignal"))throw new TypeError(`Target ${z(Z)} is not a UIElement component`);for(let[W,J]of Object.entries($))Z.setSignal(W,D(J)?B.getSignal(J):T(J))}).catch((W)=>{throw new Error(`Failed to pass signals to ${z(Z)}`,{cause:W})})};export{C as updateElement,$B as toggleClass,e$ as toggleAttribute,T as toSignal,i as state,l$ as show,n$ as setText,BB as setStyle,s$ as setProperty,t$ as setAttribute,D$ as requireDescendant,O$ as reduced,T$ as read,k$ as provideContexts,KB as pass,WB as on,L as log,M as isState,O as isSignal,E as isComputed,i$ as insertOrRemoveElement,F$ as fromSelector,_$ as fromEvents,b$ as fromContext,a$ as focus,w as enqueue,JB as emitEvent,f as effect,ZB as dangerouslySetInnerHTML,b as computed,S$ as component,r$ as callMethod,Y$ as batch,d$ as asString,g$ as asNumber,h$ as asJSON,f$ as asInteger,p$ as asEnum,E$ as asBoolean,A as UNSET,N as RESET,z$ as LOG_WARN,U$ as LOG_INFO,g as LOG_ERROR,G$ as LOG_DEBUG};

//# debugId=B78A6E01A17DE6C564756E2164756E21
