var A=($)=>typeof $==="function",i=($,B)=>Object.prototype.toString.call($)===`[object ${B}]`,m=($)=>$ instanceof Error?$:Error(String($));class d extends Error{constructor($){super(`Circular dependency in ${$} detected`);return this}}var N,n=new Set,a=0,t=new Map,o,I$=()=>{o=void 0;let $=Array.from(t.values());t.clear();for(let B of $)B()},P$=()=>{if(o)cancelAnimationFrame(o);o=requestAnimationFrame(I$)};queueMicrotask(I$);var v=($)=>{let B=new Set,Z=$;return Z.off=(K)=>{B.add(K)},Z.cleanup=()=>{for(let K of B)K();B.clear()},Z},R=($)=>{if(N&&!$.has(N)){let B=N;$.add(B),N.off(()=>{$.delete(B)})}},P=($)=>{for(let B of $)if(a)n.add(B);else B()},s=()=>{while(n.size){let $=Array.from(n);n.clear();for(let B of $)B()}},Y$=($)=>{a++;try{$()}finally{s(),a--}},u=($,B)=>{let Z=N;N=B;try{$()}finally{N=Z}},S=($,B)=>new Promise((Z,K)=>{t.set(B||Symbol(),()=>{try{Z($())}catch(H){K(H)}}),P$()});var e="State",l=($)=>{let B=new Set,Z=$,K={[Symbol.toStringTag]:e,get:()=>{return R(B),Z},set:(H)=>{if(Object.is(Z,H))return;if(Z=H,P(B),j===Z)B.clear()},update:(H)=>{K.set(H(Z))}};return K},x=($)=>i($,e);var k="Computed",b=($)=>{let B=new Set,Z=j,K,H,J=!0,W=!1,Q=!1,I=(L)=>{if(!Object.is(L,Z))Z=L,W=!0;K=void 0,J=!1},X=()=>{W=j!==Z,Z=j,K=void 0},Y=(L)=>{let O=m(L);W=!K||O.name!==K.name||O.message!==K.message,Z=j,K=O},z=(L)=>(O)=>{if(Q=!1,H=void 0,L(O),W)P(B)},q=v(()=>{if(J=!0,H?.abort("Aborted because source signal changed"),B.size)P(B);else q.cleanup()}),V=()=>u(()=>{if(Q)throw new d("computed");if(W=!1,A($)&&$.constructor.name==="AsyncFunction"){if(H)return Z;H=new AbortController,H.signal.addEventListener("abort",()=>{Q=!1,H=void 0,V()},{once:!0})}let L;Q=!0;try{L=H?$(H.signal):$()}catch(O){if(O instanceof DOMException&&O.name==="AbortError")X();else Y(O);Q=!1;return}if(L instanceof Promise)L.then(z(I),z(Y));else if(L==null||j===L)X();else I(L);Q=!1},q);return{[Symbol.toStringTag]:k,get:()=>{if(R(B),s(),J)V();if(K)throw K;return Z}}},g=($)=>i($,k),$$=($)=>A($)&&$.length<2;var j=Symbol(),D=($)=>x($)||g($),T=($)=>D($)?$:$$($)?b($):l($);function E($){let{signals:B,ok:Z,err:K=console.error,nil:H=()=>{}}=A($)?{signals:[],ok:$}:$,J=!1,W=v(()=>u(()=>{if(J)throw new d("effect");J=!0;let Q=[],I=!1,X=B.map((z)=>{try{let q=z.get();if(q===j)I=!0;return q}catch(q){return Q.push(m(q)),j}}),Y=void 0;try{Y=I?H():Q.length?K(...Q):Z(...X)}catch(z){Y=K(m(z))}finally{if(A(Y))W.off(Y)}J=!1},W));return W(),()=>W.cleanup()}var C=!1,G$="debug",C$="info",A$="warn",f="error",M$=($)=>$?`#${$}`:"",V$=($)=>$?.length?`.${Array.from($).join(".")}`:"",B$=($)=>!!$&&typeof $==="object",y=($)=>typeof $==="string",Z$=($,B)=>y(B)&&(B in $)&&A($[B]),j$=($)=>$.nodeType===Node.ELEMENT_NODE,c=($)=>$.localName.includes("-"),L$=($)=>{if(!c($))return!0;let B=customElements.get($.localName);return!!B&&$ instanceof B},G=($)=>$?`<${$.localName}${M$($.id)}${V$($.classList)}>`:"<unknown>",h=($)=>y($)?`"${$}"`:B$($)?JSON.stringify($):String($),r=($)=>{if($===null)return"null";if(typeof $!=="object")return typeof $;if(Array.isArray($))return"Array";if(Symbol.toStringTag in Object($))return $[Symbol.toStringTag];return $.constructor?.name||"Object"},U=($,B,Z=G$)=>{if(C||[f,A$].includes(Z))console[Z](B,$);return $};class z$ extends Error{constructor($){super($);this.name="CircularMutationError"}}var _$=($)=>{let B=new Set;if($.includes("."))B.add("class");if($.includes("#"))B.add("id");if($.includes("[")){let Z=$.split("[");for(let K=1;K<Z.length;K++){let H=Z[K];if(!H.includes("]"))continue;let J=H.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(J)B.add(J)}}return[...B]},O$=($,B)=>{if($.length!==B.length)return!1;let Z=new Set($);for(let K of B)if(!Z.has(K))return!1;return!0},K$=($)=>A($)&&$.length>=2,F=($,B,Z)=>{if(A($)){let K=$(B);if(y(K)&&Z)return Z(B,K);else return K}else return $},H$=($,B,Z)=>{let K=new MutationObserver(Z),H={childList:!0,subtree:!0},J=_$(B);if(J.length)H.attributes=!0,H.attributeFilter=J;return K.observe($,H),K},q$=($)=>(B)=>{let Z=new Set,K=()=>Array.from(B.querySelectorAll($)),H=j,J,W=0,Q=2,I=()=>{H=K(),J=H$(B,$,()=>{if(!Z.size){J?.disconnect(),J=void 0;return}if(W++,W>Q)throw J?.disconnect(),J=void 0,W=0,new z$("Circular mutation in element selection detected");try{let X=K();if(!O$(H,X))H=X,P(Z)}finally{W--}})};return{[Symbol.toStringTag]:k,get(){if(R(Z),!Z.size)H=K();else if(!J)I();return H}}},R$=($,B,Z,K)=>b(()=>q$(B)($).get().reduce(Z,K)),x$=($,B,Z)=>{let K=$.querySelector(B);return Z(K,K?L$(K):!1)},F$=($,B)=>{let Z=$.querySelector(B);if(!Z)throw new Error(`Component ${G($)} does not contain required <${B}> element`);return Z},D$=($,B,Z,K)=>(H)=>{let J=H.querySelector($);if(J){let W=B(J);if(W!=null)return F(W,H,Z)}if(K!=null)return F(K,H,Z);throw new Error(`Component ${G(H)} does not contain required <${$}> element`)},T$=($,B,Z)=>(K)=>{let H=F$(K,$);if(!c(H))throw new Error(`Element ${$} is not a custom element`);return b(async()=>{return await customElements.whenDefined(H.localName),B(H)??F(Z,K)})};var w$=new Set(["constructor","prototype"]),N$=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),U$=($)=>{if(w$.has($))return`Property name "${$}" is a reserved word`;if(N$.has($))return`Property name "${$}" conflicts with inherited HTMLElement property`;return null},J$=($,B,Z=B)=>{let K=$.filter(A).map((H)=>H(B,Z));return()=>{K.filter(A).forEach((H)=>H()),K.length=0}},S$=()=>({first:($,...B)=>(Z)=>{let K=(Z.shadowRoot||Z).querySelector($);if(K)J$(B,Z,K)},all:($,...B)=>(Z)=>{let K=new Map,H=Z.shadowRoot||Z,J=(X)=>{if(!K.has(X))K.set(X,J$(B,Z,X))},W=(X)=>{let Y=K.get(X);if(A(Y))Y();K.delete(X)},Q=(X)=>(Y)=>{if(j$(Y)){if(Y.matches($))X(Y);Y.querySelectorAll($).forEach(X)}},I=H$(H,$,(X)=>{for(let Y of X)Y.addedNodes.forEach(Q(J)),Y.removedNodes.forEach(Q(W))});return H.querySelectorAll($).forEach(J),()=>{I.disconnect(),K.forEach((X)=>X()),K.clear()}}}),k$=($,B={},Z)=>{for(let H of Object.keys(B)){let J=U$(H);if(J)throw new TypeError(`${J} in component "${$}".`)}class K extends HTMLElement{debug;#$={};#B;static observedAttributes=Object.entries(B)?.filter(([,H])=>K$(H)).map(([H])=>H)??[];connectedCallback(){if(C){if(this.debug=this.hasAttribute("debug"),this.debug)U(this,"Connected")}for(let[J,W]of Object.entries(B)){if(W==null||J in this)continue;let Q=A(W)?W(this,null):W;if(Q!=null)this.setSignal(J,T(Q))}let H=Z(this,S$());if(!Array.isArray(H))throw new TypeError(`Expected array of functions as return value of setup function in ${G(this)}`);this.#B=J$(H,this)}disconnectedCallback(){if(A(this.#B))this.#B();if(C&&this.debug)U(this,"Disconnected")}attributeChangedCallback(H,J,W){if(W===J||g(this.#$[H]))return;let Q=B[H];if(!K$(Q))return;let I=Q(this,W,J);if(C&&this.debug)U(W,`Attribute "${String(H)}" of ${G(this)} changed from ${h(J)} to ${h(W)}, parsed as <${r(I)}> ${h(I)}`);if(H in this)this[H]=I;else this.setSignal(H,T(I))}getSignal(H){let J=this.#$[H];if(C&&this.debug)U(J,`Get ${r(J)} "${String(H)}" in ${G(this)}`);return J}setSignal(H,J){let W=U$(String(H));if(W)throw new TypeError(`${W} on ${G(this)}.`);if(!D(J))throw new TypeError(`Expected signal as value for property "${String(H)}" on ${G(this)}.`);let Q=this.#$[H],I=x(J);if(this.#$[H]=J,Object.defineProperty(this,H,{get:J.get,set:I?J.set:void 0,enumerable:!0,configurable:I}),Q&&x(Q))Q.set(j);if(C&&this.debug)U(J,`Set ${r(J)} "${String(H)} in ${G(this)}`)}}customElements.define($,K)};var w=Symbol("RESET"),p=($,B,Z,K)=>{try{return y($)?B.getSignal($).get():D($)?$.get():A($)?$(Z):w}catch(H){if(K)U(H,`Failed to resolve value of ${h($)}${K?` for ${K}`:""} in ${G(Z)}${B!==Z?` in ${G(B)}`:""}`,f);return w}};var b$=($,B,Z)=>(K)=>{let H=new Set,J=F($,K),W=new Map,Q,I=()=>{for(let[X,Y]of Object.entries(Z)){let z=(q)=>{let V=q.target;if(!V)return;let _=V.closest(B);if(!_||!K.contains(_))return;q.stopPropagation();try{let L=Y({event:q,host:K,target:_,value:J});if(L==null)return;if(!Object.is(L,J)){if(J=L,H.size>0)P(H);else if(Q)Q()}}catch(L){throw q.stopImmediatePropagation(),L}};W.set(X,z),K.addEventListener(X,z)}Q=()=>{if(W.size){for(let[X,Y]of W)K.removeEventListener(X,Y);W.clear()}Q=void 0}};return{[Symbol.toStringTag]:k,get(){if(R(H),H.size&&!W.size)I();return J}}},E$=($,B,Z=!1)=>(K,H)=>{if(!A(B))throw new TypeError(`Invalid event listener provided for "${$} event on element ${G(H)}`);return H.addEventListener($,B,Z),()=>H.removeEventListener($,B)},f$=($,B)=>(Z,K)=>E(()=>{let H=p(B,Z,K,`custom event "${$}" detail`);if(H===w||H===j)return;K.dispatchEvent(new CustomEvent($,{detail:H,bubbles:!0}))});var W$="context-request";class y$ extends Event{$;B;Z;constructor($,B,Z=!1){super(W$,{bubbles:!0,composed:!0});this.context=$;this.callback=B;this.subscribe=Z}}var d$=($)=>(B)=>{let Z=(K)=>{let{context:H,callback:J}=K;if($.includes(H)&&A(J))K.stopImmediatePropagation(),J(B.getSignal(String(H)))};return B.addEventListener(W$,Z),()=>B.removeEventListener(W$,Z)},g$=($,B)=>(Z)=>{let K=T(F(B,Z));return Z.dispatchEvent(new y$($,(H)=>{K=H})),K};var Q$=($,B)=>{if(B==null)return;let Z=$(B);return Number.isFinite(Z)?Z:void 0},h$=()=>($,B)=>B!=null&&B!=="false",p$=($=0)=>{let B=(Z,K)=>{if(K==null)return F($,Z,B);let H=K.trim();if(H.toLowerCase().startsWith("0x"))return Q$((W)=>parseInt(W,16),H)??F($,Z,B);let J=Q$(parseFloat,K);return J!=null?Math.trunc(J):F($,Z,B)};return B},m$=($=0)=>{let B=(Z,K)=>Q$(parseFloat,K)??F($,Z,B);return B},v$=($="")=>(B,Z)=>Z??F($,B),u$=($)=>(B,Z)=>{if(Z==null)return $[0];let K=Z.toLowerCase();return $.find((J)=>J.toLowerCase()===K)?Z:$[0]},c$=($)=>{let B=(Z,K)=>{if((K??$)==null)throw new TypeError("asJSON: Value and fallback are both null or undefined");if(K==null)return F($,Z,B);if(K==="")throw new TypeError("Empty string is not valid JSON");let H;try{H=JSON.parse(K)}catch(J){throw new TypeError(`asJSON: Failed to parse JSON: ${String(J)}`,{cause:J})}return H??F($,Z,B)};return B};var i$=($,B="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[$]+B},n$=($,B,Z,K,H)=>{return{ok:(Q)=>()=>{if(C&&$.debug)U(B,`${Q} ${Z} of ${G(B)} in ${G($)}`);K?.(B)},err:(Q)=>(I)=>{U(I,`Failed to ${Q} ${Z} of ${G(B)} in ${G($)}`,f),H?.(I)}}},X$=($,B)=>{return Symbol(B?`${$}:${B}`:$)},o$=($)=>{if(/^(mailto|tel):/i.test($))return!0;if($.includes("://"))try{let B=new URL($,window.location.origin);return["http:","https:","ftp:"].includes(B.protocol)}catch{return!1}return!0},s$=($,B,Z)=>{if(/^on/i.test(B))throw new Error(`Unsafe attribute: ${B}`);if(Z=String(Z).trim(),!o$(Z))throw new Error(`Unsafe URL for ${B}: ${Z}`);$.setAttribute(B,Z)},M=($,B)=>(Z,K)=>{let{op:H,name:J="",read:W,update:Q}=B,I=W(K),X=i$(H,J);if(y($)&&y(I)&&Z[$]===w)Z.attributeChangedCallback($,null,I);let{ok:Y,err:z}=n$(Z,K,X,B.resolve,B.reject);return E(()=>{let q=X$(H,J),V=p($,Z,K,X),_=V===w?I:V===j?B.delete?null:I:V;if(B.delete&&_===null)S(()=>{return B.delete(K),!0},q).then(Y("Deleted")).catch(z("delete"));else if(_!=null){let L=W(K);if(Object.is(_,L))return;S(()=>{return Q(K,_),!0},q).then(Y("Updated")).catch(z("update"))}})},l$=($,B)=>(Z,K)=>{let H=(W)=>()=>{if(C&&Z.debug)U(K,`${W} element in ${G(K)} in ${G(Z)}`);if(A(B?.resolve))B.resolve(K);else{let Q=D($)?$:y($)?Z.getSignal($):void 0;if(x(Q))Q.set(0)}},J=(W)=>(Q)=>{U(Q,`Failed to ${W} element in ${G(K)} in ${G(Z)}`,f),B?.reject?.(Q)};return E(()=>{let W=X$("i"),Q=X$("r"),I=p($,Z,K,"insertion or deletion"),X=I===w?0:I;if(X>0){if(!B)throw new TypeError("No inserter provided");S(()=>{for(let Y=0;Y<X;Y++){let z=B.create(K);if(!z)continue;K.insertAdjacentElement(B.position??"beforeend",z)}return!0},W).then(H("Inserted")).catch(J("insert"))}else if(X<0)S(()=>{if(B&&(B.position==="afterbegin"||B.position==="beforeend"))for(let Y=0;Y>X;Y--)if(B.position==="afterbegin")K.firstElementChild?.remove();else K.lastElementChild?.remove();else K.remove();return!0},Q).then(H("Removed")).catch(J("remove"))})},r$=($)=>M($,{op:"t",read:(B)=>B.textContent,update:(B,Z)=>{Array.from(B.childNodes).filter((K)=>K.nodeType!==Node.COMMENT_NODE).forEach((K)=>K.remove()),B.append(document.createTextNode(Z))}}),a$=($,B=$)=>M(B,{op:"p",name:String($),read:(Z)=>($ in Z)?Z[$]:j,update:(Z,K)=>{Z[$]=K}}),t$=($)=>M($,{op:"p",name:"hidden",read:(B)=>!B.hidden,update:(B,Z)=>{B.hidden=!Z}});var e$=($)=>M($,{op:"m",name:"focus",read:(B)=>B===document.activeElement,update:(B,Z)=>{if(Z&&Z$(B,"focus"))B.focus()}}),$B=($,B=$)=>M(B,{op:"a",name:$,read:(Z)=>Z.getAttribute($),update:(Z,K)=>{s$(Z,$,K)},delete:(Z)=>{Z.removeAttribute($)}}),BB=($,B=$)=>M(B,{op:"a",name:$,read:(Z)=>Z.hasAttribute($),update:(Z,K)=>{Z.toggleAttribute($,K)}}),ZB=($,B=$)=>M(B,{op:"c",name:$,read:(Z)=>Z.classList.contains($),update:(Z,K)=>{Z.classList.toggle($,K)}}),KB=($,B=$)=>M(B,{op:"s",name:$,read:(Z)=>Z.style.getPropertyValue($),update:(Z,K)=>{Z.style.setProperty($,K)},delete:(Z)=>{Z.style.removeProperty($)}}),HB=($,B={})=>M($,{op:"h",read:(Z)=>(Z.shadowRoot||!B.shadowRootMode?Z:null)?.innerHTML??"",update:(Z,K)=>{let{shadowRootMode:H,allowScripts:J}=B;if(!K){if(Z.shadowRoot)Z.shadowRoot.innerHTML="<slot></slot>";return""}if(H&&!Z.shadowRoot)Z.attachShadow({mode:H});let W=Z.shadowRoot||Z;if(W.innerHTML=K,!J)return"";return W.querySelectorAll("script").forEach((Q)=>{let I=document.createElement("script");I.appendChild(document.createTextNode(Q.textContent??"")),W.appendChild(I),Q.remove()})," with scripts"}}),JB=($)=>(B,Z)=>{if(!B$($))throw new TypeError("Reactives must be an object of passed signals");if(!c(Z))throw new TypeError(`Target ${G(Z)} is not a custom element`);customElements.whenDefined(Z.localName).then(()=>{if(!Z$(Z,"setSignal"))throw new TypeError(`Target ${G(Z)} is not a UIElement component`);for(let[K,H]of Object.entries($))Z.setSignal(K,y(H)?B.getSignal(H):T(H))}).catch((K)=>{throw new Error(`Failed to pass signals to ${G(Z)}`,{cause:K})})};export{M as updateElement,ZB as toggleClass,BB as toggleAttribute,T as toSignal,l as state,t$ as show,r$ as setText,KB as setStyle,a$ as setProperty,$B as setAttribute,p as resolveReactive,F$ as requireElement,R$ as reduced,x$ as read,d$ as provideContexts,JB as pass,E$ as on,U as log,x as isState,D as isSignal,g as isComputed,l$ as insertOrRemoveElement,q$ as fromSelector,b$ as fromEvents,D$ as fromDOM,g$ as fromContext,T$ as fromComponent,e$ as focus,S as enqueue,f$ as emitEvent,E as effect,HB as dangerouslySetInnerHTML,b as computed,k$ as component,Y$ as batch,v$ as asString,m$ as asNumber,c$ as asJSON,p$ as asInteger,u$ as asEnum,h$ as asBoolean,j as UNSET,w as RESET,A$ as LOG_WARN,C$ as LOG_INFO,f as LOG_ERROR,G$ as LOG_DEBUG};

//# debugId=F03970B56C10720764756E2164756E21
