var k,l=new Set,XH=0,QH=new Map,r,VH=()=>{r=void 0;let H=Array.from(QH.values());QH.clear();for(let B of H)B()},_H=()=>{if(r)cancelAnimationFrame(r);r=requestAnimationFrame(VH)};queueMicrotask(VH);var m=(H)=>{let B=new Set,K=H;return K.off=($)=>{B.add($)},K.cleanup=()=>{for(let $ of B)$();B.clear()},K},R=(H)=>{if(k&&!H.has(k)){let B=k;H.add(B),k.off(()=>{H.delete(B)})}},O=(H)=>{for(let B of H)if(XH)l.add(B);else B()},a=()=>{while(l.size){let H=Array.from(l);l.clear();for(let B of H)B()}},t=(H)=>{XH++;try{H()}finally{a(),XH--}},v=(H,B)=>{let K=k;k=B;try{H()}finally{k=K}},IH=(H,B)=>new Promise((K,$)=>{QH.set(B||Symbol(),()=>{try{K(H())}catch(Z){$(Z)}}),_H()});var z=(H)=>typeof H==="function",e=(H,B)=>Object.prototype.toString.call(H)===`[object ${B}]`,c=(H)=>H instanceof Error?H:Error(String(H));class f extends Error{constructor(H){super(`Circular dependency in ${H} detected`);this.name="CircularDependencyError"}}var YH="State",HH=(H)=>{let B=new Set,K=H,$={[Symbol.toStringTag]:YH,get:()=>{return R(B),K},set:(Z)=>{if(Object.is(K,Z))return;if(K=Z,O(B),V===K)B.clear()},update:(Z)=>{$.set(Z(K))}};return $},P=(H)=>e(H,YH);var V=Symbol(),_=(H)=>P(H)||g(H),D=(H)=>_(H)?H:GH(H)?BH(H):HH(H);var E="Computed",BH=(H)=>{let B=new Set,K=V,$,Z,L=!0,A=!1,J=!1,x=(y)=>{if(!Object.is(y,K))K=y,A=!0;$=void 0,L=!1},W=()=>{A=V!==K,K=V,$=void 0},X=(y)=>{let j=c(y);A=!$||j.name!==$.name||j.message!==$.message,K=V,$=j},Y=(y)=>(j)=>{if(J=!1,Z=void 0,y(j),A)O(B)},G=m(()=>{if(L=!0,Z?.abort("Aborted because source signal changed"),B.size)O(B);else G.cleanup()}),U=()=>v(()=>{if(J)throw new f("computed");if(A=!1,z(H)&&H.constructor.name==="AsyncFunction"){if(Z)return K;Z=new AbortController,Z.signal.addEventListener("abort",()=>{J=!1,Z=void 0,U()},{once:!0})}let y;J=!0;try{y=Z?H(Z.signal):H()}catch(j){if(j instanceof DOMException&&j.name==="AbortError")W();else X(j);J=!1;return}if(y instanceof Promise)y.then(Y(x),Y(X));else if(y==null||V===y)W();else x(y);J=!1},G);return{[Symbol.toStringTag]:E,get:()=>{if(R(B),a(),L)U();if($)throw $;return K}}},g=(H)=>e(H,E),GH=(H)=>z(H)&&H.length<2;function b(H){let{signals:B,ok:K,err:$=(J)=>{console.error(J)},nil:Z=()=>{}}=z(H)?{signals:[],ok:H}:H,L=!1,A=m(()=>v(()=>{if(L)throw new f("effect");L=!0;let J=[],x=!1,W=B.map((Y)=>{try{let G=Y.get();if(G===V)x=!0;return G}catch(G){return J.push(c(G)),V}}),X;try{X=x?Z():J.length?$(...J):K(...W)}catch(Y){X=$(c(Y))}finally{if(z(X))A.off(X)}L=!1},A));return A(),()=>A.cleanup()}var M=!1,UH="debug",DH="info",KH="warn",T="error",TH=(H)=>H?`#${H}`:"",wH=(H)=>H?.length?`.${Array.from(H).join(".")}`:"",u=(H)=>!!H&&typeof H==="object",w=(H)=>typeof H==="string",FH=(H,B)=>w(B)&&(B in H)&&z(H[B]),qH=(H)=>H.nodeType===Node.ELEMENT_NODE,i=(H)=>H.localName.includes("-");var Q=(H)=>H?`<${H.localName}${TH(H.id)}${wH(H.classList)}>`:"<unknown>",d=(H)=>w(H)?`"${H}"`:u(H)?JSON.stringify(H):String(H),$H=(H)=>{if(H===null)return"null";if(typeof H!=="object")return typeof H;if(Array.isArray(H))return"Array";if(Symbol.toStringTag in Object(H))return H[Symbol.toStringTag];return H.constructor?.name||"Object"},I=(H,B,K=UH)=>{if(M||[T,KH].includes(K))console[K](B,H);return H};class ZH extends Error{constructor(H,B){super(`Circular dependency detected in selection signal for component ${Q(H)} with selector "${B}"`);this.name="CircularMutationError"}}class LH extends Error{constructor(H){super(`Invalid component name "${H}". Custom element names must contain a hyphen, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.`);this.name="InvalidComponentNameError"}}class o extends Error{constructor(H,B,K){super(`Invalid property name "${B}" for component <${H}>. ${K}`);this.name="InvalidPropertyNameError"}}class JH extends Error{constructor(H,B){super(`Invalid effects in component ${Q(H)}. Effects must be an array of effects, a single effect function, or a Promise that resolves to effects.`);if(this.name="InvalidEffectsError",B)this.cause=B}}class WH extends Error{constructor(H,B){super(`Expected signal as value for property "${String(B)}" in component ${Q(H)}.`);this.name="InvalidSignalError"}}class n extends Error{constructor(H,B,K){super(`Missing required element <${B}> in component ${Q(H)}. ${K}`);this.name="MissingElementError"}}class xH extends Error{constructor(H,B){super(`Timeout waiting for: [${B.join(", ")}] in component ${Q(H)}.`);this.name="DependencyTimeoutError"}}var N=Symbol("RESET"),p=(H,B,K=B)=>{try{if(H instanceof Promise)throw H;if(!Array.isArray(H))return H(B,K);let $=H.filter(z).map((Z)=>Z(B,K));return()=>{$.filter(z).forEach((Z)=>Z()),$.length=0}}catch($){if($ instanceof Promise)$.then(()=>p(H,B,K));else throw new JH(B,$ instanceof Error?$:new Error(String($)))}},h=(H,B,K,$)=>{try{return w(H)?B.getSignal(H).get():_(H)?H.get():z(H)?H(K):N}catch(Z){if($)I(Z,`Failed to resolve value of ${d(H)}${$?` for ${$}`:""} in ${Q(K)}${B!==K?` in ${Q(B)}`:""}`,T);return N}};var SH=(H)=>{let B=new Set;if(H.includes("."))B.add("class");if(H.includes("#"))B.add("id");if(H.includes("[")){let K=H.split("[");for(let $=1;$<K.length;$++){let Z=K[$];if(!Z.includes("]"))continue;let L=Z.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(L)B.add(L)}}return[...B]},NH=(H,B)=>{if(H.length!==B.length)return!1;let K=new Set(H);for(let $ of B)if(!K.has($))return!1;return!0},s=(H)=>z(H)&&H.length>=2,F=(H,B)=>z(B)?B(H):B,AH=(H,B)=>(K)=>{let $=K.shadowRoot??K,Z=(A,J)=>{let x=$.querySelector(A);if(!x)return;let W=J(x);if(W!=null)return W},L=void 0;for(let[A,J]of Object.entries(H))if(L=Z(A,J),L!=null)break;return w(L)&&s(B)?B(K,L):L??F(K,B)},CH=(H,B,K)=>{let $=new MutationObserver(K),Z={childList:!0,subtree:!0},L=SH(B);if(L.length)Z.attributes=!0,Z.attributeFilter=L;return $.observe(H,Z),$},PH=(H)=>{let B=H.shadowRoot??H,K=new Set;function $(J,x){let W=B.querySelector(J);if(x!=null&&!W)throw new n(H,J,x);if(W&&i(W)&&W.matches(":not(:defined)"))K.add(W.localName);return W}function Z(J,x){let W=B.querySelectorAll(J);if(x!=null&&!W.length)throw new n(H,J,x);if(W.length)W.forEach((X)=>{if(i(X)&&X.matches(":not(:defined)"))K.add(X.localName)});return Array.from(W)}return[{useElement:$,useElements:Z,first:(J,x,W)=>{let X=W!=null?$(J,W):$(J);return()=>{if(X)return p(x,H,X)}},all:(J,x,W)=>{let X=W!=null?Z(J,W):Z(J);return()=>{let Y=new Map,G=(j)=>{let q=p(x,H,j);if(q&&!Y.has(j))Y.set(j,q)},U=(j)=>{let q=Y.get(j);if(q)q();Y.delete(j)},C=(j)=>(q)=>{if(qH(q)){if(q.matches(J))j(q);q.querySelectorAll(J).forEach(j)}},y=CH(B,J,(j)=>{for(let q of j)q.addedNodes.forEach(C(G)),q.removedNodes.forEach(C(U))});if(X.length)X.forEach(G);return()=>{y.disconnect(),Y.forEach((j)=>j()),Y.clear()}}}},()=>Array.from(K)]};function kH(H){return(B)=>{let K=new Set,$=()=>Array.from((B.shadowRoot??B).querySelectorAll(H)),Z=V,L,A=0,J=2,x=()=>{Z=$(),L=CH(B,H,()=>{if(!K.size){L?.disconnect(),L=void 0;return}if(A++,A>J)throw L?.disconnect(),L=void 0,A=0,new ZH(B,H);try{let W=$();if(!NH(Z,W))Z=W,O(K)}finally{A--}})};return{[Symbol.toStringTag]:E,get(){if(R(K),!K.size)Z=$();else if(!L)x();return Z}}}}var EH=50,bH=new Set(["constructor","prototype"]),fH=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),MH=(H)=>{if(bH.has(H))return`Property name "${H}" is a reserved word`;if(fH.has(H))return`Property name "${H}" conflicts with inherited HTMLElement property`;return null};function gH(H,B={},K){if(!H.includes("-")||!H.match(/^[a-z][a-z0-9-]*$/))throw new LH(H);for(let Z of Object.keys(B)){let L=MH(Z);if(L)throw new o(H,Z,L)}class $ extends HTMLElement{debug;#H={};#B;static observedAttributes=Object.entries(B)?.filter(([,Z])=>s(Z)).map(([Z])=>Z)??[];connectedCallback(){if(M){if(this.debug=this.hasAttribute("debug"),this.debug)I(this,"Connected")}for(let[W,X]of Object.entries(B)){if(X==null||W in this)continue;let Y=z(X)?X(this,null):X;if(Y!=null)this.setSignal(W,D(Y))}let[Z,L]=PH(this),A=K(this,Z),J=L(),x=()=>{let W=p(A,this);if(W)this.#B=W};if(J.length)Promise.race([Promise.all(J.map((W)=>customElements.whenDefined(W))),new Promise((W,X)=>{setTimeout(()=>{X(new xH(this,J.filter((Y)=>!customElements.get(Y))))},EH)})]).then(x).catch((W)=>{if(M)I(W,`Error during setup of <${H}>. Trying to run effects anyway.`,KH);x()});else x()}disconnectedCallback(){if(z(this.#B))this.#B();if(M&&this.debug)I(this,"Disconnected")}attributeChangedCallback(Z,L,A){if(A===L||g(this.#H[Z]))return;let J=B[Z];if(!s(J))return;let x=J(this,A,L);if(M&&this.debug)I(A,`Attribute "${String(Z)}" of ${Q(this)} changed from ${d(L)} to ${d(A)}, parsed as <${$H(x)}> ${d(x)}`);if(Z in this)this[Z]=x;else this.setSignal(Z,D(x))}getSignal(Z){let L=this.#H[Z];if(M&&this.debug)I(L,`Get ${$H(L)} "${String(Z)}" in ${Q(this)}`);return L}setSignal(Z,L){let A=MH(String(Z));if(A)throw new o(this.localName,Z,A);if(!_(L))throw new WH(this,Z);let J=this.#H[Z],x=P(L);if(this.#H[Z]=L,Object.defineProperty(this,Z,{get:L.get,set:x?L.set:void 0,enumerable:!0,configurable:x}),J&&P(J))J.set(V);if(M&&this.debug)I(L,`Set ${$H(L)} "${String(Z)} in ${Q(this)}`)}}customElements.define(H,$)}var yH="context-request";class OH extends Event{H;B;K;constructor(H,B,K=!1){super(yH,{bubbles:!0,composed:!0});this.context=H;this.callback=B;this.subscribe=K}}var dH=(H)=>(B)=>{let K=($)=>{let{context:Z,callback:L}=$;if(H.includes(Z)&&z(L))$.stopImmediatePropagation(),L(B.getSignal(String(Z)))};return B.addEventListener(yH,K),()=>B.removeEventListener(yH,K)},pH=(H,B)=>(K)=>{let $=D(F(K,B));return K.dispatchEvent(new OH(H,(Z)=>{$=Z})),$};var hH=(H,B,K)=>($)=>{let Z=new Set,L=F($,K),A=new Map,J,x=()=>{for(let[W,X]of Object.entries(B)){let Y=(G)=>{let U=G.target;if(!U)return;let C=U.closest(H);if(!C||!$.contains(C))return;G.stopPropagation();try{let y=X({event:G,host:$,target:C,value:L});if(y==null)return;if(!Object.is(y,L)){if(L=y,Z.size>0)O(Z);else if(J)J()}}catch(y){throw G.stopImmediatePropagation(),y}};A.set(W,Y),$.addEventListener(W,Y)}J=()=>{if(A.size){for(let[W,X]of A)$.removeEventListener(W,X);A.clear()}J=void 0}};return{[Symbol.toStringTag]:E,get(){if(R(Z),Z.size&&!A.size)x();return L}}},mH=(H,B,K=!1)=>($,Z)=>{let L=(A)=>{let J=B({host:$,target:Z,event:A});if(!u(J))return;t(()=>{for(let[x,W]of Object.entries(J)){let X=$.getSignal(x);if(P(X))X.set(W);else I(W,`Reactive property "${x}" on ${Q($)} from event ${H} on ${Q(Z)} could not be set, because it is read-only.`,T)}})};return Z.addEventListener(H,L,K),()=>Z.removeEventListener(H,L)},vH=(H,B)=>(K,$)=>b(()=>{let Z=h(B,K,$,`custom event "${H}" detail`);if(Z===N||Z===V)return;$.dispatchEvent(new CustomEvent(H,{detail:Z,bubbles:!0}))});var cH=(H,B="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[H]+B},uH=(H)=>{if(/^(mailto|tel):/i.test(H))return!0;if(H.includes("://"))try{let B=new URL(H,window.location.origin);return["http:","https:","ftp:"].includes(B.protocol)}catch{return!1}return!0},iH=(H,B,K)=>{if(/^on/i.test(B))throw new Error(`Unsafe attribute: ${B}`);if(K=String(K).trim(),!uH(K))throw new Error(`Unsafe URL for ${B}: ${K}`);H.setAttribute(B,K)},S=(H,B)=>(K,$)=>{let{op:Z,name:L="",read:A,update:J}=B,x=A($),W=cH(Z,L),X=(G)=>()=>{if(M&&K.debug)I($,`${G} ${W} of ${Q($)} in ${Q(K)}`);B.resolve?.($)},Y=(G)=>(U)=>{I(U,`Failed to ${G} ${W} of ${Q($)} in ${Q(K)}`,T),B.reject?.(U)};return b(()=>{let G=h(H,K,$,W),U=G===N?x:G===V?B.delete?null:x:G;if(B.delete&&U===null)try{B.delete($),X("delete")()}catch(C){Y("delete")(C)}else if(U!=null){let C=A($);if(Object.is(U,C))return;try{J($,U),X("update")()}catch(y){Y("update")(y)}}})},oH=(H,B)=>(K,$)=>{let Z=(A)=>()=>{if(M&&K.debug)I($,`${A} element in ${Q($)} in ${Q(K)}`);if(z(B?.resolve))B.resolve($);else{let J=_(H)?H:w(H)?K.getSignal(H):void 0;if(P(J))J.set(0)}},L=(A)=>(J)=>{I(J,`Failed to ${A} element in ${Q($)} in ${Q(K)}`,T),B?.reject?.(J)};return b(()=>{let A=h(H,K,$,"insertion or deletion"),J=A===N?0:A;if(J>0){if(!B)throw new TypeError("No inserter provided");try{for(let x=0;x<J;x++){let W=B.create($);if(!W)continue;$.insertAdjacentElement(B.position??"beforeend",W)}Z("insert")()}catch(x){L("insert")(x)}}else if(J<0)try{if(B&&(B.position==="afterbegin"||B.position==="beforeend"))for(let x=0;x>J;x--)if(B.position==="afterbegin")$.firstElementChild?.remove();else $.lastElementChild?.remove();else $.remove();Z("remove")()}catch(x){L("remove")(x)}})},nH=(H)=>S(H,{op:"t",read:(B)=>B.textContent,update:(B,K)=>{Array.from(B.childNodes).filter(($)=>$.nodeType!==Node.COMMENT_NODE).forEach(($)=>$.remove()),B.append(document.createTextNode(K))}}),sH=(H,B=H)=>S(B,{op:"p",name:H,read:(K)=>(H in K)?K[H]:V,update:(K,$)=>{K[H]=$}}),lH=(H)=>S(H,{op:"p",name:"hidden",read:(B)=>!B.hidden,update:(B,K)=>{B.hidden=!K}});var rH=(H,B=H)=>S(B,{op:"a",name:H,read:(K)=>K.getAttribute(H),update:(K,$)=>{iH(K,H,$)},delete:(K)=>{K.removeAttribute(H)}}),aH=(H,B=H)=>S(B,{op:"a",name:H,read:(K)=>K.hasAttribute(H),update:(K,$)=>{K.toggleAttribute(H,$)}}),tH=(H,B=H)=>S(B,{op:"c",name:H,read:(K)=>K.classList.contains(H),update:(K,$)=>{K.classList.toggle(H,$)}}),eH=(H,B=H)=>S(B,{op:"s",name:H,read:(K)=>K.style.getPropertyValue(H),update:(K,$)=>{K.style.setProperty(H,$)},delete:(K)=>{K.style.removeProperty(H)}}),HB=(H,B={})=>S(H,{op:"h",read:(K)=>(K.shadowRoot||!B.shadowRootMode?K:null)?.innerHTML??"",update:(K,$)=>{let{shadowRootMode:Z,allowScripts:L}=B;if(!$){if(K.shadowRoot)K.shadowRoot.innerHTML="<slot></slot>";return""}if(Z&&!K.shadowRoot)K.attachShadow({mode:Z});let A=K.shadowRoot||K;if(A.innerHTML=$,!L)return"";return A.querySelectorAll("script").forEach((J)=>{let x=document.createElement("script");x.appendChild(document.createTextNode(J.textContent??"")),A.appendChild(x),J.remove()})," with scripts"}}),BB=(H)=>(B,K)=>{if(!u(H))throw new TypeError("Reactives must be an object of passed signals");if(!i(K))throw new TypeError(`Target ${Q(K)} is not a custom element`);if(!FH(K,"setSignal"))throw new TypeError(`Target ${Q(K)} is not a UIElement component`);for(let[$,Z]of Object.entries(H))K.setSignal($,w(Z)?B.getSignal(Z):D(Z))};var jH=()=>(H)=>H.textContent?.trim(),KB=(H)=>(B)=>{let K=B.getAttribute(H);return K?document.getElementById(K)?.textContent?.trim():void 0},$B=(H)=>(B)=>B[H],ZB=(H)=>(B)=>B.hasAttribute(H),RH=(H)=>(B)=>B.getAttribute(H),LB=(H)=>(B)=>B.classList.contains(H),JB=(H)=>(B)=>window.getComputedStyle(B).getPropertyValue(H),WB=(H)=>AH({".label":jH(),[H]:RH("aria-label")},""),xB=(H)=>AH({".description":jH(),[H]:KB("aria-describedby")},"");var zH=(H,B)=>{if(B==null)return;let K=H(B);return Number.isFinite(K)?K:void 0},AB=()=>(H,B)=>B!=null&&B!=="false",XB=(H=0)=>(B,K)=>{if(K==null)return F(B,H);let $=K.trim();if($.toLowerCase().startsWith("0x"))return zH((L)=>parseInt(L,16),$)??F(B,H);let Z=zH(parseFloat,K);return Z!=null?Math.trunc(Z):F(B,H)},QB=(H=0)=>(B,K)=>zH(parseFloat,K)??F(B,H),YB=(H="")=>(B,K)=>K??F(B,H),GB=(H)=>(B,K)=>{if(K==null)return H[0];let $=K.toLowerCase();return H.find((L)=>L.toLowerCase()===$)?K:H[0]},yB=(H)=>(B,K)=>{if((K??H)==null)throw new TypeError("asJSON: Value and fallback are both null or undefined");if(K==null)return F(B,H);if(K==="")throw new TypeError("Empty string is not valid JSON");let $;try{$=JSON.parse(K)}catch(Z){throw new SyntaxError(`Failed to parse JSON: ${String(Z)}`,{cause:Z})}return $??F(B,H)};export{S as updateElement,tH as toggleClass,aH as toggleAttribute,D as toSignal,HH as state,lH as show,nH as setText,eH as setStyle,sH as setProperty,rH as setAttribute,h as resolveReactive,dH as provideContexts,BB as pass,mH as on,I as log,P as isState,_ as isSignal,s as isParser,g as isComputed,oH as insertOrRemoveElement,LB as hasClass,ZB as hasAttribute,jH as getText,JB as getStyle,$B as getProperty,WB as getLabel,F as getFallback,xB as getDescription,RH as getAttribute,kH as fromSelector,hH as fromEvents,AH as fromDOM,pH as fromContext,IH as enqueue,vH as emitEvent,b as effect,HB as dangerouslySetInnerHTML,BH as computed,gH as component,t as batch,YB as asString,QB as asNumber,yB as asJSON,XB as asInteger,GB as asEnum,AB as asBoolean,V as UNSET,N as RESET,n as MissingElementError,KH as LOG_WARN,DH as LOG_INFO,T as LOG_ERROR,UH as LOG_DEBUG,WH as InvalidSignalError,o as InvalidPropertyNameError,JH as InvalidEffectsError,LH as InvalidComponentNameError,xH as DependencyTimeoutError,ZH as CircularMutationError};

//# debugId=F60EAFD15AE7BDFE64756E2164756E21
